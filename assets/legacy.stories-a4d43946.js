import{s as si,m as ui,u as co,r as ci,b as fo,c as lo,d as fi,a as li,j as lr,T as vi,t as $a,e as di}from"./article-f216a044.js";import{c as Rr,g as hr,b as hi,r as bn}from"./isSymbol-5f0d4ff2.js";import{_ as mi,a as yi,b as gi,c as pi}from"./_baseClone-07a2b83f.js";import{h as ki,b as _i,i as Ai,_ as Si,c as wi,d as Oi,e as Ti,f as vo,g as xi,j as Ni}from"./_Uint8Array-7a97f5ae.js";import{a as Ei}from"./isPlainObject-95cb902b.js";const bi=r=>Fn(r),Fn=r=>r.reduce((n,t)=>{const e=Fi(t);return e&&n.push(e),n},[]),Fi=r=>{switch(r.object){case"block":{const{type:n,nodes:t,data:e}=r;return{type:n,children:Fn(t),...e}}case"inline":{const{type:n,nodes:t,data:e}=r;return{type:n,children:Fn(t),...e}}case"text":{const{text:n="",marks:t}=r;return{text:n,...t==null?void 0:t.reduce((e,o)=>(e[o.type]=!0,e),{})}}}return null},Pi=function(){return function(r){return si({type:"root",children:bi(r.children)},{})}},Bi=Pi,Ii=r=>({object:"value",document:{object:"document",nodes:Pn(r)}}),Pn=r=>r.reduce((n,t)=>{const e=Ci(t);return e&&n.push(e),n},[]),Ci=r=>{if("text"in r){const{text:n,...t}=r,e=Object.keys(t).reduce((i,u)=>(t[u]&&i.push({object:"mark",type:u}),i),[]);return{object:"text",text:n,marks:e}}switch(r.type){case"paragraph":case"heading":case"blockquote":case"list":case"listItem":case"table":case"tableRow":case"tableCell":case"html":case"code":case"yaml":case"toml":case"thematicBreak":case"definition":case"break":case"math":{const{type:n,children:t,...e}=r;return{object:"block",type:n,nodes:Pn(t),data:{...e}}}case"footnoteDefinition":case"link":case"linkReference":case"image":case"imageReference":case"footnote":case"footnoteReference":case"inlineMath":{const{type:n,children:t,...e}=r;return{object:"inline",type:n,nodes:Pn(t),data:{...e}}}}return null},Ri=function(){this.Compiler=function(r){return Ii(ui(r,{}))}},Mi=Ri;var ho={exports:{}};(function(r,n){(function(t,e){r.exports=e()})(Rr,function(){var t=Array.prototype.slice;function e(a,s){s&&(a.prototype=Object.create(s.prototype)),a.prototype.constructor=a}function o(a){return f(a)?a:_e(a)}e(i,o);function i(a){return v(a)?a:Pe(a)}e(u,o);function u(a){return h(a)?a:ne(a)}e(c,o);function c(a){return f(a)&&!y(a)?a:Ke(a)}function f(a){return!!(a&&a[k])}function v(a){return!!(a&&a[w])}function h(a){return!!(a&&a[N])}function y(a){return v(a)||h(a)}function g(a){return!!(a&&a[x])}o.isIterable=f,o.isKeyed=v,o.isIndexed=h,o.isAssociative=y,o.isOrdered=g,o.Keyed=i,o.Indexed=u,o.Set=c;var k="@@__IMMUTABLE_ITERABLE__@@",w="@@__IMMUTABLE_KEYED__@@",N="@@__IMMUTABLE_INDEXED__@@",x="@@__IMMUTABLE_ORDERED__@@",P="delete",F=5,L=1<<F,M=L-1,B={},j={value:!1},te={value:!1};function oe(a){return a.value=!1,a}function U(a){a&&(a.value=!0)}function se(){}function $(a,s){s=s||0;for(var l=Math.max(0,a.length-s),d=new Array(l),m=0;m<l;m++)d[m]=a[m+s];return d}function ue(a){return a.size===void 0&&(a.size=a.__iterate(H)),a.size}function ve(a,s){if(typeof s!="number"){var l=s>>>0;if(""+l!==s||l===4294967295)return NaN;s=l}return s<0?ue(a)+s:s}function H(){return!0}function re(a,s,l){return(a===0||l!==void 0&&a<=-l)&&(s===void 0||l!==void 0&&s>=l)}function Z(a,s){return Y(a,s,0)}function K(a,s){return Y(a,s,s)}function Y(a,s,l){return a===void 0?l:a<0?Math.max(0,s+a):s===void 0?a:Math.min(s,a)}var qe=0,Se=1,Fe=2,Oe=typeof Symbol=="function"&&Symbol.iterator,xe="@@iterator",Je=Oe||xe;function V(a){this.next=a}V.prototype.toString=function(){return"[Iterator]"},V.KEYS=qe,V.VALUES=Se,V.ENTRIES=Fe,V.prototype.inspect=V.prototype.toSource=function(){return this.toString()},V.prototype[Je]=function(){return this};function Q(a,s,l,d){var m=a===0?s:a===1?l:[s,l];return d?d.value=m:d={value:m,done:!1},d}function ye(){return{value:void 0,done:!0}}function st(a){return!!gt(a)}function Ze(a){return a&&typeof a.next=="function"}function nt(a){var s=gt(a);return s&&s.call(a)}function gt(a){var s=a&&(Oe&&a[Oe]||a[xe]);if(typeof s=="function")return s}function It(a){return a&&typeof a.length=="number"}e(_e,o);function _e(a){return a==null?Ct():f(a)?a.toSeq():Jr(a)}_e.of=function(){return _e(arguments)},_e.prototype.toSeq=function(){return this},_e.prototype.toString=function(){return this.__toString("Seq {","}")},_e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},_e.prototype.__iterate=function(a,s){return _r(this,a,s,!0)},_e.prototype.__iterator=function(a,s){return Ar(this,a,s,!0)},e(Pe,_e);function Pe(a){return a==null?Ct().toKeyedSeq():f(a)?v(a)?a.toSeq():a.fromEntrySeq():pr(a)}Pe.prototype.toKeyedSeq=function(){return this},e(ne,_e);function ne(a){return a==null?Ct():f(a)?v(a)?a.entrySeq():a.toIndexedSeq():Nt(a)}ne.of=function(){return ne(arguments)},ne.prototype.toIndexedSeq=function(){return this},ne.prototype.toString=function(){return this.__toString("Seq [","]")},ne.prototype.__iterate=function(a,s){return _r(this,a,s,!1)},ne.prototype.__iterator=function(a,s){return Ar(this,a,s,!1)},e(Ke,_e);function Ke(a){return(a==null?Ct():f(a)?v(a)?a.entrySeq():a:Nt(a)).toSetSeq()}Ke.of=function(){return Ke(arguments)},Ke.prototype.toSetSeq=function(){return this},_e.isSeq=rr,_e.Keyed=Pe,_e.Set=Ke,_e.Indexed=ne;var yr="@@__IMMUTABLE_SEQ__@@";_e.prototype[yr]=!0,e(Qe,ne);function Qe(a){this._array=a,this.size=a.length}Qe.prototype.get=function(a,s){return this.has(a)?this._array[ve(this,a)]:s},Qe.prototype.__iterate=function(a,s){for(var l=this._array,d=l.length-1,m=0;m<=d;m++)if(a(l[s?d-m:m],m,this)===!1)return m+1;return m},Qe.prototype.__iterator=function(a,s){var l=this._array,d=l.length-1,m=0;return new V(function(){return m>d?ye():Q(a,m,l[s?d-m++:m++])})},e(ut,Pe);function ut(a){var s=Object.keys(a);this._object=a,this._keys=s,this.size=s.length}ut.prototype.get=function(a,s){return s!==void 0&&!this.has(a)?s:this._object[a]},ut.prototype.has=function(a){return this._object.hasOwnProperty(a)},ut.prototype.__iterate=function(a,s){for(var l=this._object,d=this._keys,m=d.length-1,p=0;p<=m;p++){var _=d[s?m-p:p];if(a(l[_],_,this)===!1)return p+1}return p},ut.prototype.__iterator=function(a,s){var l=this._object,d=this._keys,m=d.length-1,p=0;return new V(function(){var _=d[s?m-p:p];return p++>m?ye():Q(a,_,l[_])})},ut.prototype[x]=!0,e(Tt,ne);function Tt(a){this._iterable=a,this.size=a.length||a.size}Tt.prototype.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);var l=this._iterable,d=nt(l),m=0;if(Ze(d))for(var p;!(p=d.next()).done&&a(p.value,m++,this)!==!1;);return m},Tt.prototype.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var l=this._iterable,d=nt(l);if(!Ze(d))return new V(ye);var m=0;return new V(function(){var p=d.next();return p.done?p:Q(a,m++,p.value)})},e(xt,ne);function xt(a){this._iterator=a,this._iteratorCache=[]}xt.prototype.__iterateUncached=function(a,s){if(s)return this.cacheResult().__iterate(a,s);for(var l=this._iterator,d=this._iteratorCache,m=0;m<d.length;)if(a(d[m],m++,this)===!1)return m;for(var p;!(p=l.next()).done;){var _=p.value;if(d[m]=_,a(_,m++,this)===!1)break}return m},xt.prototype.__iteratorUncached=function(a,s){if(s)return this.cacheResult().__iterator(a,s);var l=this._iterator,d=this._iteratorCache,m=0;return new V(function(){if(m>=d.length){var p=l.next();if(p.done)return p;d[m]=p.value}return Q(a,m,d[m++])})};function rr(a){return!!(a&&a[yr])}var gr;function Ct(){return gr||(gr=new Qe([]))}function pr(a){var s=Array.isArray(a)?new Qe(a).fromEntrySeq():Ze(a)?new xt(a).fromEntrySeq():st(a)?new Tt(a).fromEntrySeq():typeof a=="object"?new ut(a):void 0;if(!s)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return s}function Nt(a){var s=kr(a);if(!s)throw new TypeError("Expected Array or iterable object of values: "+a);return s}function Jr(a){var s=kr(a)||typeof a=="object"&&new ut(a);if(!s)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return s}function kr(a){return It(a)?new Qe(a):Ze(a)?new xt(a):st(a)?new Tt(a):void 0}function _r(a,s,l,d){var m=a._cache;if(m){for(var p=m.length-1,_=0;_<=p;_++){var A=m[l?p-_:_];if(s(A[1],d?A[0]:_,a)===!1)return _+1}return _}return a.__iterateUncached(s,l)}function Ar(a,s,l,d){var m=a._cache;if(m){var p=m.length-1,_=0;return new V(function(){var A=m[l?p-_:_];return _++>p?ye():Q(s,d?A[0]:_-1,A[1])})}return a.__iteratorUncached(s,l)}function Kr(a,s){return s?Ur(s,a,"",{"":a}):Vr(a)}function Ur(a,s,l,d){return Array.isArray(s)?a.call(d,l,ne(s).map(function(m,p){return Ur(a,m,p,s)})):Yn(s)?a.call(d,l,Pe(s).map(function(m,p){return Ur(a,m,p,s)})):s}function Vr(a){return Array.isArray(a)?ne(a).map(Vr).toList():Yn(a)?Pe(a).map(Vr).toMap():a}function Yn(a){return a&&(a.constructor===Object||a.constructor===void 0)}function Ne(a,s){if(a===s||a!==a&&s!==s)return!0;if(!a||!s)return!1;if(typeof a.valueOf=="function"&&typeof s.valueOf=="function"){if(a=a.valueOf(),s=s.valueOf(),a===s||a!==a&&s!==s)return!0;if(!a||!s)return!1}return!!(typeof a.equals=="function"&&typeof s.equals=="function"&&a.equals(s))}function Wr(a,s){if(a===s)return!0;if(!f(s)||a.size!==void 0&&s.size!==void 0&&a.size!==s.size||a.__hash!==void 0&&s.__hash!==void 0&&a.__hash!==s.__hash||v(a)!==v(s)||h(a)!==h(s)||g(a)!==g(s))return!1;if(a.size===0&&s.size===0)return!0;var l=!y(a);if(g(a)){var d=a.entries();return s.every(function(O,T){var b=d.next().value;return b&&Ne(b[1],O)&&(l||Ne(b[0],T))})&&d.next().done}var m=!1;if(a.size===void 0)if(s.size===void 0)typeof a.cacheResult=="function"&&a.cacheResult();else{m=!0;var p=a;a=s,s=p}var _=!0,A=s.__iterate(function(O,T){if(l?!a.has(O):m?!Ne(O,a.get(T,B)):!Ne(a.get(T,B),O))return _=!1,!1});return _&&a.size===A}e(Re,ne);function Re(a,s){if(!(this instanceof Re))return new Re(a,s);if(this._value=a,this.size=s===void 0?1/0:Math.max(0,s),this.size===0){if(Yr)return Yr;Yr=this}}Re.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},Re.prototype.get=function(a,s){return this.has(a)?this._value:s},Re.prototype.includes=function(a){return Ne(this._value,a)},Re.prototype.slice=function(a,s){var l=this.size;return re(a,s,l)?this:new Re(this._value,K(s,l)-Z(a,l))},Re.prototype.reverse=function(){return this},Re.prototype.indexOf=function(a){return Ne(this._value,a)?0:-1},Re.prototype.lastIndexOf=function(a){return Ne(this._value,a)?this.size:-1},Re.prototype.__iterate=function(a,s){for(var l=0;l<this.size;l++)if(a(this._value,l,this)===!1)return l+1;return l},Re.prototype.__iterator=function(a,s){var l=this,d=0;return new V(function(){return d<l.size?Q(a,d++,l._value):ye()})},Re.prototype.equals=function(a){return a instanceof Re?Ne(this._value,a._value):Wr(a)};var Yr;function Sr(a,s){if(!a)throw new Error(s)}e(Be,ne);function Be(a,s,l){if(!(this instanceof Be))return new Be(a,s,l);if(Sr(l!==0,"Cannot step a Range by 0"),a=a||0,s===void 0&&(s=1/0),l=l===void 0?1:Math.abs(l),s<a&&(l=-l),this._start=a,this._end=s,this._step=l,this.size=Math.max(0,Math.ceil((s-a)/l-1)+1),this.size===0){if(Gr)return Gr;Gr=this}}Be.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},Be.prototype.get=function(a,s){return this.has(a)?this._start+ve(this,a)*this._step:s},Be.prototype.includes=function(a){var s=(a-this._start)/this._step;return s>=0&&s<this.size&&s===Math.floor(s)},Be.prototype.slice=function(a,s){return re(a,s,this.size)?this:(a=Z(a,this.size),s=K(s,this.size),s<=a?new Be(0,0):new Be(this.get(a,this._end),this.get(s,this._end),this._step))},Be.prototype.indexOf=function(a){var s=a-this._start;if(s%this._step===0){var l=s/this._step;if(l>=0&&l<this.size)return l}return-1},Be.prototype.lastIndexOf=function(a){return this.indexOf(a)},Be.prototype.__iterate=function(a,s){for(var l=this.size-1,d=this._step,m=s?this._start+l*d:this._start,p=0;p<=l;p++){if(a(m,p,this)===!1)return p+1;m+=s?-d:d}return p},Be.prototype.__iterator=function(a,s){var l=this.size-1,d=this._step,m=s?this._start+l*d:this._start,p=0;return new V(function(){var _=m;return m+=s?-d:d,p>l?ye():Q(a,p++,_)})},Be.prototype.equals=function(a){return a instanceof Be?this._start===a._start&&this._end===a._end&&this._step===a._step:Wr(this,a)};var Gr;e(_t,o);function _t(){throw TypeError("Abstract")}e(nr,_t);function nr(){}e(Rt,_t);function Rt(){}e(wr,_t);function wr(){}_t.Keyed=nr,_t.Indexed=Rt,_t.Set=wr;var ar=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(s,l){s=s|0,l=l|0;var d=s&65535,m=l&65535;return d*m+((s>>>16)*m+d*(l>>>16)<<16>>>0)|0};function Hr(a){return a>>>1&1073741824|a&3221225471}function Ue(a){if(a===!1||a===null||a===void 0||typeof a.valueOf=="function"&&(a=a.valueOf(),a===!1||a===null||a===void 0))return 0;if(a===!0)return 1;var s=typeof a;if(s==="number"){if(a!==a||a===1/0)return 0;var l=a|0;for(l!==a&&(l^=a*4294967295);a>4294967295;)a/=4294967295,l^=a;return Hr(l)}if(s==="string")return a.length>Mo?Io(a):Zr(a);if(typeof a.hashCode=="function")return a.hashCode();if(s==="object")return Co(a);if(typeof a.toString=="function")return Zr(a.toString());throw new Error("Value type "+s+" cannot be hashed.")}function Io(a){var s=rn[a];return s===void 0&&(s=Zr(a),tn===zo&&(tn=0,rn={}),tn++,rn[a]=s),s}function Zr(a){for(var s=0,l=0;l<a.length;l++)s=31*s+a.charCodeAt(l)|0;return Hr(s)}function Co(a){var s;if(Qr&&(s=Xr.get(a),s!==void 0)||(s=a[Et],s!==void 0)||!Hn&&(s=a.propertyIsEnumerable&&a.propertyIsEnumerable[Et],s!==void 0||(s=Ro(a),s!==void 0)))return s;if(s=++en,en&1073741824&&(en=0),Qr)Xr.set(a,s);else{if(Gn!==void 0&&Gn(a)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Hn)Object.defineProperty(a,Et,{enumerable:!1,configurable:!1,writable:!1,value:s});else if(a.propertyIsEnumerable!==void 0&&a.propertyIsEnumerable===a.constructor.prototype.propertyIsEnumerable)a.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},a.propertyIsEnumerable[Et]=s;else if(a.nodeType!==void 0)a[Et]=s;else throw new Error("Unable to set a non-enumerable property on object.")}return s}var Gn=Object.isExtensible,Hn=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Ro(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Qr=typeof WeakMap=="function",Xr;Qr&&(Xr=new WeakMap);var en=0,Et="__immutablehash__";typeof Symbol=="function"&&(Et=Symbol(Et));var Mo=16,zo=255,tn=0,rn={};function Ve(a){Sr(a!==1/0,"Cannot perform this action with an infinite size.")}e(X,nr);function X(a){return a==null?at():nn(a)&&!g(a)?a:at().withMutations(function(s){var l=i(a);Ve(l.size),l.forEach(function(d,m){return s.set(m,d)})})}X.of=function(){var a=t.call(arguments,0);return at().withMutations(function(s){for(var l=0;l<a.length;l+=2){if(l+1>=a.length)throw new Error("Missing value for key: "+a[l]);s.set(a[l],a[l+1])}})},X.prototype.toString=function(){return this.__toString("Map {","}")},X.prototype.get=function(a,s){return this._root?this._root.get(0,void 0,a,s):s},X.prototype.set=function(a,s){return ea(this,a,s)},X.prototype.setIn=function(a,s){return this.updateIn(a,B,function(){return s})},X.prototype.remove=function(a){return ea(this,a,B)},X.prototype.deleteIn=function(a){return this.updateIn(a,function(){return B})},X.prototype.update=function(a,s,l){return arguments.length===1?a(this):this.updateIn([a],s,l)},X.prototype.updateIn=function(a,s,l){l||(l=s,s=void 0);var d=oa(this,xa(a),s,l);return d===B?void 0:d},X.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):at()},X.prototype.merge=function(){return Or(this,void 0,arguments)},X.prototype.mergeWith=function(a){var s=t.call(arguments,1);return Or(this,a,s)},X.prototype.mergeIn=function(a){var s=t.call(arguments,1);return this.updateIn(a,at(),function(l){return typeof l.merge=="function"?l.merge.apply(l,s):s[s.length-1]})},X.prototype.mergeDeep=function(){return Or(this,ra,arguments)},X.prototype.mergeDeepWith=function(a){var s=t.call(arguments,1);return Or(this,na(a),s)},X.prototype.mergeDeepIn=function(a){var s=t.call(arguments,1);return this.updateIn(a,at(),function(l){return typeof l.mergeDeep=="function"?l.mergeDeep.apply(l,s):s[s.length-1]})},X.prototype.sort=function(a){return Te(qt(this,a))},X.prototype.sortBy=function(a,s){return Te(qt(this,s,a))},X.prototype.withMutations=function(a){var s=this.asMutable();return a(s),s.wasAltered()?s.__ensureOwner(this.__ownerID):this},X.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new se)},X.prototype.asImmutable=function(){return this.__ensureOwner()},X.prototype.wasAltered=function(){return this.__altered},X.prototype.__iterator=function(a,s){return new an(this,a,s)},X.prototype.__iterate=function(a,s){var l=this,d=0;return this._root&&this._root.iterate(function(m){return d++,a(m[1],m[0],l)},s),d},X.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?sn(this.size,this._root,a,this.__hash):(this.__ownerID=a,this.__altered=!1,this)};function nn(a){return!!(a&&a[Zn])}X.isMap=nn;var Zn="@@__IMMUTABLE_MAP__@@",G=X.prototype;G[Zn]=!0,G[P]=G.remove,G.removeIn=G.deleteIn;function or(a,s){this.ownerID=a,this.entries=s}or.prototype.get=function(a,s,l,d){for(var m=this.entries,p=0,_=m.length;p<_;p++)if(Ne(l,m[p][0]))return m[p][1];return d},or.prototype.update=function(a,s,l,d,m,p,_){for(var A=m===B,O=this.entries,T=0,b=O.length;T<b&&!Ne(d,O[T][0]);T++);var C=T<b;if(C?O[T][1]===m:A)return this;if(U(_),(A||!C)&&U(p),!(A&&O.length===1)){if(!C&&!A&&O.length>=Jo)return Lo(a,O,d,m);var z=a&&a===this.ownerID,J=z?O:$(O);return C?A?T===b-1?J.pop():J[T]=J.pop():J[T]=[d,m]:J.push([d,m]),z?(this.entries=J,this):new or(a,J)}};function Mt(a,s,l){this.ownerID=a,this.bitmap=s,this.nodes=l}Mt.prototype.get=function(a,s,l,d){s===void 0&&(s=Ue(l));var m=1<<((a===0?s:s>>>a)&M),p=this.bitmap;return p&m?this.nodes[ia(p&m-1)].get(a+F,s,l,d):d},Mt.prototype.update=function(a,s,l,d,m,p,_){l===void 0&&(l=Ue(d));var A=(s===0?l:l>>>s)&M,O=1<<A,T=this.bitmap,b=(T&O)!==0;if(!b&&m===B)return this;var C=ia(T&O-1),z=this.nodes,J=b?z[C]:void 0,W=un(J,a,s+F,l,d,m,p,_);if(W===J)return this;if(!b&&W&&z.length>=Ko)return jo(a,z,T,A,W);if(b&&!W&&z.length===2&&ta(z[C^1]))return z[C^1];if(b&&W&&z.length===1&&ta(W))return W;var pe=a&&a===this.ownerID,ot=b?W?T:T^O:T|O,vt=b?W?sa(z,C,W,pe):qo(z,C,pe):$o(z,C,W,pe);return pe?(this.bitmap=ot,this.nodes=vt,this):new Mt(a,ot,vt)};function ir(a,s,l){this.ownerID=a,this.count=s,this.nodes=l}ir.prototype.get=function(a,s,l,d){s===void 0&&(s=Ue(l));var m=(a===0?s:s>>>a)&M,p=this.nodes[m];return p?p.get(a+F,s,l,d):d},ir.prototype.update=function(a,s,l,d,m,p,_){l===void 0&&(l=Ue(d));var A=(s===0?l:l>>>s)&M,O=m===B,T=this.nodes,b=T[A];if(O&&!b)return this;var C=un(b,a,s+F,l,d,m,p,_);if(C===b)return this;var z=this.count;if(!b)z++;else if(!C&&(z--,z<Uo))return Do(a,T,z,A);var J=a&&a===this.ownerID,W=sa(T,A,C,J);return J?(this.count=z,this.nodes=W,this):new ir(a,z,W)};function zt(a,s,l){this.ownerID=a,this.keyHash=s,this.entries=l}zt.prototype.get=function(a,s,l,d){for(var m=this.entries,p=0,_=m.length;p<_;p++)if(Ne(l,m[p][0]))return m[p][1];return d},zt.prototype.update=function(a,s,l,d,m,p,_){l===void 0&&(l=Ue(d));var A=m===B;if(l!==this.keyHash)return A?this:(U(_),U(p),cn(this,a,s,l,[d,m]));for(var O=this.entries,T=0,b=O.length;T<b&&!Ne(d,O[T][0]);T++);var C=T<b;if(C?O[T][1]===m:A)return this;if(U(_),(A||!C)&&U(p),A&&b===2)return new pt(a,this.keyHash,O[T^1]);var z=a&&a===this.ownerID,J=z?O:$(O);return C?A?T===b-1?J.pop():J[T]=J.pop():J[T]=[d,m]:J.push([d,m]),z?(this.entries=J,this):new zt(a,this.keyHash,J)};function pt(a,s,l){this.ownerID=a,this.keyHash=s,this.entry=l}pt.prototype.get=function(a,s,l,d){return Ne(l,this.entry[0])?this.entry[1]:d},pt.prototype.update=function(a,s,l,d,m,p,_){var A=m===B,O=Ne(d,this.entry[0]);if(O?m===this.entry[1]:A)return this;if(U(_),A){U(p);return}return O?a&&a===this.ownerID?(this.entry[1]=m,this):new pt(a,this.keyHash,[d,m]):(U(p),cn(this,a,s,Ue(d),[d,m]))},or.prototype.iterate=zt.prototype.iterate=function(a,s){for(var l=this.entries,d=0,m=l.length-1;d<=m;d++)if(a(l[s?m-d:d])===!1)return!1},Mt.prototype.iterate=ir.prototype.iterate=function(a,s){for(var l=this.nodes,d=0,m=l.length-1;d<=m;d++){var p=l[s?m-d:d];if(p&&p.iterate(a,s)===!1)return!1}},pt.prototype.iterate=function(a,s){return a(this.entry)},e(an,V);function an(a,s,l){this._type=s,this._reverse=l,this._stack=a._root&&Qn(a._root)}an.prototype.next=function(){for(var a=this._type,s=this._stack;s;){var l=s.node,d=s.index++,m;if(l.entry){if(d===0)return on(a,l.entry)}else if(l.entries){if(m=l.entries.length-1,d<=m)return on(a,l.entries[this._reverse?m-d:d])}else if(m=l.nodes.length-1,d<=m){var p=l.nodes[this._reverse?m-d:d];if(p){if(p.entry)return on(a,p.entry);s=this._stack=Qn(p,s)}continue}s=this._stack=this._stack.__prev}return ye()};function on(a,s){return Q(a,s[0],s[1])}function Qn(a,s){return{node:a,index:0,__prev:s}}function sn(a,s,l,d){var m=Object.create(G);return m.size=a,m._root=s,m.__ownerID=l,m.__hash=d,m.__altered=!1,m}var Xn;function at(){return Xn||(Xn=sn(0))}function ea(a,s,l){var d,m;if(a._root){var p=oe(j),_=oe(te);if(d=un(a._root,a.__ownerID,0,void 0,s,l,p,_),!_.value)return a;m=a.size+(p.value?l===B?-1:1:0)}else{if(l===B)return a;m=1,d=new or(a.__ownerID,[[s,l]])}return a.__ownerID?(a.size=m,a._root=d,a.__hash=void 0,a.__altered=!0,a):d?sn(m,d):at()}function un(a,s,l,d,m,p,_,A){return a?a.update(s,l,d,m,p,_,A):p===B?a:(U(A),U(_),new pt(s,d,[m,p]))}function ta(a){return a.constructor===pt||a.constructor===zt}function cn(a,s,l,d,m){if(a.keyHash===d)return new zt(s,d,[a.entry,m]);var p=(l===0?a.keyHash:a.keyHash>>>l)&M,_=(l===0?d:d>>>l)&M,A,O=p===_?[cn(a,s,l+F,d,m)]:(A=new pt(s,d,m),p<_?[a,A]:[A,a]);return new Mt(s,1<<p|1<<_,O)}function Lo(a,s,l,d){a||(a=new se);for(var m=new pt(a,Ue(l),[l,d]),p=0;p<s.length;p++){var _=s[p];m=m.update(a,0,void 0,_[0],_[1])}return m}function Do(a,s,l,d){for(var m=0,p=0,_=new Array(l),A=0,O=1,T=s.length;A<T;A++,O<<=1){var b=s[A];b!==void 0&&A!==d&&(m|=O,_[p++]=b)}return new Mt(a,m,_)}function jo(a,s,l,d,m){for(var p=0,_=new Array(L),A=0;l!==0;A++,l>>>=1)_[A]=l&1?s[p++]:void 0;return _[d]=m,new ir(a,p+1,_)}function Or(a,s,l){for(var d=[],m=0;m<l.length;m++){var p=l[m],_=i(p);f(p)||(_=_.map(function(A){return Kr(A)})),d.push(_)}return aa(a,s,d)}function ra(a,s,l){return a&&a.mergeDeep&&f(s)?a.mergeDeep(s):Ne(a,s)?a:s}function na(a){return function(s,l,d){if(s&&s.mergeDeepWith&&f(l))return s.mergeDeepWith(a,l);var m=a(s,l,d);return Ne(s,m)?s:m}}function aa(a,s,l){return l=l.filter(function(d){return d.size!==0}),l.length===0?a:a.size===0&&!a.__ownerID&&l.length===1?a.constructor(l[0]):a.withMutations(function(d){for(var m=s?function(_,A){d.update(A,B,function(O){return O===B?_:s(O,_,A)})}:function(_,A){d.set(A,_)},p=0;p<l.length;p++)l[p].forEach(m)})}function oa(a,s,l,d){var m=a===B,p=s.next();if(p.done){var _=m?l:a,A=d(_);return A===_?a:A}Sr(m||a&&a.set,"invalid keyPath");var O=p.value,T=m?B:a.get(O,B),b=oa(T,s,l,d);return b===T?a:b===B?a.remove(O):(m?at():a).set(O,b)}function ia(a){return a=a-(a>>1&1431655765),a=(a&858993459)+(a>>2&858993459),a=a+(a>>4)&252645135,a=a+(a>>8),a=a+(a>>16),a&127}function sa(a,s,l,d){var m=d?a:$(a);return m[s]=l,m}function $o(a,s,l,d){var m=a.length+1;if(d&&s+1===m)return a[s]=l,a;for(var p=new Array(m),_=0,A=0;A<m;A++)A===s?(p[A]=l,_=-1):p[A]=a[A+_];return p}function qo(a,s,l){var d=a.length-1;if(l&&s===d)return a.pop(),a;for(var m=new Array(d),p=0,_=0;_<d;_++)_===s&&(p=1),m[_]=a[_+p];return m}var Jo=L/4,Ko=L/2,Uo=L/4;e(he,Rt);function he(a){var s=fn();if(a==null)return s;if(ua(a))return a;var l=u(a),d=l.size;return d===0?s:(Ve(d),d>0&&d<L?ur(0,d,F,null,new At(l.toArray())):s.withMutations(function(m){m.setSize(d),l.forEach(function(p,_){return m.set(_,p)})}))}he.of=function(){return this(arguments)},he.prototype.toString=function(){return this.__toString("List [","]")},he.prototype.get=function(a,s){if(a=ve(this,a),a>=0&&a<this.size){a+=this._origin;var l=va(this,a);return l&&l.array[a&M]}return s},he.prototype.set=function(a,s){return Vo(this,a,s)},he.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this},he.prototype.insert=function(a,s){return this.splice(a,0,s)},he.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=F,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):fn()},he.prototype.push=function(){var a=arguments,s=this.size;return this.withMutations(function(l){St(l,0,s+a.length);for(var d=0;d<a.length;d++)l.set(s+d,a[d])})},he.prototype.pop=function(){return St(this,0,-1)},he.prototype.unshift=function(){var a=arguments;return this.withMutations(function(s){St(s,-a.length);for(var l=0;l<a.length;l++)s.set(l,a[l])})},he.prototype.shift=function(){return St(this,1)},he.prototype.merge=function(){return Tr(this,void 0,arguments)},he.prototype.mergeWith=function(a){var s=t.call(arguments,1);return Tr(this,a,s)},he.prototype.mergeDeep=function(){return Tr(this,ra,arguments)},he.prototype.mergeDeepWith=function(a){var s=t.call(arguments,1);return Tr(this,na(a),s)},he.prototype.setSize=function(a){return St(this,0,a)},he.prototype.slice=function(a,s){var l=this.size;return re(a,s,l)?this:St(this,Z(a,l),K(s,l))},he.prototype.__iterator=function(a,s){var l=0,d=fa(this,s);return new V(function(){var m=d();return m===sr?ye():Q(a,l++,m)})},he.prototype.__iterate=function(a,s){for(var l=0,d=fa(this,s),m;(m=d())!==sr&&a(m,l++,this)!==!1;);return l},he.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?ur(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash):(this.__ownerID=a,this)};function ua(a){return!!(a&&a[ca])}he.isList=ua;var ca="@@__IMMUTABLE_LIST__@@",Me=he.prototype;Me[ca]=!0,Me[P]=Me.remove,Me.setIn=G.setIn,Me.deleteIn=Me.removeIn=G.removeIn,Me.update=G.update,Me.updateIn=G.updateIn,Me.mergeIn=G.mergeIn,Me.mergeDeepIn=G.mergeDeepIn,Me.withMutations=G.withMutations,Me.asMutable=G.asMutable,Me.asImmutable=G.asImmutable,Me.wasAltered=G.wasAltered;function At(a,s){this.array=a,this.ownerID=s}At.prototype.removeBefore=function(a,s,l){if(l===s?1<<s:this.array.length===0)return this;var d=l>>>s&M;if(d>=this.array.length)return new At([],a);var m=d===0,p;if(s>0){var _=this.array[d];if(p=_&&_.removeBefore(a,s-F,l),p===_&&m)return this}if(m&&!p)return this;var A=Lt(this,a);if(!m)for(var O=0;O<d;O++)A.array[O]=void 0;return p&&(A.array[d]=p),A},At.prototype.removeAfter=function(a,s,l){if(l===(s?1<<s:0)||this.array.length===0)return this;var d=l-1>>>s&M;if(d>=this.array.length)return this;var m;if(s>0){var p=this.array[d];if(m=p&&p.removeAfter(a,s-F,l),m===p&&d===this.array.length-1)return this}var _=Lt(this,a);return _.array.splice(d+1),m&&(_.array[d]=m),_};var sr={};function fa(a,s){var l=a._origin,d=a._capacity,m=cr(d),p=a._tail;return _(a._root,a._level,0);function _(T,b,C){return b===0?A(T,C):O(T,b,C)}function A(T,b){var C=b===m?p&&p.array:T&&T.array,z=b>l?0:l-b,J=d-b;return J>L&&(J=L),function(){if(z===J)return sr;var W=s?--J:z++;return C&&C[W]}}function O(T,b,C){var z,J=T&&T.array,W=C>l?0:l-C>>b,pe=(d-C>>b)+1;return pe>L&&(pe=L),function(){do{if(z){var ot=z();if(ot!==sr)return ot;z=null}if(W===pe)return sr;var vt=s?--pe:W++;z=_(J&&J[vt],b-F,C+(vt<<b))}while(!0)}}}function ur(a,s,l,d,m,p,_){var A=Object.create(Me);return A.size=s-a,A._origin=a,A._capacity=s,A._level=l,A._root=d,A._tail=m,A.__ownerID=p,A.__hash=_,A.__altered=!1,A}var la;function fn(){return la||(la=ur(0,0,F))}function Vo(a,s,l){if(s=ve(a,s),s!==s)return a;if(s>=a.size||s<0)return a.withMutations(function(_){s<0?St(_,s).set(0,l):St(_,0,s+1).set(s,l)});s+=a._origin;var d=a._tail,m=a._root,p=oe(te);return s>=cr(a._capacity)?d=ln(d,a.__ownerID,0,s,l,p):m=ln(m,a.__ownerID,a._level,s,l,p),p.value?a.__ownerID?(a._root=m,a._tail=d,a.__hash=void 0,a.__altered=!0,a):ur(a._origin,a._capacity,a._level,m,d):a}function ln(a,s,l,d,m,p){var _=d>>>l&M,A=a&&_<a.array.length;if(!A&&m===void 0)return a;var O;if(l>0){var T=a&&a.array[_],b=ln(T,s,l-F,d,m,p);return b===T?a:(O=Lt(a,s),O.array[_]=b,O)}return A&&a.array[_]===m?a:(U(p),O=Lt(a,s),m===void 0&&_===O.array.length-1?O.array.pop():O.array[_]=m,O)}function Lt(a,s){return s&&a&&s===a.ownerID?a:new At(a?a.array.slice():[],s)}function va(a,s){if(s>=cr(a._capacity))return a._tail;if(s<1<<a._level+F){for(var l=a._root,d=a._level;l&&d>0;)l=l.array[s>>>d&M],d-=F;return l}}function St(a,s,l){s!==void 0&&(s=s|0),l!==void 0&&(l=l|0);var d=a.__ownerID||new se,m=a._origin,p=a._capacity,_=m+s,A=l===void 0?p:l<0?p+l:m+l;if(_===m&&A===p)return a;if(_>=A)return a.clear();for(var O=a._level,T=a._root,b=0;_+b<0;)T=new At(T&&T.array.length?[void 0,T]:[],d),O+=F,b+=1<<O;b&&(_+=b,m+=b,A+=b,p+=b);for(var C=cr(p),z=cr(A);z>=1<<O+F;)T=new At(T&&T.array.length?[T]:[],d),O+=F;var J=a._tail,W=z<C?va(a,A-1):z>C?new At([],d):J;if(J&&z>C&&_<p&&J.array.length){T=Lt(T,d);for(var pe=T,ot=O;ot>F;ot-=F){var vt=C>>>ot&M;pe=pe.array[vt]=Lt(pe.array[vt],d)}pe.array[C>>>F&M]=J}if(A<p&&(W=W&&W.removeAfter(d,0,A)),_>=z)_-=z,A-=z,O=F,T=null,W=W&&W.removeBefore(d,0,_);else if(_>m||z<C){for(b=0;T;){var Br=_>>>O&M;if(Br!==z>>>O&M)break;Br&&(b+=(1<<O)*Br),O-=F,T=T.array[Br]}T&&_>m&&(T=T.removeBefore(d,O,_-b)),T&&z<C&&(T=T.removeAfter(d,O,z-b)),b&&(_-=b,A-=b)}return a.__ownerID?(a.size=A-_,a._origin=_,a._capacity=A,a._level=O,a._root=T,a._tail=W,a.__hash=void 0,a.__altered=!0,a):ur(_,A,O,T,W)}function Tr(a,s,l){for(var d=[],m=0,p=0;p<l.length;p++){var _=l[p],A=u(_);A.size>m&&(m=A.size),f(_)||(A=A.map(function(O){return Kr(O)})),d.push(A)}return m>a.size&&(a=a.setSize(m)),aa(a,s,d)}function cr(a){return a<L?0:a-1>>>F<<F}e(Te,X);function Te(a){return a==null?xr():da(a)?a:xr().withMutations(function(s){var l=i(a);Ve(l.size),l.forEach(function(d,m){return s.set(m,d)})})}Te.of=function(){return this(arguments)},Te.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Te.prototype.get=function(a,s){var l=this._map.get(a);return l!==void 0?this._list.get(l)[1]:s},Te.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):xr()},Te.prototype.set=function(a,s){return ma(this,a,s)},Te.prototype.remove=function(a){return ma(this,a,B)},Te.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Te.prototype.__iterate=function(a,s){var l=this;return this._list.__iterate(function(d){return d&&a(d[1],d[0],l)},s)},Te.prototype.__iterator=function(a,s){return this._list.fromEntrySeq().__iterator(a,s)},Te.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var s=this._map.__ensureOwner(a),l=this._list.__ensureOwner(a);return a?vn(s,l,a,this.__hash):(this.__ownerID=a,this._map=s,this._list=l,this)};function da(a){return nn(a)&&g(a)}Te.isOrderedMap=da,Te.prototype[x]=!0,Te.prototype[P]=Te.prototype.remove;function vn(a,s,l,d){var m=Object.create(Te.prototype);return m.size=a?a.size:0,m._map=a,m._list=s,m.__ownerID=l,m.__hash=d,m}var ha;function xr(){return ha||(ha=vn(at(),fn()))}function ma(a,s,l){var d=a._map,m=a._list,p=d.get(s),_=p!==void 0,A,O;if(l===B){if(!_)return a;m.size>=L&&m.size>=d.size*2?(O=m.filter(function(T,b){return T!==void 0&&p!==b}),A=O.toKeyedSeq().map(function(T){return T[0]}).flip().toMap(),a.__ownerID&&(A.__ownerID=O.__ownerID=a.__ownerID)):(A=d.remove(s),O=p===m.size-1?m.pop():m.set(p,void 0))}else if(_){if(l===m.get(p)[1])return a;A=d,O=m.set(p,[s,l])}else A=d.set(s,m.size),O=m.set(m.size,[s,l]);return a.__ownerID?(a.size=A.size,a._map=A,a._list=O,a.__hash=void 0,a):vn(A,O)}e(Xe,Pe);function Xe(a,s){this._iter=a,this._useKeys=s,this.size=a.size}Xe.prototype.get=function(a,s){return this._iter.get(a,s)},Xe.prototype.has=function(a){return this._iter.has(a)},Xe.prototype.valueSeq=function(){return this._iter.valueSeq()},Xe.prototype.reverse=function(){var a=this,s=dn(this,!0);return this._useKeys||(s.valueSeq=function(){return a._iter.toSeq().reverse()}),s},Xe.prototype.map=function(a,s){var l=this,d=ga(this,a,s);return this._useKeys||(d.valueSeq=function(){return l._iter.toSeq().map(a,s)}),d},Xe.prototype.__iterate=function(a,s){var l=this,d;return this._iter.__iterate(this._useKeys?function(m,p){return a(m,p,l)}:(d=s?wa(this):0,function(m){return a(m,s?--d:d++,l)}),s)},Xe.prototype.__iterator=function(a,s){if(this._useKeys)return this._iter.__iterator(a,s);var l=this._iter.__iterator(Se,s),d=s?wa(this):0;return new V(function(){var m=l.next();return m.done?m:Q(a,s?--d:d++,m.value,m)})},Xe.prototype[x]=!0,e(Dt,ne);function Dt(a){this._iter=a,this.size=a.size}Dt.prototype.includes=function(a){return this._iter.includes(a)},Dt.prototype.__iterate=function(a,s){var l=this,d=0;return this._iter.__iterate(function(m){return a(m,d++,l)},s)},Dt.prototype.__iterator=function(a,s){var l=this._iter.__iterator(Se,s),d=0;return new V(function(){var m=l.next();return m.done?m:Q(a,d++,m.value,m)})},e(jt,Ke);function jt(a){this._iter=a,this.size=a.size}jt.prototype.has=function(a){return this._iter.includes(a)},jt.prototype.__iterate=function(a,s){var l=this;return this._iter.__iterate(function(d){return a(d,d,l)},s)},jt.prototype.__iterator=function(a,s){var l=this._iter.__iterator(Se,s);return new V(function(){var d=l.next();return d.done?d:Q(a,d.value,d.value,d)})},e($t,Pe);function $t(a){this._iter=a,this.size=a.size}$t.prototype.entrySeq=function(){return this._iter.toSeq()},$t.prototype.__iterate=function(a,s){var l=this;return this._iter.__iterate(function(d){if(d){Sa(d);var m=f(d);return a(m?d.get(1):d[1],m?d.get(0):d[0],l)}},s)},$t.prototype.__iterator=function(a,s){var l=this._iter.__iterator(Se,s);return new V(function(){for(;;){var d=l.next();if(d.done)return d;var m=d.value;if(m){Sa(m);var p=f(m);return Q(a,p?m.get(0):m[0],p?m.get(1):m[1],d)}}})},Dt.prototype.cacheResult=Xe.prototype.cacheResult=jt.prototype.cacheResult=$t.prototype.cacheResult=yn;function ya(a){var s=ct(a);return s._iter=a,s.size=a.size,s.flip=function(){return a},s.reverse=function(){var l=a.reverse.apply(this);return l.flip=function(){return a.reverse()},l},s.has=function(l){return a.includes(l)},s.includes=function(l){return a.has(l)},s.cacheResult=yn,s.__iterateUncached=function(l,d){var m=this;return a.__iterate(function(p,_){return l(_,p,m)!==!1},d)},s.__iteratorUncached=function(l,d){if(l===Fe){var m=a.__iterator(l,d);return new V(function(){var p=m.next();if(!p.done){var _=p.value[0];p.value[0]=p.value[1],p.value[1]=_}return p})}return a.__iterator(l===Se?qe:Se,d)},s}function ga(a,s,l){var d=ct(a);return d.size=a.size,d.has=function(m){return a.has(m)},d.get=function(m,p){var _=a.get(m,B);return _===B?p:s.call(l,_,m,a)},d.__iterateUncached=function(m,p){var _=this;return a.__iterate(function(A,O,T){return m(s.call(l,A,O,T),O,_)!==!1},p)},d.__iteratorUncached=function(m,p){var _=a.__iterator(Fe,p);return new V(function(){var A=_.next();if(A.done)return A;var O=A.value,T=O[0];return Q(m,T,s.call(l,O[1],T,a),A)})},d}function dn(a,s){var l=ct(a);return l._iter=a,l.size=a.size,l.reverse=function(){return a},a.flip&&(l.flip=function(){var d=ya(a);return d.reverse=function(){return a.flip()},d}),l.get=function(d,m){return a.get(s?d:-1-d,m)},l.has=function(d){return a.has(s?d:-1-d)},l.includes=function(d){return a.includes(d)},l.cacheResult=yn,l.__iterate=function(d,m){var p=this;return a.__iterate(function(_,A){return d(_,A,p)},!m)},l.__iterator=function(d,m){return a.__iterator(d,!m)},l}function pa(a,s,l,d){var m=ct(a);return d&&(m.has=function(p){var _=a.get(p,B);return _!==B&&!!s.call(l,_,p,a)},m.get=function(p,_){var A=a.get(p,B);return A!==B&&s.call(l,A,p,a)?A:_}),m.__iterateUncached=function(p,_){var A=this,O=0;return a.__iterate(function(T,b,C){if(s.call(l,T,b,C))return O++,p(T,d?b:O-1,A)},_),O},m.__iteratorUncached=function(p,_){var A=a.__iterator(Fe,_),O=0;return new V(function(){for(;;){var T=A.next();if(T.done)return T;var b=T.value,C=b[0],z=b[1];if(s.call(l,z,C,a))return Q(p,d?C:O++,z,T)}})},m}function Wo(a,s,l){var d=X().asMutable();return a.__iterate(function(m,p){d.update(s.call(l,m,p,a),0,function(_){return _+1})}),d.asImmutable()}function Yo(a,s,l){var d=v(a),m=(g(a)?Te():X()).asMutable();a.__iterate(function(_,A){m.update(s.call(l,_,A,a),function(O){return O=O||[],O.push(d?[A,_]:_),O})});var p=Oa(a);return m.map(function(_){return fe(a,p(_))})}function hn(a,s,l,d){var m=a.size;if(s!==void 0&&(s=s|0),l!==void 0&&(l===1/0?l=m:l=l|0),re(s,l,m))return a;var p=Z(s,m),_=K(l,m);if(p!==p||_!==_)return hn(a.toSeq().cacheResult(),s,l,d);var A=_-p,O;A===A&&(O=A<0?0:A);var T=ct(a);return T.size=O===0?O:a.size&&O||void 0,!d&&rr(a)&&O>=0&&(T.get=function(b,C){return b=ve(this,b),b>=0&&b<O?a.get(b+p,C):C}),T.__iterateUncached=function(b,C){var z=this;if(O===0)return 0;if(C)return this.cacheResult().__iterate(b,C);var J=0,W=!0,pe=0;return a.__iterate(function(ot,vt){if(!(W&&(W=J++<p)))return pe++,b(ot,d?vt:pe-1,z)!==!1&&pe!==O}),pe},T.__iteratorUncached=function(b,C){if(O!==0&&C)return this.cacheResult().__iterator(b,C);var z=O!==0&&a.__iterator(b,C),J=0,W=0;return new V(function(){for(;J++<p;)z.next();if(++W>O)return ye();var pe=z.next();return d||b===Se?pe:b===qe?Q(b,W-1,void 0,pe):Q(b,W-1,pe.value[1],pe)})},T}function Go(a,s,l){var d=ct(a);return d.__iterateUncached=function(m,p){var _=this;if(p)return this.cacheResult().__iterate(m,p);var A=0;return a.__iterate(function(O,T,b){return s.call(l,O,T,b)&&++A&&m(O,T,_)}),A},d.__iteratorUncached=function(m,p){var _=this;if(p)return this.cacheResult().__iterator(m,p);var A=a.__iterator(Fe,p),O=!0;return new V(function(){if(!O)return ye();var T=A.next();if(T.done)return T;var b=T.value,C=b[0],z=b[1];return s.call(l,z,C,_)?m===Fe?T:Q(m,C,z,T):(O=!1,ye())})},d}function ka(a,s,l,d){var m=ct(a);return m.__iterateUncached=function(p,_){var A=this;if(_)return this.cacheResult().__iterate(p,_);var O=!0,T=0;return a.__iterate(function(b,C,z){if(!(O&&(O=s.call(l,b,C,z))))return T++,p(b,d?C:T-1,A)}),T},m.__iteratorUncached=function(p,_){var A=this;if(_)return this.cacheResult().__iterator(p,_);var O=a.__iterator(Fe,_),T=!0,b=0;return new V(function(){var C,z,J;do{if(C=O.next(),C.done)return d||p===Se?C:p===qe?Q(p,b++,void 0,C):Q(p,b++,C.value[1],C);var W=C.value;z=W[0],J=W[1],T&&(T=s.call(l,J,z,A))}while(T);return p===Fe?C:Q(p,z,J,C)})},m}function Ho(a,s){var l=v(a),d=[a].concat(s).map(function(_){return f(_)?l&&(_=i(_)):_=l?pr(_):Nt(Array.isArray(_)?_:[_]),_}).filter(function(_){return _.size!==0});if(d.length===0)return a;if(d.length===1){var m=d[0];if(m===a||l&&v(m)||h(a)&&h(m))return m}var p=new Qe(d);return l?p=p.toKeyedSeq():h(a)||(p=p.toSetSeq()),p=p.flatten(!0),p.size=d.reduce(function(_,A){if(_!==void 0){var O=A.size;if(O!==void 0)return _+O}},0),p}function _a(a,s,l){var d=ct(a);return d.__iterateUncached=function(m,p){var _=0,A=!1;function O(T,b){var C=this;T.__iterate(function(z,J){return(!s||b<s)&&f(z)?O(z,b+1):m(z,l?J:_++,C)===!1&&(A=!0),!A},p)}return O(a,0),_},d.__iteratorUncached=function(m,p){var _=a.__iterator(m,p),A=[],O=0;return new V(function(){for(;_;){var T=_.next();if(T.done!==!1){_=A.pop();continue}var b=T.value;if(m===Fe&&(b=b[1]),(!s||A.length<s)&&f(b))A.push(_),_=b.__iterator(m,p);else return l?T:Q(m,O++,b,T)}return ye()})},d}function Zo(a,s,l){var d=Oa(a);return a.toSeq().map(function(m,p){return d(s.call(l,m,p,a))}).flatten(!0)}function Qo(a,s){var l=ct(a);return l.size=a.size&&a.size*2-1,l.__iterateUncached=function(d,m){var p=this,_=0;return a.__iterate(function(A,O){return(!_||d(s,_++,p)!==!1)&&d(A,_++,p)!==!1},m),_},l.__iteratorUncached=function(d,m){var p=a.__iterator(Se,m),_=0,A;return new V(function(){return(!A||_%2)&&(A=p.next(),A.done)?A:_%2?Q(d,_++,s):Q(d,_++,A.value,A)})},l}function qt(a,s,l){s||(s=Ta);var d=v(a),m=0,p=a.toSeq().map(function(_,A){return[A,_,m++,l?l(_,A,a):_]}).toArray();return p.sort(function(_,A){return s(_[3],A[3])||_[2]-A[2]}).forEach(d?function(_,A){p[A].length=2}:function(_,A){p[A]=_[1]}),d?Pe(p):h(a)?ne(p):Ke(p)}function Nr(a,s,l){if(s||(s=Ta),l){var d=a.toSeq().map(function(m,p){return[m,l(m,p,a)]}).reduce(function(m,p){return Aa(s,m[1],p[1])?p:m});return d&&d[0]}else return a.reduce(function(m,p){return Aa(s,m,p)?p:m})}function Aa(a,s,l){var d=a(l,s);return d===0&&l!==s&&(l==null||l!==l)||d>0}function mn(a,s,l){var d=ct(a);return d.size=new Qe(l).map(function(m){return m.size}).min(),d.__iterate=function(m,p){for(var _=this.__iterator(Se,p),A,O=0;!(A=_.next()).done&&m(A.value,O++,this)!==!1;);return O},d.__iteratorUncached=function(m,p){var _=l.map(function(T){return T=o(T),nt(p?T.reverse():T)}),A=0,O=!1;return new V(function(){var T;return O||(T=_.map(function(b){return b.next()}),O=T.some(function(b){return b.done})),O?ye():Q(m,A++,s.apply(null,T.map(function(b){return b.value})))})},d}function fe(a,s){return rr(a)?s:a.constructor(s)}function Sa(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function wa(a){return Ve(a.size),ue(a)}function Oa(a){return v(a)?i:h(a)?u:c}function ct(a){return Object.create((v(a)?Pe:h(a)?ne:Ke).prototype)}function yn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):_e.prototype.cacheResult.call(this)}function Ta(a,s){return a>s?1:a<s?-1:0}function xa(a){var s=nt(a);if(!s){if(!It(a))throw new TypeError("Expected iterable or array-like: "+a);s=nt(o(a))}return s}e(We,nr);function We(a,s){var l,d=function(_){if(_ instanceof d)return _;if(!(this instanceof d))return new d(_);if(!l){l=!0;var A=Object.keys(a);Xo(m,A),m.size=A.length,m._name=s,m._keys=A,m._defaultValues=a}this._map=X(_)},m=d.prototype=Object.create(Ie);return m.constructor=d,d}We.prototype.toString=function(){return this.__toString(Na(this)+" {","}")},We.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)},We.prototype.get=function(a,s){if(!this.has(a))return s;var l=this._defaultValues[a];return this._map?this._map.get(a,l):l},We.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var a=this.constructor;return a._empty||(a._empty=Er(this,at()))},We.prototype.set=function(a,s){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Na(this));if(this._map&&!this._map.has(a)){var l=this._defaultValues[a];if(s===l)return this}var d=this._map&&this._map.set(a,s);return this.__ownerID||d===this._map?this:Er(this,d)},We.prototype.remove=function(a){if(!this.has(a))return this;var s=this._map&&this._map.remove(a);return this.__ownerID||s===this._map?this:Er(this,s)},We.prototype.wasAltered=function(){return this._map.wasAltered()},We.prototype.__iterator=function(a,s){var l=this;return i(this._defaultValues).map(function(d,m){return l.get(m)}).__iterator(a,s)},We.prototype.__iterate=function(a,s){var l=this;return i(this._defaultValues).map(function(d,m){return l.get(m)}).__iterate(a,s)},We.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var s=this._map&&this._map.__ensureOwner(a);return a?Er(this,s,a):(this.__ownerID=a,this._map=s,this)};var Ie=We.prototype;Ie[P]=Ie.remove,Ie.deleteIn=Ie.removeIn=G.removeIn,Ie.merge=G.merge,Ie.mergeWith=G.mergeWith,Ie.mergeIn=G.mergeIn,Ie.mergeDeep=G.mergeDeep,Ie.mergeDeepWith=G.mergeDeepWith,Ie.mergeDeepIn=G.mergeDeepIn,Ie.setIn=G.setIn,Ie.update=G.update,Ie.updateIn=G.updateIn,Ie.withMutations=G.withMutations,Ie.asMutable=G.asMutable,Ie.asImmutable=G.asImmutable;function Er(a,s,l){var d=Object.create(Object.getPrototypeOf(a));return d._map=s,d.__ownerID=l,d}function Na(a){return a._name||a.constructor.name||"Record"}function Xo(a,s){try{s.forEach(ei.bind(void 0,a))}catch{}}function ei(a,s){Object.defineProperty(a,s,{get:function(){return this.get(s)},set:function(l){Sr(this.__ownerID,"Cannot set on an immutable record."),this.set(s,l)}})}e(ge,wr);function ge(a){return a==null?kn():gn(a)&&!g(a)?a:kn().withMutations(function(s){var l=c(a);Ve(l.size),l.forEach(function(d){return s.add(d)})})}ge.of=function(){return this(arguments)},ge.fromKeys=function(a){return this(i(a).keySeq())},ge.prototype.toString=function(){return this.__toString("Set {","}")},ge.prototype.has=function(a){return this._map.has(a)},ge.prototype.add=function(a){return pn(this,this._map.set(a,!0))},ge.prototype.remove=function(a){return pn(this,this._map.remove(a))},ge.prototype.clear=function(){return pn(this,this._map.clear())},ge.prototype.union=function(){var a=t.call(arguments,0);return a=a.filter(function(s){return s.size!==0}),a.length===0?this:this.size===0&&!this.__ownerID&&a.length===1?this.constructor(a[0]):this.withMutations(function(s){for(var l=0;l<a.length;l++)c(a[l]).forEach(function(d){return s.add(d)})})},ge.prototype.intersect=function(){var a=t.call(arguments,0);if(a.length===0)return this;a=a.map(function(l){return c(l)});var s=this;return this.withMutations(function(l){s.forEach(function(d){a.every(function(m){return m.includes(d)})||l.remove(d)})})},ge.prototype.subtract=function(){var a=t.call(arguments,0);if(a.length===0)return this;a=a.map(function(l){return c(l)});var s=this;return this.withMutations(function(l){s.forEach(function(d){a.some(function(m){return m.includes(d)})&&l.remove(d)})})},ge.prototype.merge=function(){return this.union.apply(this,arguments)},ge.prototype.mergeWith=function(a){var s=t.call(arguments,1);return this.union.apply(this,s)},ge.prototype.sort=function(a){return ft(qt(this,a))},ge.prototype.sortBy=function(a,s){return ft(qt(this,s,a))},ge.prototype.wasAltered=function(){return this._map.wasAltered()},ge.prototype.__iterate=function(a,s){var l=this;return this._map.__iterate(function(d,m){return a(m,m,l)},s)},ge.prototype.__iterator=function(a,s){return this._map.map(function(l,d){return d}).__iterator(a,s)},ge.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var s=this._map.__ensureOwner(a);return a?this.__make(s,a):(this.__ownerID=a,this._map=s,this)};function gn(a){return!!(a&&a[Ea])}ge.isSet=gn;var Ea="@@__IMMUTABLE_SET__@@",Ye=ge.prototype;Ye[Ea]=!0,Ye[P]=Ye.remove,Ye.mergeDeep=Ye.merge,Ye.mergeDeepWith=Ye.mergeWith,Ye.withMutations=G.withMutations,Ye.asMutable=G.asMutable,Ye.asImmutable=G.asImmutable,Ye.__empty=kn,Ye.__make=ba;function pn(a,s){return a.__ownerID?(a.size=s.size,a._map=s,a):s===a._map?a:s.size===0?a.__empty():a.__make(s)}function ba(a,s){var l=Object.create(Ye);return l.size=a?a.size:0,l._map=a,l.__ownerID=s,l}var Fa;function kn(){return Fa||(Fa=ba(at()))}e(ft,ge);function ft(a){return a==null?_n():Pa(a)?a:_n().withMutations(function(s){var l=c(a);Ve(l.size),l.forEach(function(d){return s.add(d)})})}ft.of=function(){return this(arguments)},ft.fromKeys=function(a){return this(i(a).keySeq())},ft.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Pa(a){return gn(a)&&g(a)}ft.isOrderedSet=Pa;var br=ft.prototype;br[x]=!0,br.__empty=_n,br.__make=Ba;function Ba(a,s){var l=Object.create(br);return l.size=a?a.size:0,l._map=a,l.__ownerID=s,l}var Ia;function _n(){return Ia||(Ia=Ba(xr()))}e(Ee,Rt);function Ee(a){return a==null?An():Ca(a)?a:An().unshiftAll(a)}Ee.of=function(){return this(arguments)},Ee.prototype.toString=function(){return this.__toString("Stack [","]")},Ee.prototype.get=function(a,s){var l=this._head;for(a=ve(this,a);l&&a--;)l=l.next;return l?l.value:s},Ee.prototype.peek=function(){return this._head&&this._head.value},Ee.prototype.push=function(){if(arguments.length===0)return this;for(var a=this.size+arguments.length,s=this._head,l=arguments.length-1;l>=0;l--)s={value:arguments[l],next:s};return this.__ownerID?(this.size=a,this._head=s,this.__hash=void 0,this.__altered=!0,this):fr(a,s)},Ee.prototype.pushAll=function(a){if(a=u(a),a.size===0)return this;Ve(a.size);var s=this.size,l=this._head;return a.reverse().forEach(function(d){s++,l={value:d,next:l}}),this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):fr(s,l)},Ee.prototype.pop=function(){return this.slice(1)},Ee.prototype.unshift=function(){return this.push.apply(this,arguments)},Ee.prototype.unshiftAll=function(a){return this.pushAll(a)},Ee.prototype.shift=function(){return this.pop.apply(this,arguments)},Ee.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):An()},Ee.prototype.slice=function(a,s){if(re(a,s,this.size))return this;var l=Z(a,this.size),d=K(s,this.size);if(d!==this.size)return Rt.prototype.slice.call(this,a,s);for(var m=this.size-l,p=this._head;l--;)p=p.next;return this.__ownerID?(this.size=m,this._head=p,this.__hash=void 0,this.__altered=!0,this):fr(m,p)},Ee.prototype.__ensureOwner=function(a){return a===this.__ownerID?this:a?fr(this.size,this._head,a,this.__hash):(this.__ownerID=a,this.__altered=!1,this)},Ee.prototype.__iterate=function(a,s){if(s)return this.reverse().__iterate(a);for(var l=0,d=this._head;d&&a(d.value,l++,this)!==!1;)d=d.next;return l},Ee.prototype.__iterator=function(a,s){if(s)return this.reverse().__iterator(a);var l=0,d=this._head;return new V(function(){if(d){var m=d.value;return d=d.next,Q(a,l++,m)}return ye()})};function Ca(a){return!!(a&&a[Ra])}Ee.isStack=Ca;var Ra="@@__IMMUTABLE_STACK__@@",Jt=Ee.prototype;Jt[Ra]=!0,Jt.withMutations=G.withMutations,Jt.asMutable=G.asMutable,Jt.asImmutable=G.asImmutable,Jt.wasAltered=G.wasAltered;function fr(a,s,l,d){var m=Object.create(Jt);return m.size=a,m._head=s,m.__ownerID=l,m.__hash=d,m.__altered=!1,m}var Ma;function An(){return Ma||(Ma=fr(0))}function lt(a,s){var l=function(d){a.prototype[d]=s[d]};return Object.keys(s).forEach(l),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(s).forEach(l),a}o.Iterator=V,lt(o,{toArray:function(){Ve(this.size);var a=new Array(this.size||0);return this.valueSeq().__iterate(function(s,l){a[l]=s}),a},toIndexedSeq:function(){return new Dt(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS=="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON=="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new Xe(this,!0)},toMap:function(){return X(this.toKeyedSeq())},toObject:function(){Ve(this.size);var a={};return this.__iterate(function(s,l){a[l]=s}),a},toOrderedMap:function(){return Te(this.toKeyedSeq())},toOrderedSet:function(){return ft(v(this)?this.valueSeq():this)},toSet:function(){return ge(v(this)?this.valueSeq():this)},toSetSeq:function(){return new jt(this)},toSeq:function(){return h(this)?this.toIndexedSeq():v(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Ee(v(this)?this.valueSeq():this)},toList:function(){return he(v(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,s){return this.size===0?a+s:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+s},concat:function(){var a=t.call(arguments,0);return fe(this,Ho(this,a))},includes:function(a){return this.some(function(s){return Ne(s,a)})},entries:function(){return this.__iterator(Fe)},every:function(a,s){Ve(this.size);var l=!0;return this.__iterate(function(d,m,p){if(!a.call(s,d,m,p))return l=!1,!1}),l},filter:function(a,s){return fe(this,pa(this,a,s,!0))},find:function(a,s,l){var d=this.findEntry(a,s);return d?d[1]:l},forEach:function(a,s){return Ve(this.size),this.__iterate(s?a.bind(s):a)},join:function(a){Ve(this.size),a=a!==void 0?""+a:",";var s="",l=!0;return this.__iterate(function(d){l?l=!1:s+=a,s+=d!=null?d.toString():""}),s},keys:function(){return this.__iterator(qe)},map:function(a,s){return fe(this,ga(this,a,s))},reduce:function(a,s,l){Ve(this.size);var d,m;return arguments.length<2?m=!0:d=s,this.__iterate(function(p,_,A){m?(m=!1,d=p):d=a.call(l,d,p,_,A)}),d},reduceRight:function(a,s,l){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return fe(this,dn(this,!0))},slice:function(a,s){return fe(this,hn(this,a,s,!0))},some:function(a,s){return!this.every(Pr(a),s)},sort:function(a){return fe(this,qt(this,a))},values:function(){return this.__iterator(Se)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,s){return ue(a?this.toSeq().filter(a,s):this)},countBy:function(a,s){return Wo(this,a,s)},equals:function(a){return Wr(this,a)},entrySeq:function(){var a=this;if(a._cache)return new Qe(a._cache);var s=a.toSeq().map(ri).toIndexedSeq();return s.fromEntrySeq=function(){return a.toSeq()},s},filterNot:function(a,s){return this.filter(Pr(a),s)},findEntry:function(a,s,l){var d=l;return this.__iterate(function(m,p,_){if(a.call(s,m,p,_))return d=[p,m],!1}),d},findKey:function(a,s){var l=this.findEntry(a,s);return l&&l[0]},findLast:function(a,s,l){return this.toKeyedSeq().reverse().find(a,s,l)},findLastEntry:function(a,s,l){return this.toKeyedSeq().reverse().findEntry(a,s,l)},findLastKey:function(a,s){return this.toKeyedSeq().reverse().findKey(a,s)},first:function(){return this.find(H)},flatMap:function(a,s){return fe(this,Zo(this,a,s))},flatten:function(a){return fe(this,_a(this,a,!0))},fromEntrySeq:function(){return new $t(this)},get:function(a,s){return this.find(function(l,d){return Ne(d,a)},void 0,s)},getIn:function(a,s){for(var l=this,d=xa(a),m;!(m=d.next()).done;){var p=m.value;if(l=l&&l.get?l.get(p,B):B,l===B)return s}return l},groupBy:function(a,s){return Yo(this,a,s)},has:function(a){return this.get(a,B)!==B},hasIn:function(a){return this.getIn(a,B)!==B},isSubset:function(a){return a=typeof a.includes=="function"?a:o(a),this.every(function(s){return a.includes(s)})},isSuperset:function(a){return a=typeof a.isSubset=="function"?a:o(a),a.isSubset(this)},keyOf:function(a){return this.findKey(function(s){return Ne(s,a)})},keySeq:function(){return this.toSeq().map(ti).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(a){return this.toKeyedSeq().reverse().keyOf(a)},max:function(a){return Nr(this,a)},maxBy:function(a,s){return Nr(this,s,a)},min:function(a){return Nr(this,a?za(a):Da)},minBy:function(a,s){return Nr(this,s?za(s):Da,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return fe(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,s){return fe(this,ka(this,a,s,!0))},skipUntil:function(a,s){return this.skipWhile(Pr(a),s)},sortBy:function(a,s){return fe(this,qt(this,s,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return fe(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,s){return fe(this,Go(this,a,s))},takeUntil:function(a,s){return this.takeWhile(Pr(a),s)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ai(this))}});var ze=o.prototype;ze[k]=!0,ze[Je]=ze.values,ze.__toJS=ze.toArray,ze.__toStringMapper=La,ze.inspect=ze.toSource=function(){return this.toString()},ze.chain=ze.flatMap,ze.contains=ze.includes,lt(i,{flip:function(){return fe(this,ya(this))},mapEntries:function(a,s){var l=this,d=0;return fe(this,this.toSeq().map(function(m,p){return a.call(s,[p,m],d++,l)}).fromEntrySeq())},mapKeys:function(a,s){var l=this;return fe(this,this.toSeq().flip().map(function(d,m){return a.call(s,d,m,l)}).flip())}});var Fr=i.prototype;Fr[w]=!0,Fr[Je]=ze.entries,Fr.__toJS=ze.toObject,Fr.__toStringMapper=function(a,s){return JSON.stringify(s)+": "+La(a)},lt(u,{toKeyedSeq:function(){return new Xe(this,!1)},filter:function(a,s){return fe(this,pa(this,a,s,!1))},findIndex:function(a,s){var l=this.findEntry(a,s);return l?l[0]:-1},indexOf:function(a){var s=this.keyOf(a);return s===void 0?-1:s},lastIndexOf:function(a){var s=this.lastKeyOf(a);return s===void 0?-1:s},reverse:function(){return fe(this,dn(this,!1))},slice:function(a,s){return fe(this,hn(this,a,s,!1))},splice:function(a,s){var l=arguments.length;if(s=Math.max(s|0,0),l===0||l===2&&!s)return this;a=Z(a,a<0?this.count():this.size);var d=this.slice(0,a);return fe(this,l===1?d:d.concat($(arguments,2),this.slice(a+s)))},findLastIndex:function(a,s){var l=this.findLastEntry(a,s);return l?l[0]:-1},first:function(){return this.get(0)},flatten:function(a){return fe(this,_a(this,a,!1))},get:function(a,s){return a=ve(this,a),a<0||this.size===1/0||this.size!==void 0&&a>this.size?s:this.find(function(l,d){return d===a},void 0,s)},has:function(a){return a=ve(this,a),a>=0&&(this.size!==void 0?this.size===1/0||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return fe(this,Qo(this,a))},interleave:function(){var a=[this].concat($(arguments)),s=mn(this.toSeq(),ne.of,a),l=s.flatten(!0);return s.size&&(l.size=s.size*a.length),fe(this,l)},keySeq:function(){return Be(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(a,s){return fe(this,ka(this,a,s,!1))},zip:function(){var a=[this].concat($(arguments));return fe(this,mn(this,ni,a))},zipWith:function(a){var s=$(arguments);return s[0]=this,fe(this,mn(this,a,s))}}),u.prototype[N]=!0,u.prototype[x]=!0,lt(c,{get:function(a,s){return this.has(a)?a:s},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}}),c.prototype.has=ze.includes,c.prototype.contains=c.prototype.includes,lt(Pe,i.prototype),lt(ne,u.prototype),lt(Ke,c.prototype),lt(nr,i.prototype),lt(Rt,u.prototype),lt(wr,c.prototype);function ti(a,s){return s}function ri(a,s){return[s,a]}function Pr(a){return function(){return!a.apply(this,arguments)}}function za(a){return function(){return-a.apply(this,arguments)}}function La(a){return typeof a=="string"?JSON.stringify(a):String(a)}function ni(){return $(arguments)}function Da(a,s){return a<s?1:a>s?-1:0}function ai(a){if(a.size===1/0)return 0;var s=g(a),l=v(a),d=s?1:0,m=a.__iterate(l?s?function(p,_){d=31*d+ja(Ue(p),Ue(_))|0}:function(p,_){d=d+ja(Ue(p),Ue(_))|0}:s?function(p){d=31*d+Ue(p)|0}:function(p){d=d+Ue(p)|0});return oi(m,d)}function oi(a,s){return s=ar(s,3432918353),s=ar(s<<15|s>>>-15,461845907),s=ar(s<<13|s>>>-13,5),s=(s+3864292196|0)^a,s=ar(s^s>>>16,2246822507),s=ar(s^s>>>13,3266489909),s=Hr(s^s>>>16),s}function ja(a,s){return a^s+2654435769+(a<<6)+(a>>2)|0}var ii={Iterable:o,Seq:_e,Collection:_t,Map:X,OrderedMap:Te,List:he,Stack:Ee,Set:ge,OrderedSet:ft,Record:We,Range:Be,Repeat:Re,is:Ne,fromJS:Kr};return ii})})(ho);var E=ho.exports;/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zi=function(n){return n!=null&&typeof n=="object"&&Array.isArray(n)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Li=zi;function qa(r){return Li(r)===!0&&Object.prototype.toString.call(r)==="[object Object]"}var Di=function(n){var t,e;return!(qa(n)===!1||(t=n.constructor,typeof t!="function")||(e=t.prototype,qa(e)===!1)||e.hasOwnProperty("isPrototypeOf")===!1)};const de=hr(Di);var ji=function(r,n){};const D=ji;var $i=!0,Ja="Invariant failed";function et(r,n){if(!r)throw $i?new Error(Ja):new Error(Ja+": "+(n||""))}var Bn={exports:{}},Sn,Ka;function qi(){if(Ka)return Sn;Ka=1;var r=1e3,n=r*60,t=n*60,e=t*24,o=e*7,i=e*365.25;Sn=function(h,y){y=y||{};var g=typeof h;if(g==="string"&&h.length>0)return u(h);if(g==="number"&&isFinite(h))return y.long?f(h):c(h);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(h))};function u(h){if(h=String(h),!(h.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(h);if(y){var g=parseFloat(y[1]),k=(y[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return g*i;case"weeks":case"week":case"w":return g*o;case"days":case"day":case"d":return g*e;case"hours":case"hour":case"hrs":case"hr":case"h":return g*t;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function c(h){var y=Math.abs(h);return y>=e?Math.round(h/e)+"d":y>=t?Math.round(h/t)+"h":y>=n?Math.round(h/n)+"m":y>=r?Math.round(h/r)+"s":h+"ms"}function f(h){var y=Math.abs(h);return y>=e?v(h,y,e,"day"):y>=t?v(h,y,t,"hour"):y>=n?v(h,y,n,"minute"):y>=r?v(h,y,r,"second"):h+" ms"}function v(h,y,g,k){var w=y>=g*1.5;return Math.round(h/g)+" "+k+(w?"s":"")}return Sn}function Ji(r){t.debug=t,t.default=t,t.coerce=f,t.disable=u,t.enable=i,t.enabled=c,t.humanize=qi(),Object.keys(r).forEach(function(v){t[v]=r[v]}),t.instances=[],t.names=[],t.skips=[],t.formatters={};function n(v){for(var h=0,y=0;y<v.length;y++)h=(h<<5)-h+v.charCodeAt(y),h|=0;return t.colors[Math.abs(h)%t.colors.length]}t.selectColor=n;function t(v){var h;function y(){if(y.enabled){for(var g=arguments.length,k=new Array(g),w=0;w<g;w++)k[w]=arguments[w];var N=y,x=Number(new Date),P=x-(h||x);N.diff=P,N.prev=h,N.curr=x,h=x,k[0]=t.coerce(k[0]),typeof k[0]!="string"&&k.unshift("%O");var F=0;k[0]=k[0].replace(/%([a-zA-Z%])/g,function(M,B){if(M==="%%")return M;F++;var j=t.formatters[B];if(typeof j=="function"){var te=k[F];M=j.call(N,te),k.splice(F,1),F--}return M}),t.formatArgs.call(N,k);var L=N.log||t.log;L.apply(N,k)}}return y.namespace=v,y.enabled=t.enabled(v),y.useColors=t.useColors(),y.color=n(v),y.destroy=e,y.extend=o,typeof t.init=="function"&&t.init(y),t.instances.push(y),y}function e(){var v=t.instances.indexOf(this);return v!==-1?(t.instances.splice(v,1),!0):!1}function o(v,h){return t(this.namespace+(typeof h>"u"?":":h)+v)}function i(v){t.save(v),t.names=[],t.skips=[];var h,y=(typeof v=="string"?v:"").split(/[\s,]+/),g=y.length;for(h=0;h<g;h++)y[h]&&(v=y[h].replace(/\*/g,".*?"),v[0]==="-"?t.skips.push(new RegExp("^"+v.substr(1)+"$")):t.names.push(new RegExp("^"+v+"$")));for(h=0;h<t.instances.length;h++){var k=t.instances[h];k.enabled=t.enabled(k.namespace)}}function u(){t.enable("")}function c(v){if(v[v.length-1]==="*")return!0;var h,y;for(h=0,y=t.skips.length;h<y;h++)if(t.skips[h].test(v))return!1;for(h=0,y=t.names.length;h<y;h++)if(t.names[h].test(v))return!0;return!1}function f(v){return v instanceof Error?v.stack||v.message:v}return t.enable(t.load()),t}var Ki=Ji;(function(r,n){function t(h){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?t=function(g){return typeof g}:t=function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},t(h)}n.log=i,n.formatArgs=o,n.save=u,n.load=c,n.useColors=e,n.storage=f(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(h){if(h[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+h[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!!this.useColors){var y="color: "+this.color;h.splice(1,0,y,"color: inherit");var g=0,k=0;h[0].replace(/%[a-zA-Z%]/g,function(w){w!=="%%"&&(g++,w==="%c"&&(k=g))}),h.splice(k,0,y)}}function i(){var h;return(typeof console>"u"?"undefined":t(console))==="object"&&console.log&&(h=console).log.apply(h,arguments)}function u(h){try{h?n.storage.setItem("debug",h):n.storage.removeItem("debug")}catch{}}function c(){var h;try{h=n.storage.getItem("debug")}catch{}return!h&&typeof process<"u"&&"env"in process&&(h={}.DEBUG),h}function f(){try{return localStorage}catch{}}r.exports=Ki(n);var v=r.exports.formatters;v.j=function(h){try{return JSON.stringify(h)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}})(Bn,Bn.exports);var Ui=Bn.exports;const Mn=hr(Ui);var zr={exports:{}};/*! https://mths.be/esrever v0.2.0 by @mathias */zr.exports;(function(r,n){(function(t){var e=n,o=r&&r.exports==e&&r,i=typeof Rr=="object"&&Rr;(i.global===i||i.window===i)&&(t=i);var u=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,c=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,f=function(y){y=y.replace(u,function(w,N,x){return f(x)+N}).replace(c,"$2$1");for(var g="",k=y.length;k--;)g+=y.charAt(k);return g},v={version:"0.2.0",reverse:f};if(e&&!e.nodeType)if(o)o.exports=v;else for(var h in v)v.hasOwnProperty(h)&&(e[h]=v[h]);else t.esrever=v})(Rr)})(zr,zr.exports);var mo=zr.exports,Vi=mi,Wi=ki;function Yi(r,n){return Vi(r,n,function(t,e){return Wi(r,e)})}var Gi=Yi,Ua=hi,Hi=_i,Zi=Ai,Va=Ua?Ua.isConcatSpreadable:void 0;function Qi(r){return Zi(r)||Hi(r)||!!(Va&&r&&r[Va])}var Xi=Qi,es=Si,ts=Xi;function yo(r,n,t,e,o){var i=-1,u=r.length;for(t||(t=ts),o||(o=[]);++i<u;){var c=r[i];n>0&&t(c)?n>1?yo(c,n-1,t,e,o):es(o,c):e||(o[o.length]=c)}return o}var rs=yo,ns=rs;function as(r){var n=r==null?0:r.length;return n?ns(r,1):[]}var os=as;function is(r,n,t){switch(t.length){case 0:return r.call(n);case 1:return r.call(n,t[0]);case 2:return r.call(n,t[0],t[1]);case 3:return r.call(n,t[0],t[1],t[2])}return r.apply(n,t)}var ss=is,us=ss,Wa=Math.max;function cs(r,n,t){return n=Wa(n===void 0?r.length-1:n,0),function(){for(var e=arguments,o=-1,i=Wa(e.length-n,0),u=Array(i);++o<i;)u[o]=e[n+o];o=-1;for(var c=Array(n+1);++o<n;)c[o]=e[o];return c[n]=t(u),us(r,this,c)}}var fs=cs;function ls(r){return function(){return r}}var vs=ls,ds=vs,Ya=wi,hs=Oi,ms=Ya?function(r,n){return Ya(r,"toString",{configurable:!0,enumerable:!1,value:ds(n),writable:!0})}:hs,ys=ms,gs=800,ps=16,ks=Date.now;function _s(r){var n=0,t=0;return function(){var e=ks(),o=ps-(e-t);if(t=e,o>0){if(++n>=gs)return arguments[0]}else n=0;return r.apply(void 0,arguments)}}var As=_s,Ss=ys,ws=As,Os=ws(Ss),Ts=Os,xs=os,Ns=fs,Es=Ts;function bs(r){return Es(Ns(r,void 0,xs),r+"")}var go=bs,Fs=Gi,Ps=go,Bs=Ps(function(r,n){return r==null?{}:Fs(r,n)}),Is=Bs;const dr=hr(Is);function Cs(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}var Rs=Cs;function Ms(r,n,t){var e=-1,o=r.length;n<0&&(n=-n>o?0:o+n),t=t>o?o:t,t<0&&(t+=o),o=n>t?0:t-n>>>0,n>>>=0;for(var i=Array(o);++e<o;)i[e]=r[e+n];return i}var zs=Ms,Ls=Ti,Ds=zs;function js(r,n){return n.length<2?r:Ls(r,Ds(n,0,-1))}var $s=js,qs=vo,Js=Rs,Ks=$s,Us=xi;function Vs(r,n){return n=qs(n,r),r=Ks(r,n),r==null||delete r[Us(Js(n))]}var Ws=Vs,Ys=Ei;function Gs(r){return Ys(r)?void 0:r}var Hs=Gs,Zs=Ni,Qs=pi,Xs=Ws,eu=vo,tu=yi,ru=Hs,nu=go,au=gi,ou=1,iu=2,su=4,uu=nu(function(r,n){var t={};if(r==null)return t;var e=!1;n=Zs(n,function(i){return i=eu(i,r),e||(e=i.length>1),i}),tu(r,au(r),t),e&&(t=Qs(t,ou|iu|su,ru));for(var o=n.length;o--;)Xs(t,n[o]);return t}),cu=uu;const po=hr(cu);var zn,Ln,ko,_o;zn="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿";Ln="֑-߿יִ-﷽ﹰ-ﻼ";ko=new RegExp("^[^"+Ln+"]*["+zn+"]");_o=new RegExp("^[^"+zn+"]*["+Ln+"]");function fu(r){return r=r.toString(),_o.test(r)?"rtl":ko.test(r)?"ltr":"neutral"}var lu=fu;const vu=hr(lu);var Ga=void 0,Dn=void 0;function du(r){if(r==null)return Dn();if(typeof r=="string")return r;throw new Error("Keys must be strings, but you passed: "+r)}function hu(r){Dn=r}function Ao(){Ga=0,Dn=function(){return""+Ga++}}Ao();var Yt={create:du,setGenerator:hu,resetGenerator:Ao},jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ae=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")},we=function(){function r(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}(),In=function(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r},Le=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},je=function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)},Ut=function(r,n){var t={};for(var e in r)n.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t},$e=function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r},R=function(){function r(n,t){var e=[],o=!0,i=!1,u=void 0;try{for(var c=n[Symbol.iterator](),f;!(o=(f=c.next()).done)&&(e.push(f.value),!(t&&e.length===t));o=!0);}catch(v){i=!0,u=v}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return e}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return r(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),be=function(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}else return Array.from(r)};function Dr(r,n){for(var t=jr(r,n),e=0;e<t;e++){var o=r.get(e),i=n.get(e);if(o<i)return-1;if(o>i)return 1}return r.size===n.size?0:null}function So(r){if(r==null)return null;if(E.List.isList(r))return r;if(Array.isArray(r))return E.List(r);throw new Error("Paths can only be created from arrays or lists, but you passed: "+r)}function Gt(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jr(r,n),e=r.slice(0,t),o=n.slice(0,t);return[e,o]}function bt(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.size-1;return wt(r,0-n,t)}function mu(r){var n=E.List().withMutations(function(t){for(var e=0;e<r.size;e++)t.push(r.slice(0,e))});return n}function wt(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.size-1,e=r.get(t),o=e+n,i=r.set(t,o);return i}function Cn(r,n){var t=Gt(r,n),e=R(t,2),o=e[0],i=e[1];return r.size<n.size&&Dr(o,i)===0}function yu(r,n){var t=Gt(r,n),e=R(t,2),o=e[0],i=e[1];return Dr(o,i)===1}function gu(r,n){var t=Gt(r,n),e=R(t,2),o=e[0],i=e[1];return Dr(o,i)===-1}function Vt(r,n){return r.equals(n)}function pu(r,n){var t=r.size-1,e=Gt(r,n,t),o=R(e,2),i=o[0],u=o[1],c=r.get(t),f=n.get(t);return Vt(i,u)&&c>f}function ku(r){return(E.List.isList(r)||Array.isArray(r))&&r.every(function(n){return typeof n=="number"})}function _u(r,n){if(r.size!==n.size)return!1;var t=r.butLast(),e=n.butLast();return t.equals(e)}function Mr(r,n){var t=r.size-1,e=Gt(r,n,t),o=R(e,2),i=o[0],u=o[1],c=r.get(t),f=n.get(t);return Vt(i,u)&&c<f}function Au(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.slice(0,-1*n);return t}function Su(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.slice(n);return t}function wu(r,n){var t=Math.max(r.size,n.size);return t}function jr(r,n){var t=Math.min(r.size,n.size);return t}function Ou(r,n){for(var t=[],e=0;e<r.size&&e<n.size;e++){var o=r.get(e),i=n.get(e);if(o!==i)break;t.push(o)}var u=So(t);return u}function Tu(r,n){var t=n.type,e=n.position,o=n.path;if(t==="add_mark"||t==="insert_text"||t==="remove_mark"||t==="remove_text"||t==="set_mark"||t==="set_node"||t==="set_selection"||t==="set_value"||t==="add_annotation"||t==="remove_annotation"||t==="set_annotation"||r.size===0)return E.List([r]);var i=o.size-1,u=Vt(o,r),c=Mr(o,r),f=Cn(o,r);if(t==="insert_node"&&(u||c||f)&&(r=wt(r,1,i)),t==="remove_node"&&(c?r=bt(r,1,i):(u||f)&&(r=[])),t==="merge_node"&&(u||c?r=bt(r,1,i):f&&(r=bt(r,1,i),r=wt(r,e,i+1))),t==="split_node"&&(u?r=[r,wt(r)]:c?r=wt(r,1,i):f&&r.get(i+1)>=e&&(r=wt(r,1,i),r=bt(r,e,i+1))),t==="move_node"){var v=n.newPath;if(Vt(o,v))return E.List([r]);f||u?Mr(o,v)&&o.size<v.size?r=bt(v,1,jr(v,o)-1).concat(r.slice(o.size)):r=v.concat(r.slice(o.size)):(c&&(r=bt(r,1,i)),(Mr(v,r)||Vt(v,r)||Cn(v,r))&&(r=wt(r,1,v.size-1)))}var h=Array.isArray(r)?r:[r];return E.List(h)}var I={compare:Dr,create:So,crop:Gt,decrement:bt,getAncestors:mu,increment:wt,isAbove:Cn,isAfter:yu,isBefore:gu,isEqual:Vt,isOlder:pu,isPath:ku,isSibling:_u,isYounger:Mr,lift:Au,drop:Su,max:wu,min:jr,relate:Ou,transform:Tu},xu={key:void 0,offset:void 0,path:void 0},ee=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"isAfterPoint",value:function(e){if(this.isUnset)return!1;var o=this.key===e.key&&this.offset>e.offset||I.compare(this.path,e.path)===1;return o}},{key:"isAfterRange",value:function(e){if(this.isUnset)return!1;var o=this.isAfterPoint(e.end);return o}},{key:"isAtEndOfRange",value:function(e){if(this.isUnset)return!1;var o=this.equals(e.end);return o}},{key:"isAtStartOfRange",value:function(e){if(this.isUnset)return!1;var o=this.equals(e.start);return o}},{key:"isBeforePoint",value:function(e){if(this.isUnset)return!1;var o=this.key===e.key&&this.offset<e.offset||I.compare(this.path,e.path)===-1;return o}},{key:"isBeforeRange",value:function(e){if(this.isUnset)return!1;var o=this.isBeforePoint(e.start);return o}},{key:"isInRange",value:function(e){if(this.isUnset)return!1;var o=this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end);return o}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var o=e.getLastText(),i=this.key===o.key&&this.offset===o.text.length;return i}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset||this.offset!==0)return!1;var o=e.getFirstText(),i=this.key===o.key;return i}},{key:"isInNode",value:function(e){return this.isUnset?!1:!!(e.object==="text"&&e.key===this.key||e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(e===0)return this;if(e<0)return this.moveForward(-e);var o=this.setOffset(this.offset-e);return o}},{key:"moveForward",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(e===0)return this;if(e<0)return this.moveBackward(-e);var o=this.setOffset(this.offset+e);return o}},{key:"moveTo",value:function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=this.key;typeof e=="number"?(o=e,e=this.path):typeof e=="string"?(i=e,e=i===this.key?this.path:null):i=e.equals(this.path)?this.key:null;var u=this.merge({key:i,path:e,offset:o});return u}},{key:"moveToStartOfNode",value:function(e){var o=e.getFirstText(),i=this.moveTo(o.key,0);return i}},{key:"moveToEndOfNode",value:function(e){var o=e.getLastText(),i=this.moveTo(o.key,o.text.length);return i}},{key:"normalize",value:function(e){if(this.key==null&&this.path==null)return this.setOffset(null);var o=this.key,i=this.offset,u=this.path,c=u&&e.getNode(u);if(!c&&(c=e.getNode(o),c)){var f=this.merge({path:e.getPath(o)});return f}if(!c){D();var v=e.getFirstText();if(!v)return n.create();var h=this.merge({key:v.key,offset:0,path:e.getPath(v.key)});return h}if(c.object!=="text"){D();var y=c.getTextAtOffset(i),g=c.getOffset(y.key),k=this.merge({offset:i-g,key:y.key,path:e.getPath(y.key)});return k}c&&u&&o&&o!==c.key&&D();var w=this.merge({key:c.key,path:u??e.getPath(c.key),offset:i==null?0:Math.min(i,c.text.length)});if(w.offset===c.text.length){var N=e.getClosestBlock(w.path),x=N.getNextText();x&&(w=w.merge({key:x.key,path:e.getPath(x.key),offset:0}))}return w}},{key:"setKey",value:function(e){e!=null&&(e=Yt.create(e));var o=this.set("key",e);return o}},{key:"setOffset",value:function(e){var o=this.set("offset",e);return o}},{key:"setPath",value:function(e){e!=null&&(e=I.create(e));var o=this.set("path",e);return o}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete o.key,o}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return this.key!=null&&this.offset!=null&&this.path!=null}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isPoint(e))return e;if(de(e))return n.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(de(e)){var o={};return"key"in e&&(o.key=e.key),"offset"in e&&(o.offset=e.offset),"path"in e&&(o.path=I.create(e.path)),"path"in e&&!("key"in e)&&(o.key=null),"key"in e&&!("path"in e)&&(o.path=null),o}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.key,i=o===void 0?null:o,u=e.offset,c=u===void 0?null:u,f=e.path,v=f===void 0?null:f,h=new n({key:i,offset:c,path:I.create(v)});return h}}]),n}(E.Record(xu)),ht=function(){function r(){Ae(this,r)}return we(r,null,[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E.Map.isMap(t))return t;if(de(t))return r.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(t){return new E.Map(t)}}]),r}();ht.fromJS=ht.fromJSON;var Nu={data:void 0,type:void 0},ie=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"toJSON",value:function(){var e={object:this.object,type:this.type,data:this.data.toJSON()};return e}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isMark(e))return e;if(typeof e=="string"&&(e={type:e}),de(e))return n.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(E.Set.isSet(e)||Array.isArray(e)){var o=new E.Set(e.map(n.create));return o}if(e==null)return E.Set();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isMark(e))return{data:e.data,type:e.type};if(typeof e=="string")return{type:e};if(de(e)){var o={};return"type"in e&&(o.type=e.type),"data"in e&&(o.data=ht.create(e.data)),o}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.data,i=o===void 0?{}:o,u=e.type;if(typeof u!="string")throw new Error("`Mark.fromJS` requires a `type` string.");var c=new n({type:u,data:new E.Map(i)});return c}},{key:"isMarkSet",value:function(e){return E.Set.isSet(e)&&e.every(function(o){return n.isMark(o)})}}]),n}(E.Record(Nu)),Eu={type:void 0,data:void 0,anchor:void 0,focus:void 0},Pt=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"setProperties",value:function(e){e=n.createProperties(e);var o=this.merge(e);return o}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return o}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isDecoration(e))return e;if(De.isRange(e))return n.fromJSON(De.createProperties(e));if(de(e))return n.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var o=new E.List(e.map(n.create));return o}throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isDecoration(e))return{type:e.type,data:e.data,anchor:ee.createProperties(e.anchor),focus:ee.createProperties(e.focus),mark:ie.create(e.mark)};if(de(e)){var o={};return"type"in e&&(o.type=e.type),"data"in e&&(o.data=ht.create(e.data)),"anchor"in e&&(o.anchor=ee.create(e.anchor)),"focus"in e&&(o.focus=ee.create(e.focus)),o}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.anchor,i=e.focus,u=e.type,c=e.data;if(e.mark&&!u&&(D(),u=e.mark.type,c=e.mark.data),!u)throw new Error("Decorations must be created with a `type`, but you passed: "+JSON.stringify(e));var f=new n({type:u,data:ht.create(c||{}),anchor:ee.fromJSON(o||{}),focus:ee.fromJSON(i||{})});return f}}]),n}(E.Record(Eu)),bu={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},kt=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"setIsFocused",value:function(e){var o=this.set("isFocused",e);return o}},{key:"setMarks",value:function(e){var o=this.set("marks",e);return o}},{key:"setProperties",value:function(e){e=n.createProperties(e);var o=e,i=o.anchor,u=o.focus,c=Ut(o,["anchor","focus"]);i&&(c.anchor=ee.create(i)),u&&(c.focus=ee.create(u));var f=this.merge(c);return f}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:this.marks==null?null:this.marks.toArray().map(function(i){return i.toJSON()})};return o}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isSelection(e))return e;if(De.isRange(e))return n.fromJSON(De.createProperties(e));if(de(e))return n.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isSelection(e))return{anchor:ee.createProperties(e.anchor),focus:ee.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(De.isRange(e))return{anchor:ee.createProperties(e.anchor),focus:ee.createProperties(e.focus)};if(de(e)){var o={};return"anchor"in e&&(o.anchor=ee.create(e.anchor)),"focus"in e&&(o.focus=ee.create(e.focus)),"isFocused"in e&&(o.isFocused=e.isFocused),"marks"in e&&(o.marks=e.marks==null?null:ie.createSet(e.marks)),o}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.anchor,i=e.focus,u=e.isFocused,c=u===void 0?!1:u,f=e.marks,v=f===void 0?null:f,h=new n({anchor:ee.fromJSON(o||{}),focus:ee.fromJSON(i||{}),isFocused:c,marks:v==null?null:new E.Set(v.map(ie.fromJSON))});return h}}]),n}(E.Record(bu)),wo={annotation:"@@__SLATE_ANNOTATION__@@",block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function Oo(r,n){return!!(n&&n[wo[r]])}var Fu={anchor:void 0,focus:void 0},De=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return o}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isRange(e))return e.object==="range"?e:n.fromJSON(n.createProperties(e));if(de(e))return n.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var o=new E.List(e.map(n.create));return o}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isRange(e))return{anchor:ee.createProperties(e.anchor),focus:ee.createProperties(e.focus)};if(de(e)){var o={};return"anchor"in e&&(o.anchor=ee.create(e.anchor)),"focus"in e&&(o.focus=ee.create(e.focus)),o}throw new Error("`Range.createProperties` only accepts objects, annotations, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.anchor,i=e.focus,u=new n({anchor:ee.fromJSON(o||{}),focus:ee.fromJSON(i||{})});return u}},{key:"isRange",value:function(e){return Oo("range",e)||Pt.isDecoration(e)||kt.isSelection(e)}}]),n}(E.Record(Fu)),Pu={key:void 0,type:void 0,data:void 0,anchor:void 0,focus:void 0},Ce=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"setProperties",value:function(e){e=n.createProperties(e);var o=this.merge(e);return o}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,key:this.key,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return o}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isAnnotation(e))return e;if(De.isRange(e))return n.fromJSON(De.createProperties(e));if(de(e))return n.fromJSON(e);throw new Error("`Annotation.create` only accepts objects or annotations, but you passed it: "+e)}},{key:"createMap",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.Map.isMap(e))return e;if(de(e)){var o={};for(var i in e){var u=e[i],c=n.create(u);o[i]=c}return E.Map(o)}throw new Error("`Annotation.createMap` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isAnnotation(e))return{key:e.key,type:e.type,data:e.data,anchor:ee.createProperties(e.anchor),focus:ee.createProperties(e.focus)};if(de(e)){var o={};return"key"in e&&(o.key=e.key),"type"in e&&(o.type=e.type),"data"in e&&(o.data=ht.create(e.data)),"anchor"in e&&(o.anchor=ee.create(e.anchor)),"focus"in e&&(o.focus=ee.create(e.focus)),o}throw new Error("`Annotation.createProperties` only accepts objects or annotations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.key,i=e.type,u=e.data,c=e.anchor,f=e.focus;if(!o)throw new Error("Annotations must be created with a `key`, but you passed: "+JSON.stringify(e));if(!i)throw new Error("Annotations must be created with a `type`, but you passed: "+JSON.stringify(e));var v=new n({key:o,type:i,data:ht.create(u||{}),anchor:ee.fromJSON(c||{}),focus:ee.fromJSON(f||{})});return v}}]),n}(E.Record(Pu)),Bu={data:void 0,key:void 0,nodes:void 0},it=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(i){return i.toJSON(e)})};return e.preserveKeys&&(o.key=this.key),o}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isDocument(e))return e;if((E.List.isList(e)||Array.isArray(e))&&(e={nodes:e}),de(e))return n.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isDocument(e))return e;var o=e.data,i=o===void 0?{}:o,u=e.key,c=u===void 0?Yt.create():u,f=e.nodes,v=f===void 0?[]:f,h=new n({key:c,data:new E.Map(i),nodes:He.createList(v)});return h}}]),n}(E.Record(Bu)),Iu={data:void 0,key:void 0,nodes:void 0,type:void 0},tt=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(i){return i.toJSON(e)})};return e.preserveKeys&&(o.key=this.key),o}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isInline(e))return e;if(typeof e=="string"&&(e={type:e}),de(e))return n.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var o=new E.List(e.map(n.create));return o}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isInline(e))return e;var o=e.data,i=o===void 0?{}:o,u=e.key,c=u===void 0?Yt.create():u,f=e.nodes,v=f===void 0?[]:f,h=e.type;if(typeof h!="string")throw new Error("`Inline.fromJS` requires a `type` string.");var y=new n({key:c,type:h,data:new E.Map(i),nodes:He.createList(v)});return y}},{key:"isInlineList",value:function(e){return E.List.isList(e)&&e.every(function(o){return n.isInline(o)})}}]),n}(E.Record(Iu)),Cu={key:void 0,marks:void 0,text:void 0},Ru=E.Record({text:void 0,marks:void 0,annotations:void 0,decorations:void 0}),dt=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"addMark",value:function(e){e=ie.create(e);var o=this.marks,i=o.add(e),u=this.set("marks",i);return u}},{key:"addMarks",value:function(e){e=ie.createSet(e);var o=this.set("marks",this.marks.union(e));return o}},{key:"getLeaves",value:function(e,o){var i=this.text,u=this.marks,c=[{text:i,marks:u,annotations:[],decorations:[]}],f=function(g,k){return[{text:g.text.slice(0,k),marks:g.marks,annotations:[].concat(be(g.annotations)),decorations:[].concat(be(g.decorations))},{text:g.text.slice(k),marks:g.marks,annotations:[].concat(be(g.annotations)),decorations:[].concat(be(g.decorations))}]},v=function(g){var k=g==="annotations"?e.values():o,w=!0,N=!1,x=void 0;try{for(var P=k[Symbol.iterator](),F;!(w=(F=P.next()).done);w=!0){var L=F.value,M=L.start,B=L.end,j=[],te=0,oe=!0,U=!1,se=void 0;try{for(var $=c[Symbol.iterator](),ue;!(oe=(ue=$.next()).done);oe=!0){var ve=ue.value,H=ve.text.length,re=te;if(te+=H,M.offset<=re&&B.offset>=re+H){ve[g].push(L),j.push(ve);continue}if(M.offset>re+H||B.offset<re||B.offset===re&&re!==0){j.push(ve);continue}var Z=ve,K=void 0,Y=void 0;if(B.offset<re+H){var qe=f(Z,B.offset-re),Se=R(qe,2);Z=Se[0],Y=Se[1]}if(M.offset>re){var Fe=f(Z,M.offset-re),Oe=R(Fe,2);K=Oe[0],Z=Oe[1]}Z[g].push(L),K&&j.push(K),j.push(Z),Y&&j.push(Y)}}catch(xe){U=!0,se=xe}finally{try{!oe&&$.return&&$.return()}finally{if(U)throw se}}c=j}}catch(xe){N=!0,x=xe}finally{try{!w&&P.return&&P.return()}finally{if(N)throw x}}};v("annotations"),v("decorations"),c=c.map(function(y){return new Ru(Le({},y,{annotations:E.List(y.annotations),decorations:E.List(y.decorations)}))});var h=E.List(c);return h}},{key:"insertText",value:function(e,o){var i=this.text,u=i.slice(0,e)+o+i.slice(e),c=this.set("text",u);return c}},{key:"removeMark",value:function(e){e=ie.create(e);var o=this.marks,i=o.remove(e),u=this.set("marks",i);return u}},{key:"removeText",value:function(e,o){var i=this.text,u=i.slice(0,e)+i.slice(e+o),c=this.set("text",u);return c}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,text:this.text,marks:this.marks.toArray().map(function(i){return i.toJSON()})};return e.preserveKeys&&(o.key=this.key),o}},{key:"setMark",value:function(e,o){var i=this.marks,u=ie.create(e),c=u.merge(o),f=i.remove(u).add(c),v=this.set("marks",f);return v}},{key:"splitText",value:function(e){var o=this.text,i=this.set("text",o.slice(0,e)),u=this.set("text",o.slice(e)).regenerateKey();return[i,u]}},{key:"mergeText",value:function(e){var o=this.text+e.text,i=this.set("text",o);return i}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(n.isText(e))return e;if(typeof e=="string"&&(e={text:e}),de(e))return n.fromJSON(e);throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var o=new E.List(e.map(n.create));return o}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isText(e))return e;et(e.leaves==null,"As of slate@0.46, the `leaves` property of text nodes has been removed! Each individual leaf should be created as a text node instead.");var o=e.text,i=o===void 0?"":o,u=e.marks,c=u===void 0?[]:u,f=e.key,v=f===void 0?Yt.create():f,h=new n({key:v,text:i,marks:ie.createSet(c)});return h}},{key:"isTextList",value:function(e){return E.List.isList(e)&&e.every(function(o){return n.isText(o)})}}]),n}(E.Record(Cu)),He=function(){function r(){Ae(this,r)}return we(r,null,[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.isNode(t))return t;if(de(t)){var e=t.object;switch(!e&&t.kind&&(D(),e=t.kind),e){case"block":return rt.create(t);case"document":return it.create(t);case"inline":return tt.create(t);case"text":return dt.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(t)||Array.isArray(t)){var e=[];t.forEach(function(i){if(i&&i.object==="text"&&i.leaves&&Array.isArray(i.leaves)){D();var u=dt.createList(i.leaves).toArray();e=e.concat(u);return}var c=r.create(i);e.push(c)});var o=E.List(e);return o}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(rt.isBlock(t)||tt.isInline(t))return{data:t.data,type:t.type};if(typeof t=="string")return{type:t};if(de(t)){var e={};return"type"in t&&(e.type=t.type),"data"in t&&(e.data=ht.create(t.data)),e}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var e=t.object;switch(!e&&t.kind&&(D(),e=t.kind),e){case"block":return rt.fromJSON(t);case"document":return it.fromJSON(t);case"inline":return tt.fromJSON(t);case"text":return dt.fromJSON(t);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+t)}}},{key:"isNode",value:function(t){return rt.isBlock(t)||it.isDocument(t)||tt.isInline(t)||dt.isText(t)}},{key:"isNodeList",value:function(t){return E.List.isList(t)&&t.every(function(e){return r.isNode(e)})}}]),r}(),Mu={data:void 0,key:void 0,nodes:void 0,type:void 0},rt=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(i){return i.toJSON(e)})};return e.preserveKeys&&(o.key=this.key),o}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isBlock(e))return e;if(typeof e=="string"&&(e={type:e}),de(e))return n.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var o=new E.List(e.map(n.create));return o}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isBlock(e))return e;var o=e.data,i=o===void 0?{}:o,u=e.key,c=u===void 0?Yt.create():u,f=e.nodes,v=f===void 0?[]:f,h=e.type;if(typeof h!="string")throw new Error("`Block.fromJSON` requires a `type` string.");var y=new n({key:c,type:h,data:E.Map(i),nodes:He.createList(v)});return y}},{key:"isBlockList",value:function(e){return E.List.isList(e)&&e.every(function(o){return n.isBlock(o)})}}]),n}(E.Record(Mu)),zu={annotations:void 0,data:void 0,document:void 0,selection:void 0},mt=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"addAnnotation",value:function(e){e=Ce.create(e);var o=this,i=o,u=i.annotations,c=i.document,f=e,v=f.key;return e=e.updatePoints(function(h){return h.normalize(c)}),u=u.set(v,e),o=o.set("annotations",u),o}},{key:"addMark",value:function(e,o){o=ie.create(o);var i=this,u=i,c=u.document;return c=c.addMark(e,o),i=i.set("document",c),i}},{key:"insertNode",value:function(e,o){var i=this,u=i,c=u.document;return c=c.insertNode(e,o),i=i.set("document",c),i=i.mapRanges(function(f){return f.updatePoints(function(v){return v.setPath(null)})}),i}},{key:"insertText",value:function(e,o,i){var u=this,c=u,f=c.document,v=f.assertNode(e);return f=f.insertText(e,o,i),v=f.assertNode(e),u=u.set("document",f),u=u.mapPoints(function(h){return h.key===v.key&&h.offset>=o?h.setOffset(h.offset+i.length):h}),u}},{key:"mergeNode",value:function(e){var o=this,i=o,u=i.document,c=u.mergeNode(e);e=u.resolvePath(e);var f=I.decrement(e),v=u.getNode(f),h=u.getNode(e);return o=o.set("document",c),o=o.mapRanges(function(y){if(h.object==="text"){var g=v.text.length;y.anchor.key===h.key&&(y=y.moveAnchorTo(v.key,g+y.anchor.offset)),y.focus.key===h.key&&(y=y.moveFocusTo(v.key,g+y.focus.offset))}return y=y.updatePoints(function(k){return k.setPath(null)}),y}),o}},{key:"moveNode",value:function(e,o){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,u=this,c=u,f=c.document;return I.isEqual(e,o)||(f=f.moveNode(e,o,i),u=u.set("document",f),u=u.mapPoints(function(v){return v.setPath(null)})),u}},{key:"removeAnnotation",value:function(e){e=Ce.create(e);var o=this,i=o,u=i.annotations,c=e,f=c.key;return u=u.delete(f),o=o.set("annotations",u),o}},{key:"removeMark",value:function(e,o){o=ie.create(o);var i=this,u=i,c=u.document;return c=c.removeMark(e,o),i=i.set("document",c),i}},{key:"removeNode",value:function(e){var o=this,i=o,u=i.document,c=u.assertNode(e),f=c.object==="text"?c:c.getFirstText()||c,v=c.object==="text"?c:c.getLastText()||c,h=u.getPreviousText(f.key),y=u.getNextText(v.key);return u=u.removeNode(e),o=o.set("document",u),o=o.mapRanges(function(g){var k=g,w=k.anchor,N=k.focus;return c.hasNode(w.key)&&(g=h?g.moveAnchorTo(h.key,h.text.length):y?g.moveAnchorTo(y.key,0):g.unset()),c.hasNode(N.key)&&(g=h?g.moveFocusTo(h.key,h.text.length):y?g.moveFocusTo(y.key,0):g.unset()),g=g.updatePoints(function(x){return x.setPath(null)}),g}),o}},{key:"removeText",value:function(e,o,i){var u=this,c=u,f=c.document,v=f.assertNode(e);f=f.removeText(e,o,i),u=u.set("document",f);var h=i.length,y=o,g=o+h;return u=u.mapPoints(function(k){return k.key!==v.key?k:k.offset>=g?k.setOffset(k.offset-h):k.offset>y?k.setOffset(y):k}),u}},{key:"setAnnotation",value:function(e,o){o=Ce.createProperties(o);var i=Ce.create(e),u=i.merge(o),c=this,f=c,v=f.annotations,h=i.key;return v=v.set(h,u),c=c.set("annotations",v),c}},{key:"setNode",value:function(e,o){var i=this,u=i,c=u.document;return c=c.setNode(e,o),i=i.set("document",c),i}},{key:"setMark",value:function(e,o,i){var u=this,c=u,f=c.document;return f=f.setMark(e,o,i),u=u.set("document",f),u}},{key:"setProperties",value:function(e){var o=this,i=o,u=i.document,c=e.data,f=e.annotations,v={};return c&&(v.data=c),f&&(v.annotations=f.map(function(h){return h.isSet?h:u.resolveAnnotation(h)})),o=o.merge(v),o}},{key:"setSelection",value:function(e){var o=this,i=o,u=i.document,c=i.selection,f=c.setProperties(e);return c=u.resolveSelection(f),o=o.set("selection",c),o}},{key:"splitNode",value:function(e,o,i){var u=this,c=u,f=c.document,v=f.splitNode(e,o,i),h=f.assertNode(e);return u=u.set("document",v),u=u.mapRanges(function(y){var g=v.getNextText(h.key),k=y,w=k.anchor,N=k.focus;return h.key===w.key&&o<=w.offset&&(y=y.moveAnchorTo(g.key,w.offset-o)),h.key===N.key&&o<=N.offset&&(y=y.moveFocusTo(g.key,N.offset-o)),y=y.updatePoints(function(x){return x.setPath(null)}),y}),u}},{key:"mapRanges",value:function(e){var o=this,i=o,u=i.document,c=i.selection,f=i.annotations,v=c.isSet?e(c):c;v||(v=c.unset()),v!==c&&(v=u.createSelection(v)),o=o.set("selection",v);var h=f.map(function(y){var g=y.isSet?e(y):y;return g&&g!==y&&(g=u.createAnnotation(g)),g});return h=h.filter(function(y){return!!y}),o=o.set("annotations",h),o}},{key:"mapPoints",value:function(e){return this.mapRanges(function(o){return o.updatePoints(e)})}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(o.data=this.data.toJSON(e)),e.preserveAnnotations&&(o.annotations=this.annotations.map(function(i){return i.toJSON(e)}).toObject()),e.preserveSelection&&(o.selection=this.selection.toJSON(e)),o}},{key:"change",value:function(){et(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new E.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new E.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new E.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?it.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new E.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new E.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){et(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n.isValue(e))return e;if(de(e))return n.fromJSON(e,o);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isValue(e))return{annotations:e.annotations,data:e.data};if(de(e)){var o={};return"annotations"in e&&(o.annotations=Ce.createMap(e.annotations)),"data"in e&&(o.data=ht.create(e.data)),o}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.data,i=o===void 0?{}:o,u=e.annotations,c=u===void 0?{}:u,f=e.document,v=f===void 0?{}:f,h=e.selection,y=h===void 0?{}:h;if(i=ht.fromJSON(i),v=it.fromJSON(v),y=v.createSelection(y),c=Ce.createMap(c),y.isUnset){var g=v.getFirstText();g&&(y=y.moveToStartOfNode(g)),y=v.createSelection(y)}var k=new n({annotations:c,data:i,document:v,selection:y});return k}}]),n}(E.Record(zu)),Lu=Mn("slate:operation:apply");function Du(r,n){n=Bt.create(n);var t=n,e=t.type;switch(Lu(e,n),e){case"add_annotation":{var o=n,i=o.annotation,u=r.addAnnotation(i);return u}case"add_mark":{var c=n,f=c.path,v=c.mark,h=r.addMark(f,v);return h}case"insert_node":{var y=n,g=y.path,k=y.node,w=r.insertNode(g,k);return w}case"insert_text":{var N=n,x=N.path,P=N.offset,F=N.text,L=N.marks,M=r.insertText(x,P,F,L);return M}case"merge_node":{var B=n,j=B.path,te=r.mergeNode(j);return te}case"move_node":{var oe=n,U=oe.path,se=oe.newPath,$=r.moveNode(U,se);return $}case"remove_annotation":{var ue=n,ve=ue.annotation,H=r.removeAnnotation(ve);return H}case"remove_mark":{var re=n,Z=re.path,K=re.mark,Y=r.removeMark(Z,K);return Y}case"remove_node":{var qe=n,Se=qe.path,Fe=r.removeNode(Se);return Fe}case"remove_text":{var Oe=n,xe=Oe.path,Je=Oe.offset,V=Oe.text,Q=r.removeText(xe,Je,V);return Q}case"set_annotation":{var ye=n,st=ye.properties,Ze=ye.newProperties,nt=r.setAnnotation(st,Ze);return nt}case"set_mark":{var gt=n,It=gt.path,_e=gt.properties,Pe=gt.newProperties,ne=r.setMark(It,_e,Pe);return ne}case"set_node":{var Ke=n,yr=Ke.path,Qe=Ke.newProperties,ut=r.setNode(yr,Qe);return ut}case"set_selection":{var Tt=n,xt=Tt.newProperties,rr=r.setSelection(xt);return rr}case"set_value":{var gr=n,Ct=gr.newProperties,pr=r.setProperties(Ct);return pr}case"split_node":{var Nt=n,Jr=Nt.path,kr=Nt.position,_r=Nt.properties,Ar=r.splitNode(Jr,kr,_r);return Ar}default:throw new Error('Unknown operation type: "'+e+'".')}}var ju=Mn("slate:operation:invert");function $u(r){r=Bt.create(r);var n=r,t=n.type;switch(ju(t,r),t){case"move_node":{var e=r,o=e.newPath,i=e.path;if(I.isEqual(o,i))return r;var u=I.transform(i,r).first(),c=I.transform(I.increment(i),r).first(),f=r.set("path",u).set("newPath",c);return f}case"merge_node":{var v=r,h=v.path,y=I.decrement(h),g=r.set("type","split_node").set("path",y);return g}case"split_node":{var k=r,w=k.path,N=I.increment(w),x=r.set("type","merge_node").set("path",N);return x}case"set_annotation":case"set_node":case"set_value":case"set_selection":case"set_mark":{var P=r,F=P.properties,L=P.newProperties,M=r.set("properties",L).set("newProperties",F);return M}case"insert_node":case"insert_text":{var B=r.set("type",t.replace("insert_","remove_"));return B}case"remove_node":case"remove_text":{var j=r.set("type",t.replace("remove_","insert_"));return j}case"add_annotation":case"add_mark":{var te=r.set("type",t.replace("add_","remove_"));return te}case"remove_annotation":case"remove_mark":{var oe=r.set("type",t.replace("remove_","add_"));return oe}default:throw new Error('Unknown operation type: "'+t+'".')}}var Ha={add_mark:["path","mark","data"],add_annotation:["annotation","data"],insert_node:["path","node","data"],insert_text:["path","offset","text","data"],merge_node:["path","position","properties","target","data"],move_node:["path","newPath","data"],remove_annotation:["annotation","data"],remove_mark:["path","mark","data"],remove_node:["path","node","data"],remove_text:["path","offset","text","data"],set_annotation:["properties","newProperties","data"],set_mark:["path","properties","newProperties","data"],set_node:["path","properties","newProperties","data"],set_selection:["properties","newProperties","data"],set_value:["properties","newProperties","data"],split_node:["path","position","properties","target","data"]},qu={annotation:void 0,data:void 0,length:void 0,mark:void 0,marks:void 0,newPath:void 0,newProperties:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,target:void 0,text:void 0,type:void 0},Bt=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"apply",value:function(e){var o=Du(e,this);return o}},{key:"invert",value:function(){var e=$u(this);return e}},{key:"toJSON",value:function(){var e=this.object,o=this.type,i={object:e,type:o},u=Ha[o],c=!0,f=!1,v=void 0;try{for(var h=u[Symbol.iterator](),y;!(c=(y=h.next()).done);c=!0){var g=y.value,k=this[g];if((g==="annotation"||g==="mark"||g==="marks"||g==="node"||g==="path"||g==="newPath")&&(k=k.toJSON()),g==="properties"&&o==="merge_node"){var w={};"data"in k&&(w.data=k.data.toJS()),"type"in k&&(w.type=k.type),k=w}if((g==="properties"||g==="newProperties")&&o==="set_annotation"){var N={};"anchor"in k&&(N.anchor=k.anchor.toJS()),"focus"in k&&(N.focus=k.focus.toJS()),"key"in k&&(N.key=k.key),"data"in k&&(N.data=k.data.toJS()),"type"in k&&(N.type=k.type),k=N}if((g==="properties"||g==="newProperties")&&o==="set_mark"){var x={};"data"in k&&(x.data=k.data.toJS()),"type"in k&&(x.type=k.type),k=x}if((g==="properties"||g==="newProperties")&&o==="set_node"){var P={};"data"in k&&(P.data=k.data.toJS()),"type"in k&&(P.type=k.type),k=P}if((g==="properties"||g==="newProperties")&&o==="set_selection"){var F={};"anchor"in k&&(F.anchor=k.anchor.toJSON()),"focus"in k&&(F.focus=k.focus.toJSON()),"isFocused"in k&&(F.isFocused=k.isFocused),"marks"in k&&(F.marks=k.marks&&k.marks.toJSON()),k=F}if((g==="properties"||g==="newProperties")&&o==="set_value"){var L={};"data"in k&&(L.data=k.data.toJS()),k=L}if(g==="properties"&&o==="split_node"){var M={};"data"in k&&(M.data=k.data.toJS()),"type"in k&&(M.type=k.type),k=M}g==="data"&&(k=k.toJSON()),i[g]=k}}catch(B){f=!0,v=B}finally{try{!c&&h.return&&h.return()}finally{if(f)throw v}}return i}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isOperation(e))return e;if(de(e))return n.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var o=new E.List(e.map(n.create));return o}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isOperation(e))return e;var o=e.type,i=Ha[o],u={type:o};if(!i)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+o+'"');var c=!0,f=!1,v=void 0;try{for(var h=i[Symbol.iterator](),y;!(c=(y=h.next()).done);c=!0){var g=y.value,k=e[g];if(g==="data"&&k===void 0&&(k={}),k===void 0)throw new Error('`Operation.fromJSON` was passed a "'+o+'" operation without the required "'+g+'" attribute.');g==="annotation"&&(k=Ce.create(k)),(g==="path"||g==="newPath")&&(k=I.create(k)),g==="mark"&&(k=ie.create(k)),g==="node"&&(k=He.create(k)),(g==="properties"||g==="newProperties")&&o==="set_annotation"&&(k=Ce.createProperties(k)),(g==="properties"||g==="newProperties")&&o==="set_mark"&&(k=ie.createProperties(k)),(g==="properties"||g==="newProperties")&&(o==="set_node"||o==="merge_node"||o==="split_node")&&(k=He.createProperties(k)),(g==="properties"||g==="newProperties")&&o==="set_selection"&&(k=kt.createProperties(k)),(g==="properties"||g==="newProperties")&&o==="set_value"&&(k=mt.createProperties(k)),g==="data"&&(k=E.Map(k)),u[g]=k}}catch(N){f=!0,v=N}finally{try{!c&&h.return&&h.return()}finally{if(f)throw v}}var w=new n(u);return w}},{key:"isOperationList",value:function(e){return E.List.isList(e)&&e.every(function(o){return n.isOperation(o)})}}]),n}(E.Record(qu)),Ju={operations:void 0,value:void 0},Ku=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o={object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map(function(i){return i.toJSON(e)})};return o}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isChange(e))return e;if(de(e))return n.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.value,i=e.operations,u=i===void 0?[]:i,c=new n({value:mt.create(o),operations:Bt.createList(u)});return c}}]),n}(E.Record(Ju));function To(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function n(e,o,i){var u=e.type,c=e.args,f=r[u];if(!f)return i();o.command.apply(o,[f].concat(be(c)))}function t(e,o){for(var i in r)e.registerCommand(i);return o()}return{onCommand:n,onConstruct:t}}var Uu=55296,Vu=57343,Wu=/\s/,Yu=/['\u2018\u2019]/,Gu=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function $n(r){return Uu<=r&&r<=Vu}function Za(r,n,t){if(r===55356){var e=n.charCodeAt(t+1);return e<=57343&&e>=57339}return!1}function Hu(r){return r<=65039&&r>=65024}function Zu(r){return r===10084||r===9794||r===9792||r===9760||r===9877||r===9992||r===9711}function qn(r,n){if(Wu.test(r))return!1;if(Yu.test(r)){var t=n.charAt(0),e=Jn(t);t=n.slice(0,e);var o=n.slice(e);if(qn(t,o))return!0}return!Gu.test(r)}function Jn(r){return $n(r.charCodeAt(0))?2:1}function Kn(r,n,t){var e=0;if(r==="")return 1;for(var o=0;o<n;o++)for(var i=null,u=r.charCodeAt(e);u;){if($n(u)){var c=Za(u,r,e);if(t){if(!c&&i&&i!=="ZWJ"||c&&i&&i!=="SURR")break}else if(i==="SURR"||i==="BMP")break;e+=2,i=c?"MOD":"SURR",u=r.charCodeAt(e);continue}if(u===8205){e+=1,i="ZWJ",u=r.charCodeAt(e);continue}if(Zu(u)){if(t&&i==="VAR"||i&&i!=="ZWJ"&&i!=="VAR")break;e+=1,i="BMP",u=r.charCodeAt(e);continue}if(Hu(u)){if(!t&&i&&i!=="ZWJ")break;e+=1,i="VAR",u=r.charCodeAt(e);continue}if(t){var f=r.charCodeAt(e+1);if(Za(f,r,e+1)){e+=3,i="MOD",u=r.charCodeAt(e);continue}}else if(i==="MOD"){e+=1;break}i===null&&(e+=1);break}return e}function Qu(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r=r.slice(0,n),r=mo.reverse(r),Kn(r,t)}function Xu(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r=r.slice(n),Kn(r,t,!0)}function Un(r){for(var n=0,t=0,e=!1,o=void 0;o=r.charAt(t);){var i=Jn(o);o=r.slice(t,t+i);var u=r.slice(t+i);if(qn(o,u))e=!0,n+=i;else if(!e)n+=i;else break;t+=i}return n}function ec(r,n){r=r.slice(0,n),r=mo.reverse(r);var t=Un(r);return t}function tc(r,n){r=r.slice(n);var t=Un(r);return t}var Ot={getCharLength:Jn,getCharOffset:Kn,getCharOffsetBackward:Qu,getCharOffsetForward:Xu,getWordOffset:Un,getWordOffsetBackward:ec,getWordOffsetForward:tc,isSurrogate:$n,isWord:qn};function Ht(r,n){n.isExpanded&&r.deleteAtRange(n);var t=r.value,e=t.document,o=n,i=o.start,u=o.end;return e.hasDescendant(i.path)?n=n.moveToStart():n=n.moveTo(u.path,0).normalize(e),n}var le={};le.addMarkAtRange=function(r,n,t){if(!n.isCollapsed){var e=r.value,o=e.document,i=n.start,u=n.end,c=o.getTextsAtRange(n);r.withoutNormalizing(function(){c.forEach(function(f){var v=f.key,h=0,y=f.text.length;v===i.key&&(h=i.offset),v===u.key&&(y=u.offset),v===i.key&&v===u.key&&(y=u.offset-i.offset),r.addMarkByKey(v,h,y,t)})})}};le.addMarksAtRange=function(r,n,t){t.forEach(function(e){return r.addMarkAtRange(n,e)})};le.deleteAtRange=function(r,n){r.snapshotSelection();var t=r.value,e=n.start,o=n.end,i=e.key,u=e.offset,c=o.key,f=o.offset,v=t.document,h=v.hasVoidParent(i,r),y=v.hasVoidParent(c,r),g=v.getClosestBlock(i),k=v.getClosestBlock(c),w=u===0&&f===0&&h===!1&&i===g.getFirstText().key&&c===k.getFirstText().key&&i!==c;if(w&&y){var N=v.getPreviousText(c);c=N.key,f=N.text.length,y=v.hasVoidParent(c,r)}r.withoutNormalizing(function(){for(;h;){var x=v.getClosestVoid(i,r),P=v.getNextText(i);if(r.removeNodeByKey(x.key),i===c||!P)return;v=r.value.document,i=P.key,u=0,h=v.hasVoidParent(i,r)}for(;y;){var F=v.getClosestVoid(c,r),L=v.getPreviousText(c);r.removeNodeByKey(F.key),v=r.value.document,c=L.key,f=L.text.length,y=v.hasVoidParent(c,r)}if(i===c&&w){r.removeNodeByKey(g.key);return}else if(i===c){var M=u,B=f-u;r.removeTextByKey(i,M,B);return}else{g=v.getClosestBlock(i),k=v.getClosestBlock(c);var j=v.getNode(i),te=v.getNode(c),oe=j.text.length-u,U=f,se=v.getCommonAncestor(i,c),$=se.getFurthestChild(i),ue=se.getFurthestChild(c),ve=v.getParent(g.key),H=ve.nodes.indexOf(g),re=ve.nodes.indexOf(k),Z=void 0;for(Z=j;Z.key!==$.key;){var K=v.getParent(Z.key),Y=K.nodes.indexOf(Z),qe=K.nodes.slice(Y+1);qe.reverse().forEach(function(ne){r.removeNodeByKey(ne.key)}),Z=K}var Se=se.nodes.indexOf($),Fe=se.nodes.indexOf(ue),Oe=se.nodes.slice(Se+1,Fe);for(Oe.reverse().forEach(function(ne){r.removeNodeByKey(ne.key)}),Z=te;Z.key!==ue.key;){var xe=v.getParent(Z.key),Je=xe.nodes.indexOf(Z),V=xe.nodes.slice(0,Je);V.reverse().forEach(function(ne){r.removeNodeByKey(ne.key)}),Z=xe}if(oe!==0&&r.removeTextByKey(i,u,oe),U!==0&&r.removeTextByKey(c,0,f),g.key!==k.key){v=r.value.document;var Q=void 0,ye=!0,st=!1,Ze=void 0;try{for(var nt=v.ancestors(k.key)[Symbol.iterator](),gt;!(ye=(gt=nt.next()).done);ye=!0){var It=gt.value,_e=R(It,1),Pe=_e[0];if(Pe.nodes.size>1)break;Q=Pe}}catch(ne){st=!0,Ze=ne}finally{try{!ye&&nt.return&&nt.return()}finally{if(st)throw Ze}}re!==H+1&&r.moveNodeByKey(k.key,ve.key,H+1),w?r.removeNodeByKey(g.key):r.mergeNodeByKey(k.key),Q&&r.removeNodeByKey(Q.key)}}})};le.deleteBackwardAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){var e=r.value,o=e.document,i=n,u=i.start,c=i.focus;if(n.isExpanded){r.deleteAtRange(n);return}var f=o.getClosestVoid(u.path,r);if(f){r.removeNodeByKey(f.key);return}if(!u.isAtStartOfNode(o)){var v=o.getClosestBlock(u.path);if(o.nodes.size!==1&&v&&v.text===""&&v.nodes.size===1){r.removeNodeByKey(v.key);return}var h=o.getDescendant(u.path);if(u.isAtStartOfNode(h)){var y=o.getPreviousText(h.key),g=o.getClosestInline(h.key);g&&y.text===""&&(y=o.getPreviousText(y.key));var k=o.getClosestBlock(y.key),w=o.getClosestVoid(y.key,r);if(w){r.removeNodeByKey(w.key);return}if(t===1&&k!==v){n=n.moveAnchorTo(y.key,y.text.length),r.deleteAtRange(n);return}}if(t<=c.offset){n=n.moveFocusBackward(t),r.deleteAtRange(n);return}for(var N=h,x=0,P=c.offset;t>P;){N=o.getPreviousText(N.key);var F=P+N.text.length;if(t<=F){x=F-t;break}else P=F}n=n.moveAnchorTo(N.key,x),r.deleteAtRange(n)}}};le.deleteCharBackwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,o=n.start,i=e.getClosestBlock(o.path),u=i.getOffset(o.key),c=u+o.offset,f=i.text,v=Ot.getCharOffsetBackward(f,c);r.deleteBackwardAtRange(n,v)};le.deleteCharForwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,o=n.start,i=e.getClosestBlock(o.path),u=i.getOffset(o.key),c=u+o.offset,f=i.text,v=Ot.getCharOffsetForward(f,c);r.deleteForwardAtRange(n,v)};le.deleteForwardAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){var e=r.value,o=e.document,i=n,u=i.start,c=i.focus;if(n.isExpanded){r.deleteAtRange(n);return}var f=o.getClosestVoid(u.path,r);if(f){r.removeNodeByKey(f.key);return}var v=o.getClosestBlock(u.path);if(v&&!r.isVoid(v)&&v.text===""&&o.nodes.size!==1){var h=o.getNextBlock(v.key);r.removeNodeByKey(v.key),h&&h.key&&r.moveToStartOfNode(h);return}if(!u.isAtEndOfNode(o)){var y=o.getDescendant(u.path);if(u.isAtEndOfNode(y)){var g=o.getNextText(y.key),k=o.getClosestBlock(g.key),w=o.getClosestVoid(g.key,r);if(w){r.removeNodeByKey(w.key);return}if(t===1&&k!==v){n=n.moveFocusTo(g.key,0),r.deleteAtRange(n);return}}if(t<=y.text.length-c.offset){n=n.moveFocusForward(t),r.deleteAtRange(n);return}for(var N=y,x=c.offset,P=y.text.length-c.offset;t>P;){N=o.getNextText(N.key);var F=P+N.text.length;if(t<=F){x=t-P;break}else P=F}n=n.moveFocusTo(N.key,x),r.deleteAtRange(n)}}};le.deleteLineBackwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,o=n.start,i=e.getClosestBlock(o.path),u=i.getOffset(o.key),c=u+o.offset;r.deleteBackwardAtRange(n,c)};le.deleteLineForwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,o=n.start,i=e.getClosestBlock(o.path),u=i.getOffset(o.key),c=u+o.offset;r.deleteForwardAtRange(n,i.text.length-c)};le.deleteWordBackwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,o=n.start,i=e.getClosestBlock(o.path),u=i.getOffset(o.key),c=u+o.offset,f=i.text,v=c===0?1:Ot.getWordOffsetBackward(f,c);r.deleteBackwardAtRange(n,v)};le.deleteWordForwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,o=n.start,i=e.getClosestBlock(o.path),u=i.getOffset(o.key),c=u+o.offset,f=i.text,v=Ot.getWordOffsetForward(f,c),h=v===0?1:v;r.deleteForwardAtRange(n,h)};le.insertBlockAtRange=function(r,n,t){n=Ht(r,n),t=rt.create(t);var e=r.value,o=e.document,i=n,u=i.start,c=u.key,f=u.offset,v=o.getClosestBlock(c),h=o.getClosestInline(c),y=o.getParent(v.key),g=y.nodes.indexOf(v),k=xo(r,n);if(k==="before")r.insertNodeByKey(y.key,g,t);else if(k==="behind")r.insertNodeByKey(y.key,g+1,t);else{if(h&&r.isVoid(h)){var w=u.isAtEndOfNode(h),N=w?o.getNextText(c):o.getPreviousText(c),x=w?n.moveToStartOfNode(N):n.moveToEndOfNode(N);c=x.start.key,f=x.start.offset}r.withoutNormalizing(function(){r.splitDescendantsByKey(v.key,c,f),r.insertNodeByKey(y.key,g+1,t)})}};var xo=function(n,t){var e=n.value,o=e.document,i=t.start,u=i.key,c=o.getClosestBlock(u),f=o.getClosestInline(u);return n.isVoid(c)?i.isAtEndOfNode(c)?"behind":"before":!f&&c.text===""?"behind":i.isAtStartOfNode(c)?"before":i.isAtEndOfNode(c)?"behind":"split"};le.insertFragmentAtRange=function(r,n,t){r.withoutNormalizing(function(){if(n=Ht(r,n),!!t.nodes.size){t=t.mapDescendants(function(H){return H.regenerateKey()});var e=n,o=e.start,i=r.value,u=i.document,c=u.getDescendant(o.path),f=u.getClosestBlock(c.key),v=f.getFurthestChild(c.key),h=o.isAtStartOfNode(f),y=u.getParent(f.key),g=y.nodes.indexOf(f),k=t.getBlocks(),w=t.nodes.first(),N=t.nodes.last(),x=k.first(),P=k.last(),F=rc(t,u,f.key);if(x===P&&r.isVoid(x)){r.insertBlockAtRange(n,x);return}if(F===t&&(w.hasBlockChildren()||N.hasBlockChildren())){var L=xo(r,n),M=L==="before"?t.nodes:t.nodes.reverse();M.forEach(function(H){r.insertBlockAtRange(n,H)});return}if(x!==P){var B=F.getFurthest(x.key,function(H){return H.nodes.size===1}),j=B||x,te=y.nodes.indexOf(f),oe=F.removeNode(j.key);oe.nodes.forEach(function(H,re){var Z=te+re+1;r.insertNodeByKey(y.key,Z,H)})}if(o.offset!==0&&r.splitDescendantsByKey(v.key,o.key,o.offset),u=r.value.document,c=u.getDescendant(o.key),f=u.getClosestBlock(o.key),v=f.getFurthestChild(c.key),x!==P){var U=h?v:f.getNextSibling(v.key),se=U?f.nodes.skipUntil(function(H){return H.key===U.key}):E.List(),$=P.nodes.size;se.forEach(function(H,re){var Z=$+re;r.moveNodeByKey(H.key,P.key,Z)})}if(!r.isVoid(f)&&f.text===""&&!f.findDescendant(function(H){return r.isVoid(H)}))r.removeNodeByKey(f.key),r.insertNodeByKey(y.key,g,x);else{var ue=f.getFurthestChild(c.key),ve=f.nodes.indexOf(ue);x.nodes.forEach(function(H,re){var Z=o.offset===0?0:1,K=ve+re+Z;r.insertNodeByKey(f.key,K,H)})}}})};var rc=function(n,t,e){var o=function(g){for(var k=g;k.nodes.size===1&&k.nodes.first().object==="block";)k=k.nodes.first();return k===g?null:k},i=function(g,k){return k.size>=g.size&&g.every(function(w,N){return k.get(N).type===w.type})},u=function(g,k){var w=g.size-k.size;if(w<0)return n;for(var N=0;N<k.size;N++)for(var x=0;x<=w;x++)if(i(k.slice(N),g.slice(x)))return k.get(N);return n},c=function(g,k){return g.getAncestors(k).slice(1).push(g.getNode(k)).reverse()},f=o(n);if(!f)return n;var v=c(t,e),h=c(n,f.key);return u(v,h)};le.insertInlineAtRange=function(r,n,t){t=tt.create(t),r.withoutNormalizing(function(){n=Ht(r,n);var e=r.value,o=e.document,i=n,u=i.start,c=o.getParent(u.path),f=o.assertDescendant(u.path),v=c.nodes.indexOf(f);r.isVoid(c)||(r.splitNodeByPath(u.path,u.offset),r.insertNodeByKey(c.key,v+1,t))})};le.insertTextAtRange=function(r,n,t,e){r.withoutNormalizing(function(){n=Ht(r,n);var o=r.value,i=o.document,u=n,c=u.start,f=c.offset,v=i.getParent(c.path);r.isVoid(v)||r.insertTextByPath(c.path,f,t,e)})};le.removeMarkAtRange=function(r,n,t){if(!n.isCollapsed){var e=r.value,o=e.document,i=o.getTextsAtRange(n),u=n.start,c=n.end;r.withoutNormalizing(function(){i.forEach(function(f){var v=f.key,h=0,y=f.text.length;v===u.key&&(h=u.offset),v===c.key&&(y=c.offset),v===u.key&&v===c.key&&(y=c.offset-u.offset),r.removeMarkByKey(v,h,y,t)})})}};le.setBlocksAtRange=function(r,n,t){var e=r.value,o=e.document,i=o.getLeafBlocksAtRange(n),u=n.start,c=n.end,f=n.isCollapsed,v=o.hasVoidParent(u.path,r),h=o.getClosestBlock(u.path),y=o.getClosestBlock(c.key),g=f===!1&&u.offset===0&&c.offset===0&&v===!1&&u.key===h.getFirstText().key&&c.key===y.getFirstText().key,k=g?i.slice(0,-1):i;r.withoutNormalizing(function(){k.forEach(function(w){r.setNodeByKey(w.key,t)})})};le.setInlinesAtRange=function(r,n,t){var e=r.value,o=e.document,i=o.getLeafInlinesAtRange(n);r.withoutNormalizing(function(){i.forEach(function(u){r.setNodeByKey(u.key,t)})})};le.splitBlockAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n=Ht(r,n);for(var e=n,o=e.start,i=e.end,u=r.value,c=u,f=c.document,v=f.assertDescendant(o.path),h=f.getClosestBlock(v.key),y=0;h&&h.object==="block"&&y<t;)v=h,h=f.getClosestBlock(h.key),y++;r.withoutNormalizing(function(){if(r.splitDescendantsByKey(v.key,o.path,o.offset),u=r.value,f=u.document,n.isExpanded){n.isBackward&&(n=n.flip());var g=f.getNextBlock(v.key);n=n.moveAnchorToStartOfNode(g),n=n.setFocus(n.focus.setPath(null)),o.path.equals(i.path)&&(n=n.moveFocusTo(n.anchor.key,i.offset-o.offset)),n=f.resolveRange(n),r.deleteAtRange(n)}})};le.splitInlineAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0;n=Ht(r,n);for(var e=n,o=e.start,i=r.value,u=i.document,c=u.assertDescendant(o.path),f=u.getClosestInline(c.key),v=0;f&&f.object==="inline"&&v<t;)c=f,f=u.getClosestInline(f.key),v++;r.splitDescendantsByKey(c.key,o.path,o.offset)};le.toggleMarkAtRange=function(r,n,t){if(!n.isCollapsed){t=ie.create(t);var e=r.value,o=e.document,i=o.getActiveMarksAtRange(n),u=i.some(function(c){return c.equals(t)});u?r.removeMarkAtRange(n,t):r.addMarkAtRange(n,t)}};le.unwrapBlockAtRange=function(r,n,t){t=He.createProperties(t);var e=r.value,o=e.document,i=o.getLeafBlocksAtRange(n),u=i.map(function(c){return o.getClosest(c.key,function(f){return!(f.object!=="block"||t.type!=null&&f.type!==t.type||t.data!=null&&!f.data.isSuperset(t.data))})}).filter(function(c){return c}).toOrderedSet().toList();r.withoutNormalizing(function(){u.forEach(function(c){var f=c.nodes.first(),v=c.nodes.last(),h=r.value.document.getParent(c.key),y=h.nodes.indexOf(c),g=c.nodes.filter(function(x){return i.some(function(P){return x===P||x.hasDescendant(P.key)})}),k=g.first(),w=g.last();if(f===k&&v===w)c.nodes.forEach(function(x,P){r.moveNodeByKey(x.key,h.key,y+P)}),r.removeNodeByKey(c.key);else if(v===w)c.nodes.skipUntil(function(x){return x===k}).forEach(function(x,P){r.moveNodeByKey(x.key,h.key,y+1+P)});else if(f===k)c.nodes.takeUntil(function(x){return x===w}).push(w).forEach(function(x,P){r.moveNodeByKey(x.key,h.key,y+P)});else{var N=k.getFirstText();r.splitDescendantsByKey(c.key,N.key,0),o=r.value.document,g.forEach(function(x,P){if(P===0){var F=x;x=o.getNextBlock(x.key),r.removeNodeByKey(F.key)}r.moveNodeByKey(x.key,h.key,y+1+P)})}})})};le.unwrapInlineAtRange=function(r,n,t){t=He.createProperties(t);var e=r.value,o=e.document,i=o.getTextsAtRange(n),u=i.map(function(c){return o.getClosest(c.key,function(f){return!(f.object!=="inline"||t.type!=null&&f.type!==t.type||t.data!=null&&!f.data.isSuperset(t.data))})}).filter(function(c){return c}).toOrderedSet().toList();r.withoutNormalizing(function(){u.forEach(function(c){var f=r.value.document.getParent(c.key),v=f.nodes.indexOf(c);c.nodes.forEach(function(h,y){r.moveNodeByKey(h.key,f.key,v+y)}),r.removeNodeByKey(c.key)})})};le.wrapBlockAtRange=function(r,n,t){t=rt.create(t),t=t.set("nodes",t.nodes.clear());var e=r.value,o=e.document,i=o.getLeafBlocksAtRange(n),u=i.first(),c=i.last(),f=void 0,v=void 0,h=void 0;if(i.length===1?(f=o.getParent(u.key),v=i):f=o.getClosest(u.key,function(g){return!!o.getClosest(c.key,function(k){return g===k})}),f==null&&(f=o),v==null){var y=f.nodes.reduce(function(g,k,w){return(k===u||k.hasDescendant(u.key))&&(g[0]=w),(k===c||k.hasDescendant(c.key))&&(g[1]=w),g},[]);h=y[0],v=f.nodes.slice(y[0],y[1]+1)}h==null&&(h=f.nodes.indexOf(v.first())),r.withoutNormalizing(function(){r.insertNodeByKey(f.key,h,t),v.forEach(function(g,k){r.moveNodeByKey(g.key,t.key,k)})})};le.wrapInlineAtRange=function(r,n,t){var e=r.value,o=e.document,i=n.start,u=n.end;if(n.isCollapsed){var c=o.getClosestInline(i.path);return!c||!r.isVoid(c)?void 0:r.wrapInlineByKey(c.key,t)}t=tt.create(t),t=t.set("nodes",t.nodes.clear());var f=o.getLeafBlocksAtRange(n),v=o.getClosestBlock(i.path),h=o.getClosestBlock(u.path),y=o.getClosestInline(i.path),g=o.getClosestInline(u.path),k=v.getFurthestChild(i.key),w=h.getFurthestChild(u.key);r.withoutNormalizing(function(){(!y||y!==g)&&(r.splitDescendantsByKey(w.key,u.key,u.offset),r.splitDescendantsByKey(k.key,i.key,i.offset)),o=r.value.document,v=o.getDescendant(v.key),h=o.getDescendant(h.key),k=v.getFurthestChild(i.key),w=h.getFurthestChild(u.key);var N=v.nodes.indexOf(k),x=h.nodes.indexOf(w);if(y&&y===g){var P=v.getTextsAtRange(n).map(function($){return i.key===$.key&&u.key===$.key?$.splitText(i.offset)[1].splitText(u.offset-i.offset)[0].regenerateKey():i.key===$.key?$.splitText(i.offset)[1].regenerateKey():u.key===$.key?$.splitText(u.offset)[0].regenerateKey():$.regenerateKey()});t=t.set("nodes",P),r.insertInlineAtRange(n,t)}else if(v===h){o=r.value.document,v=o.getClosestBlock(i.key),k=v.getFurthestChild(i.key);var F=o.getNextSibling(k.key),L=v.nodes.indexOf(F),M=i.key===u.key?F:v.getFurthestChild(u.key),B=v.nodes.skipUntil(function($){return $===F}).takeUntil(function($){return $===M}).push(M),j=t.regenerateKey();r.insertNodeByKey(v.key,L,j),B.forEach(function($,ue){r.moveNodeByKey($.key,j.key,ue)})}else{var te=v.nodes.slice(N+1),oe=h.nodes.slice(0,x+1),U=t.regenerateKey(),se=t.regenerateKey();r.insertNodeByKey(v.key,N+1,U),r.insertNodeByKey(h.key,x,se),te.forEach(function($,ue){r.moveNodeByKey($.key,U.key,ue)}),oe.forEach(function($,ue){r.moveNodeByKey($.key,se.key,ue)}),f.slice(1,-1).forEach(function($){var ue=t.regenerateKey();r.insertNodeByKey($.key,0,ue),$.nodes.forEach(function(ve,H){r.moveNodeByKey(ve.key,ue.key,H)})})}})};le.wrapTextAtRange=function(r,n,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=n.start,i=n.end,u=n.moveToStart(),c=n.moveToEnd();o.path.equals(i.path)&&(c=c.moveForward(t.length)),r.withoutNormalizing(function(){r.insertTextAtRange(u,t),r.insertTextAtRange(c,e)})};var ae={};ae.addMarkByPath=function(r,n,t,e,o){o=ie.create(o),r.addMarksByPath(n,t,e,[o])};ae.addMarksByPath=function(r,n,t,e,o){if(o=ie.createSet(o),!!o.size){var i=r.value,u=i.document,c=u.assertNode(n);r.withoutNormalizing(function(){t+e<c.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=I.increment(n),t=0),o.forEach(function(f){r.applyOperation({type:"add_mark",path:n,mark:ie.create(f)})})})}};ae.replaceMarksByPath=function(r,n,t,e,o){var i=ie.createSet(o),u=r.value,c=u.document,f=c.assertNode(n);f.marks.equals(i)||r.withoutNormalizing(function(){t+e<f.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=I.increment(n),t=0);var v=i.subtract(f.marks),h=f.marks.subtract(i);h.forEach(function(y){r.applyOperation({type:"remove_mark",path:n,mark:ie.create(y)})}),v.forEach(function(y){r.applyOperation({type:"add_mark",path:n,mark:ie.create(y)})})})};ae.insertFragmentByPath=function(r,n,t,e){e.nodes.forEach(function(o,i){r.insertNodeByPath(n,t+i,o)})};ae.insertNodeByPath=function(r,n,t,e){r.applyOperation({type:"insert_node",path:n.concat(t),node:e})};ae.insertTextByPath=function(r,n,t,e,o){var i=r.value,u=i.annotations,c=i.document;c.assertNode(n),r.withoutNormalizing(function(){var f=!0,v=!1,h=void 0;try{for(var y=u.values()[Symbol.iterator](),g;!(f=(g=y.next()).done);f=!0){var k=g.value,w=k.start,N=k.end,x=r.isAtomic(k);x&&w.path.equals(n)&&w.offset<t&&(!N.path.equals(n)||N.offset>t)&&r.removeAnnotation(k)}}catch(P){v=!0,h=P}finally{try{!f&&y.return&&y.return()}finally{if(v)throw h}}r.applyOperation({type:"insert_text",path:n,offset:t,text:e}),o&&r.replaceMarksByPath(n,t,e.length,o)})};ae.mergeNodeByPath=function(r,n){var t=r.value,e=t.document,o=e.getDescendant(n),i=e.getPreviousSibling(n);if(!i)throw new Error('Unable to merge node with path "'+n+'", because it has no previous sibling.');var u=i.object==="text"?i.text.length:i.nodes.size;r.applyOperation({type:"merge_node",path:n,position:u,properties:{type:o.type,data:o.data},target:null})};ae.moveNodeByPath=function(r,n,t,e){if(I.isEqual(n,t))return r;var o=t.concat(e);if(I.isEqual(n,o))return r;r.applyOperation({type:"move_node",path:n,newPath:o})};ae.removeMarkByPath=function(r,n,t,e,o){o=ie.create(o),r.removeMarksByPath(n,t,e,[o])};ae.removeMarksByPath=function(r,n,t,e,o){if(o=ie.createSet(o),!!o.size){var i=r.value,u=i.document,c=u.assertNode(n);o.intersect(c.marks).isEmpty()||r.withoutNormalizing(function(){t+e<c.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=I.increment(n),t=0),o.forEach(function(f){r.applyOperation({type:"remove_mark",path:n,offset:t,length:e,mark:f})})})}};ae.removeAllMarksByPath=function(r,n){var t=r.state,e=t.document,o=e.assertNode(n);r.withoutNormalizing(function(){if(o.object==="text"){r.removeMarksByPath(n,0,o.text.length,o.marks);return}var i=!0,u=!1,c=void 0;try{for(var f=o.texts()[Symbol.iterator](),v;!(i=(v=f.next()).done);i=!0){var h=v.value,y=R(h,2),g=y[0],k=y[1],w=n.concat(k);r.removeMarksByPath(w,0,g.text.length,g.marks)}}catch(N){u=!0,c=N}finally{try{!i&&f.return&&f.return()}finally{if(u)throw c}}})};ae.removeNodeByPath=function(r,n){var t=r.value,e=t.document,o=e.assertNode(n);r.applyOperation({type:"remove_node",path:n,node:o})};ae.removeTextByPath=function(r,n,t,e){var o=r.value,i=o.document,u=o.annotations,c=i.assertNode(n),f=c.text.slice(t,t+e);r.withoutNormalizing(function(){var v=!0,h=!1,y=void 0;try{for(var g=u.values()[Symbol.iterator](),k;!(v=(k=g.next()).done);v=!0){var w=k.value,N=w.start,x=w.end,P=r.isAtomic(w);P&&N.path.equals(n)&&N.offset<t&&(!x.path.equals(n)||x.offset>t)&&r.removeAnnotation(w)}}catch(F){h=!0,y=F}finally{try{!v&&g.return&&g.return()}finally{if(h)throw y}}r.applyOperation({type:"remove_text",path:n,offset:t,text:f})})};ae.replaceNodeByPath=function(r,n,t){t=He.create(t);var e=n.last(),o=I.lift(n);r.withoutNormalizing(function(){r.removeNodeByPath(n),r.insertNodeByPath(o,e,t)})};ae.replaceTextByPath=function(r,n,t,e,o,i){r.withoutNormalizing(function(){r.removeTextByPath(n,t,e),r.insertTextByPath(n,t,o,i)})};ae.setMarkByPath=function(r,n,t,e,o,i){o=ie.create(o),i=ie.createProperties(i);var u=r.value,c=u.document,f=c.assertNode(n);r.withoutNormalizing(function(){t+e<f.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=I.increment(n),t=0),r.applyOperation({type:"set_mark",path:n,properties:o,newProperties:i})})};ae.setNodeByPath=function(r,n,t){var e=r.value,o=e.document,i=o.assertNode(n);t=He.createProperties(t);var u=dr(i,Object.keys(t));r.applyOperation({type:"set_node",path:n,properties:u,newProperties:t})};ae.setTextByPath=function(r,n,t,e){var o=r.value,i=o.document,u=i.assertNode(n),c=u.text.length;r.replaceTextByPath(n,0,c,t,e)};ae.splitNodeByPath=function(r,n,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=e.target,i=o===void 0?null:o,u=r.value,c=u.document,f=c.getDescendant(n);r.applyOperation({type:"split_node",path:n,position:t,target:i,properties:{type:f.type,data:f.data}})};ae.splitDescendantsByPath=function(r,n,t,e){if(n.equals(t)){r.splitNodeByPath(t,e);return}var o=r.value,i=o.document,u=e,c=t;r.withoutNormalizing(function(){r.splitNodeByKey(t,e);var f=!0,v=!1,h=void 0;try{for(var y=i.ancestors(t)[Symbol.iterator](),g;!(f=(g=y.next()).done);f=!0){var k=g.value,w=R(k,2),N=w[1],x=u;if(u=c.last()+1,c=N,r.splitNodeByPath(N,u,{target:x}),N.equals(n))break}}catch(P){v=!0,h=P}finally{try{!f&&y.return&&y.return()}finally{if(v)throw h}}})};ae.unwrapInlineByPath=function(r,n,t){var e=r.value,o=e.document,i=e.selection,u=o.assertNode(n),c=u.getFirstText(),f=u.getLastText(),v=i.moveToRangeOfNode(c,f);r.unwrapInlineAtRange(v,t)};ae.unwrapBlockByPath=function(r,n,t){var e=r.value,o=e.document,i=e.selection,u=o.assertNode(n),c=u.getFirstText(),f=u.getLastText(),v=i.moveToRangeOfNode(c,f);r.unwrapBlockAtRange(v,t)};ae.unwrapNodeByPath=function(r,n){var t=r.value,e=t.document;e.assertNode(n);var o=I.lift(n),i=e.assertNode(o),u=n.last(),c=o.last(),f=I.lift(o),v=u===0,h=u===i.nodes.size-1;r.withoutNormalizing(function(){if(i.nodes.size===1)r.moveNodeByPath(n,f,c+1),r.removeNodeByPath(o);else if(v)r.moveNodeByPath(n,f,c);else if(h)r.moveNodeByPath(n,f,c+1);else{var y=I.increment(n,1,o.size-1);y=y.set(y.size-1,0),r.splitNodeByPath(o,u),r.moveNodeByPath(y,f,c+1)}})};ae.unwrapChildrenByPath=function(r,n){n=I.create(n);var t=r.value,e=t.document,o=e.assertNode(n),i=I.lift(n),u=n.last(),c=o.nodes;r.withoutNormalizing(function(){c.reverse().forEach(function(f,v){var h=c.size-v-1,y=n.push(h);r.moveNodeByPath(y,i,u+1)}),r.removeNodeByPath(n)})};ae.wrapBlockByPath=function(r,n,t){t=rt.create(t),t=t.set("nodes",t.nodes.clear());var e=I.lift(n),o=n.last(),i=I.increment(n);r.withoutNormalizing(function(){r.insertNodeByPath(e,o,t),r.moveNodeByPath(i,n,0)})};ae.wrapInlineByPath=function(r,n,t){t=tt.create(t),t=t.set("nodes",t.nodes.clear());var e=I.lift(n),o=n.last(),i=I.increment(n);r.withoutNormalizing(function(){r.insertNodeByPath(e,o,t),r.moveNodeByPath(i,n,0)})};ae.wrapNodeByPath=function(r,n,t){t=He.create(t),t.object==="block"?r.wrapBlockByPath(n,t):t.object==="inline"&&r.wrapInlineByPath(n,t)};var nc=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceMarks","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"],ac=function(n){ae[n+"ByKey"]=function(t,e){for(var o=arguments.length,i=Array(o>2?o-2:0),u=2;u<o;u++)i[u-2]=arguments[u];var c=t.value,f=c.document,v=f.assertPath(e);t[n+"ByPath"].apply(t,[v].concat(i))}},wn=!0,Qa=!1,Xa=void 0;try{for(var On=nc[Symbol.iterator](),eo;!(wn=(eo=On.next()).done);wn=!0){var oc=eo.value;ac(oc)}}catch(r){Qa=!0,Xa=r}finally{try{!wn&&On.return&&On.return()}finally{if(Qa)throw Xa}}ae.moveNodeByKey=function(r,n,t){for(var e=arguments.length,o=Array(e>3?e-3:0),i=3;i<e;i++)o[i-3]=arguments[i];var u=r.value,c=u.document,f=c.assertPath(n),v=c.assertPath(t);r.moveNodeByPath.apply(r,[f,v].concat(o))};ae.splitDescendantsByKey=function(r,n,t){for(var e=arguments.length,o=Array(e>3?e-3:0),i=3;i<e;i++)o[i-3]=arguments[i];var u=r.value,c=u.document,f=c.assertPath(n),v=c.assertPath(t);r.splitDescendantsByPath.apply(r,[f,v].concat(o))};var Zt={};Zt.save=function(r,n){var t=r.operations,e=r.value,o=e.data,i=r.tmp,u=i.save,c=i.merge;if(!(u===!1||!sc(n))){var f=o.get("undos")||E.List(),v=f.last(),h=v&&v.last();if(c==null&&(t.size!==0?c=!0:c=ic(n,h)),c&&v){var y=v.push(n);f=f.pop(),f=f.push(y)}else{var g=E.List([n]);f=f.push(g)}f.size>100&&(f=f.takeLast(100)),r.withoutSaving(function(){var k=E.List(),w=o.set("undos",f).set("redos",k);r.setData(w)})}};Zt.redo=function(r){var n=r.value,t=n.data,e=t.get("redos")||E.List(),o=t.get("undos")||E.List(),i=e.last();i&&r.withoutSaving(function(){r.withoutNormalizing(function(){i.forEach(function(c){var f=c,v=f.type,h=f.newProperties;v==="set_selection"&&(c=c.set("newProperties",po(h,"isFocused"))),r.applyOperation(c)}),e=e.pop(),o=o.push(i);var u=t.set("undos",o).set("redos",e);r.setData(u)})})};Zt.undo=function(r){var n=r.value,t=n.data,e=t.get("redos")||E.List(),o=t.get("undos")||E.List(),i=o.last();i&&r.withoutSaving(function(){r.withoutNormalizing(function(){i.slice().reverse().map(function(c){return c.invert()}).forEach(function(c){var f=c,v=f.type,h=f.newProperties;v==="set_selection"&&(c=c.set("newProperties",po(h,"isFocused"))),r.applyOperation(c)}),e=e.push(i),o=o.pop();var u=t.set("undos",o).set("redos",e);r.setData(u)})})};Zt.withoutMerging=function(r,n){var t=r.tmp.merge;r.tmp.merge=!1,n(r),r.tmp.merge=t};Zt.withoutSaving=function(r,n){var t=r.tmp.save;r.tmp.save=!1,n(r),r.tmp.save=t};function ic(r,n){if(!n)return!1;var t=r.type==="set_selection"&&n.type==="set_selection"||r.type==="insert_text"&&n.type==="insert_text"&&r.offset===n.offset+n.text.length&&r.path.equals(n.path)||r.type==="remove_text"&&n.type==="remove_text"&&r.offset+r.text.length===n.offset&&r.path.equals(n.path);return t}function sc(r){if(r.type==="set_selection"){var n=r.newProperties,t=n.isFocused,e=n.anchor,o=n.focus;if(t!==void 0&&!e&&!o)return!1}return!0}var S={};S.blur=function(r){r.select({isFocused:!1})};S.deselect=function(r){var n=kt.create();r.select(n)};S.focus=function(r){r.select({isFocused:!0})};S.flip=function(r){r.command(me,"flip")};S.moveAnchorBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Qt,"anchor"].concat(t))};S.moveAnchorWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[$r,"anchor"].concat(t))};S.moveAnchorForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xt,"anchor"].concat(t))};S.moveAnchorWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[qr,"anchor"].concat(t))};S.moveAnchorTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveAnchorTo"].concat(t))};S.moveAnchorToEndOfBlock=function(r){r.command(ke,"anchor","end","block")};S.moveAnchorToEndOfInline=function(r){r.command(ke,"anchor","end","inline")};S.moveAnchorToEndOfDocument=function(r){r.moveAnchorToEndOfNode(r.value.document).moveToAnchor()};S.moveAnchorToEndOfNextBlock=function(r){r.command(q,"anchor","end","next","block")};S.moveAnchorToEndOfNextInline=function(r){r.command(q,"anchor","end","next","inline")};S.moveAnchorToEndOfNextText=function(r){r.command(q,"anchor","end","next","text")};S.moveAnchorToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveAnchorToEndOfNode"].concat(t))};S.moveAnchorToEndOfPreviousBlock=function(r){r.command(q,"anchor","end","previous","block")};S.moveAnchorToEndOfPreviousInline=function(r){r.command(q,"anchor","end","previous","inline")};S.moveAnchorToEndOfPreviousText=function(r){r.command(q,"anchor","end","previous","text")};S.moveAnchorToEndOfText=function(r){r.command(ke,"anchor","end","text")};S.moveAnchorToStartOfBlock=function(r){r.command(ke,"anchor","start","block")};S.moveAnchorToStartOfDocument=function(r){r.moveAnchorToStartOfNode(r.value.document).moveToAnchor()};S.moveAnchorToStartOfInline=function(r){r.command(ke,"anchor","start","inline")};S.moveAnchorToStartOfNextBlock=function(r){r.command(q,"anchor","start","next","block")};S.moveAnchorToStartOfNextInline=function(r){r.command(q,"anchor","start","next","inline")};S.moveAnchorToStartOfNextText=function(r){r.command(q,"anchor","start","next","text")};S.moveAnchorToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveAnchorToStartOfNode"].concat(t))};S.moveAnchorToStartOfPreviousBlock=function(r){r.command(q,"anchor","start","previous","block")};S.moveAnchorToStartOfPreviousInline=function(r){r.command(q,"anchor","start","previous","inline")};S.moveAnchorToStartOfPreviousText=function(r){r.command(q,"anchor","start","previous","text")};S.moveAnchorToStartOfText=function(r){r.command(ke,"anchor","start","text")};S.moveBackward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n!==0){var t=r.value,e=t.document,o=t.selection,i=o.start,u=e.getClosestBlock(i.key),c=u.getOffset(i.key),f=c+i.offset,v=u.text,h=Ot.getCharOffsetBackward(v,f,n);r.moveAnchorBackward(h).moveFocusBackward(h)}};S.moveWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.moveFocusWordBackward.apply(r,t).moveToFocus()};S.moveEndBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Qt,"end"].concat(t))};S.moveEndWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[$r,"end"].concat(t))};S.moveEndForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xt,"end"].concat(t))};S.moveEndWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[qr,"end"].concat(t))};S.moveEndTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveEndTo"].concat(t))};S.moveEndToEndOfBlock=function(r){r.command(ke,"end","end","block")};S.moveEndToEndOfDocument=function(r){r.moveEndToEndOfNode(r.value.document).moveToEnd()};S.moveEndToEndOfInline=function(r){r.command(ke,"end","end","inline")};S.moveEndToEndOfNextBlock=function(r){r.command(q,"end","end","next","block")};S.moveEndToEndOfNextInline=function(r){r.command(q,"end","end","next","inline")};S.moveEndToEndOfNextText=function(r){r.command(q,"end","end","next","text")};S.moveEndToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveEndToEndOfNode"].concat(t))};S.moveEndToEndOfPreviousBlock=function(r){r.command(q,"end","end","previous","block")};S.moveEndToEndOfPreviousInline=function(r){r.command(q,"end","end","previous","inline")};S.moveEndToEndOfPreviousText=function(r){r.command(q,"end","end","previous","text")};S.moveEndToEndOfText=function(r){r.command(ke,"end","end","text")};S.moveEndToStartOfBlock=function(r){r.command(ke,"end","start","block")};S.moveEndToStartOfDocument=function(r){r.moveEndToStartOfNode(r.value.document).moveToEnd()};S.moveEndToStartOfInline=function(r){r.command(ke,"end","start","inline")};S.moveEndToStartOfNextBlock=function(r){r.command(q,"end","start","next","block")};S.moveEndToStartOfNextInline=function(r){r.command(q,"end","start","next","inline")};S.moveEndToStartOfNextText=function(r){r.command(q,"end","start","next","text")};S.moveEndToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveEndToStartOfNode"].concat(t))};S.moveEndToStartOfPreviousBlock=function(r){r.command(q,"end","start","previous","block")};S.moveEndToStartOfPreviousInline=function(r){r.command(q,"end","start","previous","inline")};S.moveEndToStartOfPreviousText=function(r){r.command(q,"end","start","previous","text")};S.moveEndToStartOfText=function(r){r.command(ke,"end","start","text")};S.moveFocusBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Qt,"focus"].concat(t))};S.moveFocusWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[$r,"focus"].concat(t))};S.moveFocusForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xt,"focus"].concat(t))};S.moveFocusWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[qr,"focus"].concat(t))};S.moveFocusTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveFocusTo"].concat(t))};S.moveFocusToEndOfBlock=function(r){r.command(ke,"focus","end","block")};S.moveFocusToEndOfDocument=function(r){r.moveFocusToEndOfNode(r.value.document).moveToFocus()};S.moveFocusToEndOfInline=function(r){r.command(ke,"focus","end","inline")};S.moveFocusToEndOfNextBlock=function(r){r.command(q,"focus","end","next","block")};S.moveFocusToEndOfNextInline=function(r){r.command(q,"focus","end","next","inline")};S.moveFocusToEndOfNextText=function(r){r.command(q,"focus","end","next","text")};S.moveFocusToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveFocusToEndOfNode"].concat(t))};S.moveFocusToEndOfPreviousBlock=function(r){r.command(q,"focus","end","previous","block")};S.moveFocusToEndOfPreviousInline=function(r){r.command(q,"focus","end","previous","inline")};S.moveFocusToEndOfPreviousText=function(r){r.command(q,"focus","end","previous","text")};S.moveFocusToEndOfText=function(r){r.command(ke,"focus","end","text")};S.moveFocusToStartOfBlock=function(r){r.command(ke,"focus","start","block")};S.moveFocusToStartOfDocument=function(r){r.moveFocusToStartOfNode(r.value.document).moveToFocus()};S.moveFocusToStartOfInline=function(r){r.command(ke,"focus","start","inline")};S.moveFocusToStartOfNextBlock=function(r){r.command(q,"focus","start","next","block")};S.moveFocusToStartOfNextInline=function(r){r.command(q,"focus","start","next","inline")};S.moveFocusToStartOfNextText=function(r){r.command(q,"focus","start","next","text")};S.moveFocusToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveFocusToStartOfNode"].concat(t))};S.moveFocusToStartOfPreviousBlock=function(r){r.command(q,"focus","start","previous","block")};S.moveFocusToStartOfPreviousInline=function(r){r.command(q,"focus","start","previous","inline")};S.moveFocusToStartOfPreviousText=function(r){r.command(q,"focus","start","previous","text")};S.moveFocusToStartOfText=function(r){r.command(ke,"focus","start","text")};S.moveForward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n!==0){var t=r.value,e=t.document,o=t.selection,i=o.start,u=e.getClosestBlock(i.path),c=u.getOffset(i.key),f=c+i.offset,v=u.text,h=Ot.getCharOffsetForward(v,f,n);r.moveAnchorForward(h).moveFocusForward(h)}};S.moveWordForward=function(r){for(var n,t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];(n=r.moveFocusWordForward.apply(r,e)).moveToFocus.apply(n,e)};S.moveStartBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Qt,"start"].concat(t))};S.moveStartWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[$r,"start"].concat(t))};S.moveStartForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xt,"start"].concat(t))};S.moveStartWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[qr,"start"].concat(t))};S.moveStartTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveStartTo"].concat(t))};S.moveStartToEndOfBlock=function(r){r.command(ke,"start","end","block")};S.moveStartToEndOfDocument=function(r){r.moveStartToEndOfNode(r.value.document).moveToStart()};S.moveStartToEndOfInline=function(r){r.command(ke,"start","end","inline")};S.moveStartToEndOfNextBlock=function(r){r.command(q,"start","end","next","block")};S.moveStartToEndOfNextInline=function(r){r.command(q,"start","end","next","inline")};S.moveStartToEndOfNextText=function(r){r.command(q,"start","end","next","text")};S.moveStartToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveStartToEndOfNode"].concat(t))};S.moveStartToEndOfPreviousBlock=function(r){r.command(q,"start","end","previous","block")};S.moveStartToEndOfPreviousInline=function(r){r.command(q,"start","end","previous","inline")};S.moveStartToEndOfPreviousText=function(r){r.command(q,"start","end","previous","text")};S.moveStartToEndOfText=function(r){r.command(ke,"start","end","text")};S.moveStartToStartOfBlock=function(r){r.command(ke,"start","start","block")};S.moveStartToStartOfDocument=function(r){r.moveStartToStartOfNode(r.value.document).moveToStart()};S.moveStartToStartOfInline=function(r){r.command(ke,"start","start","inline")};S.moveStartToStartOfNextBlock=function(r){r.command(q,"start","start","next","block")};S.moveStartToStartOfNextInline=function(r){r.command(q,"start","start","next","inline")};S.moveStartToStartOfNextText=function(r){r.command(q,"start","start","next","text")};S.moveStartToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveStartToStartOfNode"].concat(t))};S.moveStartToStartOfPreviousBlock=function(r){r.command(q,"start","start","previous","block")};S.moveStartToStartOfPreviousInline=function(r){r.command(q,"start","start","previous","inline")};S.moveStartToStartOfPreviousText=function(r){r.command(q,"start","start","previous","text")};S.moveStartToStartOfText=function(r){r.command(ke,"start","start","text")};S.moveTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveTo"].concat(t))};S.moveToAnchor=function(r){r.command(me,"moveToAnchor")};S.moveToEnd=function(r){r.command(me,"moveToEnd")};S.moveToEndOfBlock=function(r){r.moveEndToEndOfBlock().moveToEnd()};S.moveToEndOfDocument=function(r){r.moveEndToEndOfNode(r.value.document).moveToEnd()};S.moveToEndOfInline=function(r){r.moveEndToEndOfInline().moveToEnd()};S.moveToEndOfNextBlock=function(r){r.moveEndToEndOfNextBlock().moveToEnd()};S.moveToEndOfNextInline=function(r){r.moveEndToEndOfNextInline().moveToEnd()};S.moveToEndOfNextText=function(r){r.moveEndToEndOfNextText().moveToEnd()};S.moveToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveToEndOfNode"].concat(t))};S.moveToEndOfPreviousBlock=function(r){r.moveStartToEndOfPreviousBlock().moveToStart()};S.moveToEndOfPreviousInline=function(r){r.moveStartToEndOfPreviousInline().moveToStart()};S.moveToEndOfPreviousText=function(r){r.moveStartToEndOfPreviousText().moveToStart()};S.moveToEndOfText=function(r){r.moveEndToEndOfText().moveToEnd()};S.moveToFocus=function(r){r.command(me,"moveToFocus")};S.moveToRangeOfDocument=function(r){r.moveToRangeOfNode(r.value.document)};S.moveToRangeOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveToRangeOfNode"].concat(t))};S.moveToStart=function(r){r.command(me,"moveToStart")};S.moveToStartOfBlock=function(r){r.moveStartToStartOfBlock().moveToStart()};S.moveToStartOfDocument=function(r){r.moveStartToStartOfNode(r.value.document).moveToStart()};S.moveToStartOfInline=function(r){r.moveStartToStartOfInline().moveToStart()};S.moveToStartOfNextBlock=function(r){r.moveEndToStartOfNextBlock().moveToEnd()};S.moveToStartOfNextInline=function(r){r.moveEndToStartOfNextInline().moveToEnd()};S.moveToStartOfNextText=function(r){r.moveEndToStartOfNextText().moveToEnd()};S.moveToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"moveToStartOfNode"].concat(t))};S.moveToStartOfPreviousBlock=function(r){r.moveStartToStartOfPreviousBlock().moveToStart()};S.moveToStartOfPreviousInline=function(r){r.moveStartToStartOfPreviousInline().moveToStart()};S.moveToStartOfPreviousText=function(r){r.moveStartToStartOfPreviousText().moveToStart()};S.moveToStartOfText=function(r){r.moveStartToStartOfText().moveToStart()};S.select=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n=kt.createProperties(n);var e=t.snapshot,o=e===void 0?!1:e,i=r.value,u=i.document,c=i.selection,f={},v=c.setProperties(n);v=u.resolveSelection(v),n=dr(v,Object.keys(n));for(var h in n)(o===!0||!E.is(n[h],c[h]))&&(f[h]=n[h]);if(c.marks&&!f.marks&&(f.anchor||f.focus)&&(f.marks=null),Object.keys(f).length!==0){var y=dr(c.toJSON(),Object.keys(f));r.applyOperation({type:"set_selection",value:i,properties:y,newProperties:f},o?{skip:!1,merge:!1}:{})}};S.setAnchor=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"setAnchor"].concat(t))};S.setEnd=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"setEnd"].concat(t))};S.setFocus=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"setFocus"].concat(t))};S.setStart=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[me,"setStart"].concat(t))};S.snapshotSelection=function(r){r.withoutMerging(function(){r.select(r.value.selection,{snapshot:!0})})};function me(r,n){for(var t,e=arguments.length,o=Array(e>2?e-2:0),i=2;i<e;i++)o[i-2]=arguments[i];var u=(t=r.value.selection)[n].apply(t,o);r.select(u)}function ke(r,n,t,e){var o=n.slice(0,1).toUpperCase()+n.slice(1),i=t.slice(0,1).toUpperCase()+t.slice(1),u=e.slice(0,1).toUpperCase()+e.slice(1),c="move"+o+"To"+i+"OfNode",f=e==="text"?"getNode":"getClosest"+u,v=r.value,h=v.document,y=v.selection,g=y[n],k=h[f](g.key);k&&r[c](k)}function q(r,n,t,e,o){var i=n.slice(0,1).toUpperCase()+n.slice(1),u=t.slice(0,1).toUpperCase()+t.slice(1),c=e.slice(0,1).toUpperCase()+e.slice(1),f=o.slice(0,1).toUpperCase()+o.slice(1),v="move"+i+"To"+u+"OfNode",h=o==="text"?"getNode":"getClosest"+f,y="get"+c+f,g=r.value,k=g.document,w=g.selection,N=w[n],x=k[h](N.key);if(x){var P=k[y](x.key);P&&r[v](P)}}function Qt(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){if(t<0)return Xt(r,n,-t);var e=n.slice(0,1).toUpperCase()+n.slice(1),o=r.value,i=o.document,u=o.selection,c=u[n],f=i.hasVoidParent(c.path,r);if(!f&&c.offset-t>=0){var v=u["move"+e+"Backward"](t);r.select(v);return}var h=i.getPreviousText(c.path);if(h){var y=i.getClosestBlock(c.path),g=y.hasNode(h.key),k=h&&i.hasVoidParent(h.key,r);if(r["move"+e+"ToEndOfNode"](h),!f&&!k&&g){var w=r.value.selection["move"+e+"Backward"](t);r.select(w)}}}}function Xt(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){if(t<0)return Qt(r,n,-t);var e=n.slice(0,1).toUpperCase()+n.slice(1),o=r.value,i=o.document,u=o.selection,c=u[n],f=i.getNode(c.path),v=i.hasVoidParent(c.path,r);if(!v&&c.offset+t<=f.text.length){var h=u["move"+e+"Forward"](t);r.select(h);return}var y=i.getNextText(c.path);if(y){var g=i.getClosestBlock(c.path),k=g.hasNode(y.key),w=i.hasVoidParent(y.key,r);if(r["move"+e+"ToStartOfNode"](y),!v&&!w&&k){var N=r.value.selection["move"+e+"Forward"](t);r.select(N)}}}}function $r(r,n){var t=r.value,e=t.document,o=t.selection,i=o[n],u=e.getClosestBlock(i.key),c=u.getOffset(i.key),f=c+i.offset,v=u.text,h=Ot.getWordOffsetBackward(v,f);r.command(Qt,n,h>0?h:1)}function qr(r,n){var t=r.value,e=t.document,o=t.selection,i=o[n],u=e.getClosestBlock(i.key),c=u.getOffset(i.key),f=c+i.offset,v=u.text,h=Ot.getWordOffsetForward(v,f);r.command(Xt,n,h>0?h:1)}var er={};er.setData=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.value,e=mt.createProperties({data:n}),o=dr(t,Object.keys(e));r.applyOperation({type:"set_value",properties:o,newProperties:e})};er.addAnnotation=function(r,n){n=Ce.create(n),r.applyOperation({type:"add_annotation",annotation:n})};er.removeAnnotation=function(r,n){n=Ce.create(n),r.applyOperation({type:"remove_annotation",annotation:n})};er.setAnnotation=function(r,n,t){n=Ce.create(n),t=Ce.createProperties(t),r.applyOperation({type:"set_annotation",properties:n,newProperties:t})};er.setAnnotations=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=r.value,e=mt.createProperties({annotations:n}),o=dr(t,Object.keys(e));r.applyOperation({type:"set_value",properties:o,newProperties:e})};function Vn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function n(e,o){for(var i in r)e.registerQuery(i);return o()}function t(e,o,i){var u=e.type,c=e.args,f=r[u];if(!f)return i();var v=f.apply(void 0,[o].concat(be(c)));return v===void 0?i():v}return{onConstruct:n,onQuery:t}}var uc=function(r){je(n,r);function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ae(this,n);var o=$e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));o.code=t;for(var i in e)o[i]=e[i];return Error.captureStackTrace?Error.captureStackTrace(o,o.constructor):o.stack=new Error().stack,o}return n}(Error);function No(r){var n=r.rules,t=r.document,e=r.blocks,o=r.inlines,i=r.marks,u=r.annotations,c=r.decorations,f=[];if(n&&(f=f.concat(n)),t&&f.push(Le({match:[{object:"document"}]},t)),e)for(var v in e)f.push(Le({match:[{object:"block",type:v}]},e[v]));if(o)for(var h in o)f.push(Le({match:[{object:"inline",type:h}]},o[h]));if(i)for(var y in i)f.push(Le({match:[{object:"mark",type:y}]},i[y]));if(u)for(var g in u)f.push(Le({match:[{object:"annotation",type:g}]},u[g]));if(c)for(var k in c)f.push(Le({match:[{object:"decoration",type:k}]},c[k]));function w(L,M){var B=f.find(function(j){return"isAtomic"in j&&Wt(M,j.match)});return B&&B.isAtomic}function N(L,M){var B=f.find(function(j){return"isVoid"in j&&Wt(M,j.match)});return B&&B.isVoid}function x(L,M,B){var j=P(L,M,function(){});return j?function(){var te=j.rule,oe=M.operations.size;te.normalize&&te.normalize(M,j),M.operations.size===oe&&cc(M,j)}:B()}function P(L,M,B){var j=f.filter(function(U){return Wt(L,U.match)}),te=yt(L,j,f,{every:!0});if(!te)return B();var oe=new uc(te.code,te);return oe}var F=Vn({isAtomic:w,isVoid:N});return[{normalizeNode:x,validateNode:P},F]}function cc(r,n){var t=n.code,e=n.node,o=n.child,i=n.next,u=n.previous,c=n.key,f=n.mark;switch(t){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return o.object==="text"&&e.object==="block"&&e.nodes.size===1?r.removeNodeByKey(e.key):r.removeNodeByKey(o.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return u.object==="text"&&e.object==="block"&&e.nodes.size===1?r.removeNodeByKey(e.key):r.removeNodeByKey(u.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return i.object==="text"&&e.object==="block"&&e.nodes.size===1?r.removeNodeByKey(e.key):r.removeNodeByKey(i.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return e.object==="document"?e.nodes.forEach(function(v){return r.removeNodeByKey(v.key)}):r.removeNodeByKey(e.key);case"node_data_invalid":return e.data.get(c)===void 0&&e.object!=="document"?r.removeNodeByKey(e.key):r.setNodeByKey(e.key,{data:e.data.delete(c)});case"node_mark_invalid":return e.getTexts().forEach(function(v){return r.removeMarkByKey(v.key,0,v.text.length,f)});default:return r.removeNodeByKey(e.key)}}function Wt(r,n){var t=yt(r,n);return!t}function yt(r,n,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=e.every,i=o===void 0?!1:o,u=e.match,c=u===void 0?null:u;if(typeof n=="function"){var f=n(r,c);return f?null:Ge("node_invalid",{rule:n,node:r})}if(Array.isArray(n)){var v=n.length?n:[{}],h=void 0,y=!0,g=!1,k=void 0;try{for(var w=v[Symbol.iterator](),N;!(y=(N=w.next()).done);y=!0){var x=N.value,P=yt(r,x,t);if(h=h||P,i&&P)return P;if(!i&&!P)return}}catch(L){g=!0,k=L}finally{try{!y&&w.return&&w.return()}finally{if(g)throw k}}return h}var F=fc(r,n)||lc(r,n)||vc(r,n)||dc(r,n)||hc(r,n)||mc(r,n)||yc(r,n)||gc(r,n,t);return F}function fc(r,n){if(n.object!=null&&n.object!==r.object&&!(typeof n.object=="function"&&n.object(r.object)))return Ge("node_object_invalid",{rule:n,node:r})}function lc(r,n){if(n.type!=null&&n.type!==r.type&&!(typeof n.type=="function"&&n.type(r.type)))return Ge("node_type_invalid",{rule:n,node:r})}function vc(r,n){if(n.data!=null&&r.data!=null){if(typeof n.data=="function")return n.data(r.data)?void 0:Ge("node_data_invalid",{rule:n,node:r});for(var t in n.data){var e=n.data[t],o=r.data&&r.data.get(t),i=typeof e=="function"?e(o):e===o;if(!i)return Ge("node_data_invalid",{rule:n,node:r,key:t,value:o})}}}function dc(r,n){if(n.marks!=null){var t=r.object==="text"?r.marks.toArray():r.getMarks().toArray(),e=function(g){var k=n.marks.some(function(w){return typeof w.type=="function"?w.type(g.type):w.type===g.type});return k?"continue":{v:Ge("node_mark_invalid",{rule:n,node:r,mark:g})}},o=!0,i=!1,u=void 0;try{for(var c=t[Symbol.iterator](),f;!(o=(f=c.next()).done);o=!0){var v=f.value,h=e(v);switch(h){case"continue":continue;default:if((typeof h>"u"?"undefined":jn(h))==="object")return h.v}}}catch(y){i=!0,u=y}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}}}function hc(r,n){if(n.text!=null){var t=r.text,e=typeof n.text=="function"?n.text(t):n.text.test(t);if(!e)return Ge("node_text_invalid",{rule:n,node:r,text:t})}}function mc(r,n){if(n.first!=null){var t=r.nodes.first();if(t){var e=yt(t,n.first);if(e)return e.rule=n,e.node=r,e.child=t,e.code=e.code.replace("node_","first_child_"),e}}}function yc(r,n){if(n.last!=null){var t=r.nodes.last();if(t){var e=yt(t,n.last);if(e)return e.rule=n,e.node=r,e.child=t,e.code=e.code.replace("node_","last_child_"),e}}}function gc(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.nodes==null)return;var e=r.nodes,o=n.nodes!=null?n.nodes.slice():[],i=0,u=0,c=null,f=-1,v=null,h=null,y=null,g=null,k=null;function w(){return o.length===0?!1:(v=o.shift(),u=i,i=0,c=v.min||null,h=v.max||null,!0)}function N(){return f+=1,g=f?e.get(f-1):null,y=e.get(f),k=e.get(f+1),y?(u=i,i+=1,!0):!1}function x(){f>0&&(f-=1,i=u)}for(n.nodes!=null&&w();N();){var P=pc(r,y,t)||kc(r,y,g,f,t)||_c(r,y,k,f,t);if(P)return P;if(n.nodes!=null){if(!v)return Ge("child_unknown",{rule:n,node:r,child:y,index:f});if(v.match){var F=yt(y,v.match);if(F){if(h!=null&&i-1>h)return x(),Ge("child_max_invalid",{rule:n,node:r,index:f,child:e.get(f),count:i,limit:h});var L=c;if(w()){if(u-1>=L){f-=1;continue}return yt(y,v.match)==null?(x(),Ge("child_min_invalid",{rule:n,node:r,index:f,count:u-1,limit:L})):(F.rule=n,F.node=r,F.child=y,F.index=f,F.code=F.code.replace("node_","child_"),F)}return h!=null&&i>h?Ge("child_unknown",{rule:n,node:r,child:y,index:f}):(F.rule=n,F.node=r,F.child=y,F.index=f,F.code=F.code.replace("node_","child_"),F)}}}}if(h!=null&&i>h)return Ge("child_max_invalid",{rule:n,node:r,index:f-1,count:i,child:e.get(f-1),limit:h});if(n.nodes!=null)do if(i<c)return Ge("child_min_invalid",{rule:n,node:r,index:f,count:i,limit:c});while(w())}function pc(r,n,t){var e=!0,o=!1,i=void 0;try{for(var u=t[Symbol.iterator](),c;!(e=(c=u.next()).done);e=!0){var f=c.value;if(f.parent!=null&&Wt(n,f.match)){var v=yt(r,f.parent);if(v)return v.rule=f,v.parent=r,v.node=n,v.code=v.code.replace("node_","parent_"),v}}}catch(h){o=!0,i=h}finally{try{!e&&u.return&&u.return()}finally{if(o)throw i}}}function kc(r,n,t,e,o){if(t){var i=!0,u=!1,c=void 0;try{for(var f=o[Symbol.iterator](),v;!(i=(v=f.next()).done);i=!0){var h=v.value;if(h.previous!=null&&Wt(n,h.match)){var y=yt(t,h.previous);if(y)return y.rule=h,y.node=r,y.child=n,y.index=e,y.previous=t,y.code=y.code.replace("node_","previous_sibling_"),y}}}catch(g){u=!0,c=g}finally{try{!i&&f.return&&f.return()}finally{if(u)throw c}}}}function _c(r,n,t,e,o){if(t){var i=!0,u=!1,c=void 0;try{for(var f=o[Symbol.iterator](),v;!(i=(v=f.next()).done);i=!0){var h=v.value;if(h.next!=null&&Wt(n,h.match)){var y=yt(t,h.next,[],{match:n});if(y)return y.rule=h,y.node=r,y.child=n,y.index=e,y.next=t,y.code=y.code.replace("node_","next_sibling_"),y}}}catch(g){u=!0,c=g}finally{try{!i&&f.return&&f.return()}finally{if(u)throw c}}}}function Ge(r,n){return Le({code:r},n)}function tr(r){var n=r.value,t=n.selection;t.isExpanded&&r.delete()}var ce={};ce.addMark=function(r,n){n=ie.create(n);var t=r.value,e=t.document,o=t.selection;if(o.isExpanded)r.addMarkAtRange(o,n);else if(o.marks){var i=o.marks.add(n),u=o.set("marks",i);r.select(u)}else{var c=e.getActiveMarksAtRange(o).add(n),f=o.set("marks",c);r.select(f)}};ce.addMarks=function(r,n){n.forEach(function(t){return r.addMark(t)})};ce.delete=function(r){var n=r.value,t=n.selection;r.deleteAtRange(t),r.moveToFocus()};ce.deleteBackward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.value,e=t.selection;e.isExpanded?r.delete():r.deleteBackwardAtRange(e,n)};ce.deleteCharBackward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteCharBackwardAtRange(t)};ce.deleteLineBackward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteLineBackwardAtRange(t)};ce.deleteWordBackward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteWordBackwardAtRange(t)};ce.deleteForward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.value,e=t.selection;e.isExpanded?r.delete():r.deleteForwardAtRange(e,n)};ce.deleteCharForward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteCharForwardAtRange(t)};ce.deleteLineForward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteLineForwardAtRange(t)};ce.deleteWordForward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteWordForwardAtRange(t)};ce.insertBlock=function(r,n){tr(r),n=rt.create(n);var t=r.value,e=t.selection;r.insertBlockAtRange(e,n);var o=r.value.document.getNode(n.key);o&&r.moveToEndOfNode(o)};ce.insertFragment=function(r,n){if(n.nodes.size){tr(r);var t=r.value,e=t,o=e.document,i=e.selection,u=i.start,c=Array.from(o.texts(),function(w){var N=R(w,1),x=N[0];return x.key});r.insertFragmentAtRange(i,n),t=r.value,o=t.document;var f=o.getTexts().filter(function(w){return!c.includes(w.key)});if(f.size!==0){var v=n.text.length,h=o.getNode(u.key)||f.first(),y=f.last()||h;if(h===y){r.moveTo(y.key,v);return}var g=o.getCommonAncestor(h.key,y.key),k=g.getOffset(h.key)+(u.key===h.key?u.offset:0);y=g.getTextAtOffset(k+v-1)||y,r.moveTo(y.key,k+v-g.getOffset(y.key))}}};ce.insertInline=function(r,n){tr(r),n=tt.create(n);var t=r.value,e=t.selection;r.insertInlineAtRange(e,n);var o=r.value.document.getNode(n.key);o&&r.moveToEndOfNode(o)};ce.insertText=function(r,n,t){tr(r);var e=r.value,o=e.document,i=e.selection;t=t||i.marks||o.getInsertMarksAtRange(i),r.withoutNormalizing(function(){r.insertTextAtRange(i,n,t),i.marks&&o!==r.value.document&&r.select({marks:null})})};ce.removeMark=function(r,n){n=ie.create(n);var t=r.value,e=t.document,o=t.selection;if(o.isExpanded)r.removeMarkAtRange(o,n);else if(o.marks){var i=o.marks.remove(n),u=o.set("marks",i);r.select(u)}else{var c=e.getActiveMarksAtRange(o).remove(n),f=o.set("marks",c);r.select(f)}};ce.replaceMark=function(r,n,t){r.removeMark(n),r.addMark(t)};ce.setBlocks=function(r,n){var t=r.value,e=t.selection;r.setBlocksAtRange(e,n)};ce.setInlines=function(r,n){var t=r.value,e=t.selection;r.setInlinesAtRange(e,n)};ce.splitBlock=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;tr(r);var t=r.value,e=t.selection,o=t.document,i=e.marks||o.getInsertMarksAtRange(e);r.splitBlockAtRange(e,n).moveToEnd(),i&&i.size!==0&&r.select({marks:i})};ce.splitInline=function(r,n){tr(r);var t=r.value,e=t.selection;r.splitInlineAtRange(e,n)};ce.toggleMark=function(r,n){n=ie.create(n);var t=r.value,e=t.activeMarks.has(n);e?r.removeMark(n):r.addMark(n)};ce.unwrapBlock=function(r,n){var t=r.value,e=t.selection;r.unwrapBlockAtRange(e,n)};ce.unwrapInline=function(r,n){var t=r.value,e=t.selection;r.unwrapInlineAtRange(e,n)};ce.wrapBlock=function(r,n){var t=r.value,e=t.selection;r.wrapBlockAtRange(e,n)};ce.wrapInline=function(r,n){var t=r.value,e=t.selection;r.wrapInlineAtRange(e,n)};ce.wrapText=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,e=r.value,o=e.selection;r.wrapTextAtRange(o,n,t),o.isCollapsed&&r.moveStartBackward(n.length),r.moveEndBackward(t.length),o.isForward!==r.value.selection.isForward&&r.flip()};function Ac(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.plugins,t=n===void 0?[]:n,e=To(Le({},le,ae,Zt,S,er,ce)),o=Vn({isAtomic:function(){return!1},isVoid:function(){return!1}}),i=No({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(c,f){var v=f.code,h=f.node;v==="child_min_invalid"&&h.nodes.isEmpty()&&c.insertNodeByKey(h.key,0,dt.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(c,f){var v=f.code,h=f.node,y=dt.create(),g=void 0;if(v==="first_child_object_invalid")g=0;else if(v==="last_child_object_invalid")g=h.nodes.size;else return;c.insertNodeByKey(h.key,g,y)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(c,f){var v=f.code,h=f.node,y=f.index,g=dt.create(),k=void 0;if(v==="first_child_object_invalid")k=0;else if(v==="last_child_object_invalid")k=h.nodes.size;else if(v==="previous_sibling_object_invalid")k=y;else if(v==="next_sibling_object_invalid")k=y+1;else return;c.insertNodeByKey(h.key,k,g)}},{match:{object:"text"},next:function(c,f){return c.object!=="text"||!f.marks.equals(c.marks)},normalize:function(c,f){var v=f.code,h=f.next;v==="next_sibling_invalid"&&c.mergeNodeByKey(h.key)}},{match:{object:"text"},previous:function(c){return c.object!=="text"||c.text!==""},next:function(c){return c.object!=="text"||c.text!==""},normalize:function(c,f){var v=f.code,h=f.next,y=f.previous;v==="next_sibling_invalid"?c.removeNodeByKey(h.key):v==="previous_sibling_invalid"&&c.removeNodeByKey(y.key)}}]});return[i].concat(be(t),[e,o])}var Tn=Mn("slate:editor"),Sc=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ae(this,r);var e=t.controller,o=e===void 0?this:e,i=t.construct,u=i===void 0?!0:i,c=n.onChange,f=c===void 0?function(){}:c,v=n.plugins,h=v===void 0?[]:v,y=n.readOnly,g=y===void 0?!1:y,k=n.value,w=k===void 0?mt.create():k;this.controller=o,this.middleware={},this.onChange=f,this.operations=E.List(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0};var N=Ac({plugins:h});vr(this,N),u&&(this.run("onConstruct"),this.setReadOnly(g),this.setValue(w,t))}return we(r,[{key:"applyOperation",value:function(t){var e=this,o=this.operations,i=this.controller,u=this.value;de(t)&&(t=Le({},t,{value:u})),t=Bt.create(t),this.withoutNormalizing(function(){i.save(t),u=e.value}),Tn("apply",{operation:t}),this.value=t.apply(u),this.operations=o.push(t);var c=wc(t),f=this.tmp.dirty.map(function(y){y=I.create(y);var g=I.transform(y,t);return g.toArray()}),v={},h=Array.prototype.concat.apply(c,f);return this.tmp.dirty=[],h.forEach(function(y){var g=y.join(",");v[g]||e.tmp.dirty.push(y),v[g]=!0}),this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then(function(){return e.flush()})),i}},{key:"flush",value:function(){this.run("onChange");var t=this.value,e=this.operations,o=this.controller,i={value:t,operations:e};return this.operations=E.List(),this.tmp.flushing=!1,this.onChange(i),o}},{key:"command",value:function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];var u=this.controller;if(typeof t=="function")return t.apply(void 0,[u].concat(o)),Ir(this),u;Tn("command",{type:t,args:o});var c={type:t,args:o};return this.run("onCommand",c),Ir(this),u}},{key:"hasCommand",value:function(t){var e=this.controller,o=t in e&&e[t].__command;return o}},{key:"hasQuery",value:function(t){var e=this.controller,o=t in e&&e[t].__query;return o}},{key:"normalize",value:function(){var t=this.value,e=this.controller,o=t.document,i=o.getKeysToPathsTable(),u=Object.values(i).map(I.create);this.tmp.dirty=this.tmp.dirty.concat(u),Ir(this);var c=t.selection;return o=t.document,c.isUnset&&o.nodes.size&&e.moveToStartOfDocument(),e}},{key:"query",value:function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];var u=this.controller;if(typeof t=="function")return t.apply(void 0,[u].concat(o));Tn("query",{type:t,args:o});var c={type:t,args:o};return this.run("onQuery",c)}},{key:"registerCommand",value:function(t){var e=this,o=this.controller;if(t in o&&o[t].__command)return o;et(!(t in o),"You cannot register a `"+t+"` command because it would overwrite an existing property of the `Editor`.");var i=function(){for(var c=arguments.length,f=Array(c),v=0;v<c;v++)f[v]=arguments[v];return e.command.apply(e,[t].concat(f))};return o[t]=i,i.__command=!0,o}},{key:"registerQuery",value:function(t){var e=this,o=this.controller;if(t in o&&o[t].__query)return o;et(!(t in o),"You cannot register a `"+t+"` query because it would overwrite an existing property of the `Editor`.");var i=function(){for(var c=arguments.length,f=Array(c),v=0;v<c;v++)f[v]=arguments[v];return e.query.apply(e,[t].concat(f))};return o[t]=i,i.__query=!0,o}},{key:"run",value:function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];var u=this.controller,c=this.middleware,f=c[t]||[],v=0;function h(){var y=f[v++];if(y){for(var g=arguments.length,k=Array(g),w=0;w<g;w++)k[w]=arguments[w];k.length&&(o=k);var N=y.apply(void 0,be(o).concat([u,h]));return N}}return Object.defineProperty(h,"change",{get:function(){et(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(h,"onChange",{get:function(){et(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(h,"props",{get:function(){et(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(h,"schema",{get:function(){et(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(h,"stack",{get:function(){et(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),h()}},{key:"setReadOnly",value:function(t){return this.readOnly=t,this}},{key:"setValue",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=e.normalize,i=o===void 0?t!==this.value:o;return this.value=t,i&&this.normalize(),this}},{key:"withoutNormalizing",value:function(t){var e=this.controller,o=this.tmp.normalize;return this.tmp.normalize=!1,t(e),this.tmp.normalize=o,Ir(this),e}},{key:"change",value:function(t){D();for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];t.apply(void 0,[this.controller].concat(o))}},{key:"call",value:function(t){D();for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];return t.apply(void 0,[this.controller].concat(o)),this.controller}},{key:"applyOperations",value:function(t){var e=this;return D(),t.forEach(function(o){return e.applyOperation(o)}),this.controller}},{key:"setOperationFlag",value:function(t,e){return D(),this.tmp[t]=e,this}},{key:"getFlag",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return D(),e[t]!==void 0?e[t]:this.tmp[t]}},{key:"unsetOperationFlag",value:function(t){return D(),delete this.tmp[t],this}},{key:"withoutNormalization",value:function(t){return D(),this.withoutNormalizing(t)}},{key:"editor",get:function(){return D(),this.controller}}]),r}();function wc(r){var n=r.type,t=r.node,e=r.path,o=r.newPath;switch(n){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":{var i=I.getAncestors(e).toArray();return[].concat(be(i),[e])}case"insert_node":{var u=t.getKeysToPathsTable(),c=Object.values(u).map(function(x){return e.concat(x)}),f=I.getAncestors(e).toArray();return[].concat(be(f),[e],be(c))}case"split_node":{var v=I.getAncestors(e).toArray(),h=I.increment(e);return[].concat(be(v),[e,h])}case"merge_node":{var y=I.getAncestors(e).toArray(),g=I.decrement(e);return[].concat(be(y),[g])}case"move_node":{if(I.isEqual(e,o))return[];var k=I.getAncestors(e).reduce(function(x,P){return x.push.apply(x,be(I.transform(P,r).toArray())),x},[]),w=I.getAncestors(o).reduce(function(x,P){return x.push.apply(x,be(I.transform(P,r).toArray())),x},[]);return[].concat(be(k),be(w))}case"remove_node":{var N=I.getAncestors(e).toArray();return[].concat(be(N))}default:return[]}}function Ir(r){r.tmp.normalize&&r.tmp.dirty.length&&r.withoutNormalizing(function(){for(;r.tmp.dirty.length;){var n=r.tmp.dirty.pop();Oc(r,n)}})}function Oc(r,n){for(var t=r.controller,e=r.value,o=e,i=o.document,u=i.assertNode(n),c=0,f=100+(u.object==="text"?1:u.nodes.size);u;){var v=u.normalize(t);if(!v)break;v(t),e=r.value,i=e.document;var h=u,y=h.key,g=i.getDescendant(n);if(g&&g.key===y)u=g;else if(g=i.getDescendant(y),g)u=g,n=i.getPath(y);else break;if(c++,c>f)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function vr(r,n){if(Array.isArray(n)){n.forEach(function(g){return vr(r,g)});return}if(n!=null){var t=n.commands,e=n.queries,o=n.schema,i=Ut(n,["commands","queries","schema"]);if(t){var u=To(t);vr(r,u)}if(e){var c=Vn(e);vr(r,c)}if(o){var f=No(o);vr(r,f)}for(var v in i){var h=i[v],y=r.middleware[v]=r.middleware[v]||[];y.push(h)}}}var Tc={marks:void 0,text:void 0},Eo=function(r){je(n,r);function n(){return Ae(this,n),$e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return we(n,[{key:"updateMark",value:function(e,o){var i=this.marks;if(o.equals(e))return this;if(!i.has(e))return this;var u=i.withMutations(function(c){c.remove(e).add(o)});return this.set("marks",u)}},{key:"addMark",value:function(e){var o=this.marks;return this.set("marks",o.add(e))}},{key:"addMarks",value:function(e){var o=this.marks;return this.set("marks",o.union(e))}},{key:"insertText",value:function(e,o){var i=this.text,u=i.slice(0,e)+o+i.slice(e);return this.set("text",u)}},{key:"removeMark",value:function(e){var o=this.marks;return this.set("marks",o.remove(e))}},{key:"toJSON",value:function(){var e={object:this.object,text:this.text,marks:this.marks.toArray().map(function(o){return o.toJSON()})};return e}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(D(),n.isLeaf(e))return e;if(typeof e=="string"&&(e={text:e}),de(e))return n.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var o=!1,i=E.List().withMutations(function(u){e.findLast(function(c,f){var v=u.first();if(v){if(v.marks.equals(c.marks)){o=!0,u.set(0,v.set("text",""+c.text+v.text));return}if(v.text===""){o=!0,u.set(0,c);return}if(c.text===""){o=!0;return}}u.unshift(c)})});return o?i:e}},{key:"splitLeaves",value:function(e,o){if(o<0)return[E.List(),e];if(e.size===0)return[E.List(),E.List()];var i=0,u=-1,c=void 0,f=void 0;return e.find(function(v){u++;var h=i,y=v.text;if(i+=y.length,i<o||h>o)return!1;var g=o-h;return c=v.set("text",y.slice(0,g)),f=v.set("text",y.slice(g)),!0}),c?c.text===""?u===0?[E.List.of(c),e]:[e.take(u),e.skip(u)]:f.text===""?u===e.size-1?[e,E.List.of(f)]:[e.take(u+1),e.skip(u+1)]:[e.take(u).push(c),e.skip(u+1).unshift(f)]:[e,E.List()]}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var o=new E.List(e.map(n.create));return o}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var o=e.text,i=o===void 0?"":o,u=e.marks,c=u===void 0?[]:u,f=new n({text:i,marks:E.Set(c.map(ie.fromJSON))});return f}},{key:"isLeafList",value:function(e){return E.List.isList(e)&&e.every(function(o){return n.isLeaf(o)})}}]),n}(E.Record(Tc));function mr(r,n){var t=!0,e=!1,o=void 0;try{for(var i=n[Symbol.iterator](),u;!(t=(u=i.next()).done);t=!0){var c=u.value,f=!0,v=!1,h=void 0;try{for(var y=Object.getOwnPropertyNames(r)[Symbol.iterator](),g;!(f=(g=y.next()).done);f=!0){var k=g.value;if(!c.hasOwnProperty(k)){var w=Object.getOwnPropertyDescriptor(r,k);Object.defineProperty(c,k,w)}}}catch(B){v=!0,h=B}finally{try{!f&&y.return&&y.return()}finally{if(v)throw h}}var N=!0,x=!1,P=void 0;try{for(var F=Object.getOwnPropertyNames(r.prototype)[Symbol.iterator](),L;!(N=(L=F.next()).done);N=!0){var M=L.value;if(!c.prototype.hasOwnProperty(M)){var w=Object.getOwnPropertyDescriptor(r.prototype,M);Object.defineProperty(c.prototype,M,w)}}}catch(B){x=!0,P=B}finally{try{!N&&F.return&&F.return()}finally{if(x)throw P}}}}catch(B){e=!0,o=B}finally{try{!t&&i.return&&i.return()}finally{if(e)throw o}}}function xc(r){var n=wo[r],t=""+r.charAt(0).toUpperCase()+r.slice(1),e="is"+t,o=function(){function i(){Ae(this,i)}return we(i,[{key:"object",get:function(){return r}}]),i}();return o[e]=Oo.bind(null,r),o.prototype[n]=!0,o}Object.entries({Annotation:Ce,Block:rt,Change:Ku,Decoration:Pt,Document:it,Editor:Sc,Inline:tt,Leaf:Eo,Mark:ie,Node:He,Operation:Bt,Point:ee,Range:De,Selection:kt,Text:dt,Value:mt}).forEach(function(r){var n=R(r,2),t=n[0],e=n[1];return mr(xc(t.toLowerCase()),[e])});var Nc=function(){function r(){Ae(this,r)}return we(r,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),r}();mr(Nc,[Ce,rt,Pt,it,tt,Eo,ie,He,Bt,ee,De,kt,dt,mt]);var bo=Symbol("LEAF"),Ft=Symbol("STORE_KEY"),Lr=Symbol("undefined"),Fo=Symbol("null"),Rn=void 0,xn=new WeakMap;function Po(r,n){var t=function(h){var y=r[h];if(!y)throw new Error('Object does not have a property named "'+h+'".');r[h]=function(){for(var g=arguments.length,k=Array(g),w=0;w<g;w++)k[w]=arguments[w];xn.has(this)||xn.set(this,{noArgs:{},hasArgs:{}});var N=xn.get(this),x=N.noArgs,P=N.hasArgs,F=k.length!==0,L=void 0,M=void 0;if(F?(M=[h].concat(k),L=Ec(P,M)):L=x[h],L!==Rn)return L===Lr?void 0:L;var B=y.apply(this,k),j=B===void 0?Lr:B;return F?bc(P,M,j):x[h]=j,B}},e=!0,o=!1,i=void 0;try{for(var u=n[Symbol.iterator](),c;!(e=(c=u.next()).done);e=!0){var f=c.value;t(f)}}catch(v){o=!0,i=v}finally{try{!e&&u.return&&u.return()}finally{if(o)throw i}}}function Ec(r,n){var t=!0,e=!1,o=void 0;try{for(var i=n[Symbol.iterator](),u;!(t=(u=i.next()).done);t=!0){var c=u.value;if(c===void 0?c=Lr:c==null&&(c=Fo),(typeof c>"u"?"undefined":jn(c))==="object"?r=r[Ft]&&r[Ft].get(c):r=r[c],r===Rn)return Rn}}catch(f){e=!0,o=f}finally{try{!t&&i.return&&i.return()}finally{if(e)throw o}}return r[bo]}function bc(r,n,t){var e=r,o=!0,i=!1,u=void 0;try{for(var c=n[Symbol.iterator](),f;!(o=(f=c.next()).done);o=!0){var v=f.value;if(v===void 0?v=Lr:v==null&&(v=Fo),(typeof v>"u"?"undefined":jn(v))!=="object"){e[v]||(e[v]={}),e=e[v];continue}if(e[Ft]||(e[Ft]=new WeakMap),!e[Ft].has(v)){var h={};e[Ft].set(v,h),e=h;continue}e=e[Ft].get(v)}}catch(y){i=!0,u=y}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return e[bo]=t,r}var Bo=function(){function r(){Ae(this,r)}return we(r,[{key:"getFirstText",value:function(){if(this.object==="text")return this;var t=null,e=this.nodes.find(function(o){return o.object==="text"?!0:(t=o.getFirstText(),!!t)});return t||e}},{key:"getKeysToPathsTable",value:function(){var t=In({},this.key,[]);return this.nodes&&this.nodes.forEach(function(e,o){var i=e.getKeysToPathsTable();for(var u in i){var c=i[u];D(),t[u]=[o].concat(be(c))}}),t}},{key:"getLastText",value:function(){if(this.object==="text")return this;var t=null,e=this.nodes.findLast(function(o){return o.object==="text"?!0:(t=o.getLastText(),t)});return t||e}},{key:"getNode",value:function(t){if(t=this.resolvePath(t),!t||this.object==="text"&&t.size)return null;var e=t.size?this.getDescendant(t):this;return e}},{key:"getPath",value:function(t){if(E.List.isList(t))return t;if(He.isNode(t)&&this.descendants){var e=!0,o=!1,i=void 0;try{for(var u=this.descendants()[Symbol.iterator](),c;!(e=(c=u.next()).done);e=!0){var f=c.value,v=R(f,2),h=v[0],y=v[1];if(t===h)return y}}catch(w){o=!0,i=w}finally{try{!e&&u.return&&u.return()}finally{if(o)throw i}}}var g=this.getKeysToPathsTable(),k=g[t];return k?E.List(k):null}},{key:"getText",value:function(){if(this.object==="text")return this.text;var t=this.nodes.reduce(function(e,o){return e+o.text},"");return t}},{key:"hasNode",value:function(t){var e=this.getNode(t);return!!e}},{key:"normalize",value:function(t){var e=t.run("normalizeNode",this);return e}},{key:"regenerateKey",value:function(){var t=Yt.create(),e=this.set("key",t);return e}},{key:"resolvePath",value:function(t,e){return typeof t=="string"?(t=this.getPath(t),e!=null&&(t=t.concat(e))):t=I.create(t),t}},{key:"validate",value:function(t){var e=t.run("validateNode",this);return e}}]),r}();Po(Bo.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]);mr(Bo,[rt,it,tt,dt]);var to=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function Kt(){return!0}var Wn=function(){function r(){Ae(this,r)}return we(r,[{key:"addMark",value:function(t,e){t=this.resolvePath(t);var o=this.assertDescendant(t);o=o.addMark(e);var i=this.replaceNode(t,o);return i}},{key:"ancestors",value:function(t){var e=this.createIterable({path:t,direction:null,downward:!1,includeTargetAncestors:!0,includeRoot:!0});return e}},{key:"blocks",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.onlyLeaves,o=t.onlyRoots,i=t.onlyTypes,u=t.match,c=Ut(t,["onlyLeaves","onlyRoots","onlyTypes","match"]),f=this.descendants(Le({includeDocument:!1,includeInlines:!1,includeTexts:!1},c,{match:function(h,y){return i&&!i.includes(h.type)||o&&y.size!==1||e&&!h.isLeafBlock()?!1:!(u&&!u(h,y))}}));return f}},{key:"createAnnotation",value:function(t){t=Ce.createProperties(t);var e=this.resolveAnnotation(t);return e}},{key:"createDecoration",value:function(t){t=Pt.createProperties(t);var e=this.resolveDecoration(t);return e}},{key:"createIterable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.direction,o=e===void 0?"forward":e,i=t.downward,u=i===void 0?!0:i,c=t.upward,f=c===void 0?!0:c,v=t.includeBlocks,h=v===void 0?!0:v,y=t.includeDocument,g=y===void 0?!0:y,k=t.includeInlines,w=k===void 0?!0:k,N=t.includeRoot,x=N===void 0?!1:N,P=t.includeTarget,F=P===void 0?!!t.range:P,L=t.includeTargetAncestors,M=L===void 0?!1:L,B=t.includeTexts,j=B===void 0?!0:B,te=t.match,oe=te===void 0?null:te,U=this,se=null,$=null;t.range?($=U.resolveRange(t.range),se=U.resolvePath($.start.path)):t.path&&(se=U.resolvePath(t.path));var ue=se&&U.assertNode(se),ve=typeof window>"u"?to.Set:window.Set;return In({},Symbol.iterator,function(){var H=new ve,re=$&&$.start.path,Z=$&&$.end.path,K=se,Y=ue,qe=!1,Se=!1,Fe=!1,Oe=function(){return!K||!Y?{done:!0}:!x&&Y===U||!h&&Y.object==="block"||!g&&Y.object==="document"||!w&&Y.object==="inline"||!j&&Y.object==="text"||oe&&!oe(Y,K)?xe():{value:[Y,K],done:!1}},xe=function Je(){if(!K||!Y)return Oe();if(re&&!Se)return Fe?K.size===re.size-1?(Se=!0,K=se,Y=ue,Je()):(K=re.slice(0,K.size+1),Y=U.assertNode(K),Oe()):(Fe=!0,K=I.create([]),Y=U,Oe());if(F&&!qe)return qe=!0,Oe();if(Z&&K.equals(Z))return Y=null,K=null,Je();if(u&&Y.nodes&&Y.nodes.size&&!H.has(Y)){H.add(Y);var V=o==="forward"?0:Y.nodes.size-1;return K=K.push(V),Y=U.assertNode(K),Oe()}if(o==="forward"){var Q=I.increment(K),ye=U.getNode(Q);if(ye)return K=Q,Y=ye,Oe()}if(o==="backward"&&K.last()!==0){var st=I.decrement(K),Ze=U.getNode(st);if(Ze)return K=st,Y=Ze,Oe()}return f&&K.size?(K=I.lift(K),Y=U.assertNode(K),H.has(Y)?Je():(H.add(Y),M?Oe():Je())):(K=null,Y=null,Je())};return{next:xe}})}},{key:"createPoint",value:function(t){t=ee.createProperties(t);var e=this.resolvePoint(t);return e}},{key:"createRange",value:function(t){t=De.createProperties(t);var e=this.resolveRange(t);return e}},{key:"createSelection",value:function(t){t=kt.createProperties(t);var e=this.resolveSelection(t);return e}},{key:"descendants",value:function(t){var e=this.createIterable(Le({path:[]},t));return e}},{key:"filterDescendants",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt,e=[],o=!0,i=!1,u=void 0;try{for(var c=this.descendants()[Symbol.iterator](),f;!(o=(f=c.next()).done);o=!0){var v=f.value,h=R(v,2),y=h[0],g=h[1];t(y,g)&&e.push(y)}}catch(k){i=!0,u=k}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return E.List(e)}},{key:"findDescendant",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt,e=!0,o=!1,i=void 0;try{for(var u=this.descendants()[Symbol.iterator](),c;!(e=(c=u.next()).done);e=!0){var f=c.value,v=R(f,2),h=v[0],y=v[1];if(t(h,y))return h}}catch(g){o=!0,i=g}finally{try{!e&&u.return&&u.return()}finally{if(o)throw i}}return null}},{key:"forEachDescendant",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt,e=!0,o=!1,i=void 0;try{for(var u=this.descendants()[Symbol.iterator](),c;!(e=(c=u.next()).done);e=!0){var f=c.value,v=t.apply(void 0,be(f));if(v===!1)return}}catch(h){o=!0,i=h}finally{try{!e&&u.return&&u.return()}finally{if(o)throw i}}}},{key:"getActiveMarksAtRange",value:function(t){if(t=this.resolveRange(t),t.isUnset)return E.Set();if(t.isCollapsed){var e=t,o=e.start;return this.getInsertMarksAtPoint(o)}var i=t,u=i.start,c=i.end,f=u.path,v=u.offset,h=c.path,y=c.offset,g=this.getDescendant(f),k=this.getDescendant(h);if(!f.equals(h)){for(;!f.equals(h)&&y===0;){var w=this.texts({path:h,direction:"backward"}),N=R(w,1),x=R(N[0],2);k=x[0],h=x[1],y=k.text.length}for(;!f.equals(h)&&v===g.text.length;){var P=this.texts({path:f}),F=R(P,1),L=R(F[0],2);g=L[0],f=L[1],v=0}}if(f.equals(h))return g.marks;var M=g.marks;if(M.size===0)return E.Set();var B=k.marks,j=M.intersect(B);if(j.size===0)return j;var te=this.texts({path:f}),oe=R(te,1),U=R(oe[0],2);for(g=U[0],f=U[1];!f.equals(h);){if(g.text.length!==0&&(j=j.intersect(g.marks),j.size===0))return E.Set();var se=this.texts({path:f}),$=R(se,1),ue=R($[0],2);g=ue[0],f=ue[1]}return j}},{key:"getAncestors",value:function(t){var e=this.ancestors(t),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}).reverse(),i=E.List(o);return i}},{key:"getBlocks",value:function(){var t=this.blocks({onlyLeaves:!0}),e=Array.from(t,function(i){var u=R(i,1),c=u[0];return c}),o=E.List(e);return o}},{key:"getBlocksByType",value:function(t){var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"getChild",value:function(t){if(t=this.resolvePath(t),!t||t.size>1)return null;var e=this.nodes.get(t.first());return e}},{key:"getClosest",value:function(t,e){var o=!0,i=!1,u=void 0;try{for(var c=this.ancestors(t)[Symbol.iterator](),f;!(o=(f=c.next()).done);o=!0){var v=f.value,h=R(v,2),y=h[0],g=h[1];if(e(y,g))return y}}catch(k){i=!0,u=k}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return null}},{key:"getClosestBlock",value:function(t){var e=this.getClosest(t,function(o){return o.object==="block"});return e}},{key:"getClosestInline",value:function(t){var e=this.getClosest(t,function(o){return o.object==="inline"});return e}},{key:"getClosestVoid",value:function(t,e){et(!mt.isValue(e),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var o=this.getClosest(t,function(i){return e.isVoid(i)});return o}},{key:"getCommonAncestor",value:function(t,e){if(t=this.resolvePath(t),e=this.resolvePath(e),!t||!e)return null;var o=I.relate(t,e),i=this.getNode(o);return i}},{key:"getDecorations",value:function(t){var e=t.run("decorateNode",this);return e=Pt.createList(e),e}},{key:"getDepth",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(t=this.resolvePath(t),!t)return null;var o=this.getNode(t),i=o?t.size-1+e:null;return i}},{key:"getDescendant",value:function(t){if(t=this.resolvePath(t),!t||!t.size)return null;var e=this;return t.forEach(function(o){return e=e.getIn(["nodes",o]),!!e}),e}},{key:"getDescendantsAtRange",value:function(t){var e=this.descendants({range:t}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"getFragmentAtRange",value:function(t){if(t=this.resolveRange(t),t.isUnset)return it.create();for(var e=t,o=e.start,i=e.end,u=this,c=i.path,f=i.offset,v="end";c.size;){var h=c.last();u=u.splitNode(c,f),f=h+1,c=I.lift(c),!c.size&&v==="end"&&(c=o.path,f=o.offset,v="start")}var y=o.path.first()+1,g=i.path.first()+2,k=u.nodes.slice(y,g),w=it.create({nodes:k});return w}},{key:"getFurthest",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kt,o=this.ancestors(t),i=Array.from(o).reverse(),u=!0,c=!1,f=void 0;try{for(var v=i[Symbol.iterator](),h;!(u=(h=v.next()).done);u=!0){var y=h.value,g=R(y,2),k=g[0],w=g[1];if(e(k,w))return k}}catch(N){c=!0,f=N}finally{try{!u&&v.return&&v.return()}finally{if(c)throw f}}return null}},{key:"getFurthestBlock",value:function(t){var e=this.getFurthest(t,function(o){return o.object==="block"});return e}},{key:"getFurthestChild",value:function(t){if(t=this.resolvePath(t),!t||!t.size)return null;var e=this.nodes.get(t.first());return e}},{key:"getFurthestInline",value:function(t){var e=this.getFurthest(t,function(o){return o.object==="inline"});return e}},{key:"getInlines",value:function(){var t=this.inlines({onlyLeaves:!0}),e=Array.from(t,function(i){var u=R(i,1),c=u[0];return c}),o=E.List(e);return o}},{key:"getInlinesByType",value:function(t){var e=this.inlines({onlyLeaves:!0,onlyTypes:[t]}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"getInsertMarksAtPoint",value:function(t){t=this.resolvePoint(t);var e=t,o=e.path,i=e.offset,u=this.getDescendant(o);if(i!==0)return u.marks;var c=void 0,f=void 0,v=!0,h=!1,y=void 0;try{for(var g=this.ancestors(o)[Symbol.iterator](),k;!(v=(k=g.next()).done);v=!0){var w=k.value,N=R(w,2),x=N[0],P=N[1];x.object==="block"&&(c=x,f=P)}}catch(oe){h=!0,y=oe}finally{try{!v&&g.return&&g.return()}finally{if(h)throw y}}var F=I.drop(o,f.size),L=c.texts({path:F,direction:"backward"}),M=R(L,1),B=M[0];if(!B)return u.marks;var j=R(B,1),te=j[0];return te.marks}},{key:"getInsertMarksAtRange",value:function(t){t=this.resolveRange(t);var e=t,o=e.start;if(t.isUnset)return E.Set();if(t.isCollapsed)return this.getInsertMarksAtPoint(o);var i=this.getDescendant(o.path);return i.marks}},{key:"getLeafBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyLeaves:!0}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"getLeafInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyLeaves:!0}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"getNodesToPathsMap",value:function(){var t=this,e=typeof window>"u"?new to.Map:new window.Map;return e.set(t,I.create([])),t.forEachDescendant(function(o,i){e.set(o,i)}),e}},{key:"getMarks",value:function(){var t=this.marks(),e=Array.from(t,function(o){var i=R(o,1),u=i[0];return u});return E.OrderedSet(e)}},{key:"getMarksAtRange",value:function(t){var e=this.marks({range:t}),o=Array.from(e,function(i){var u=R(i,1),c=u[0];return c});return E.OrderedSet(o)}},{key:"getMarksByType",value:function(t){var e=this.marks({onlyTypes:[t]}),o=Array.from(e,function(i){var u=R(i,1),c=u[0];return c});return E.OrderedSet(o)}},{key:"getNextBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0}),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getNextNode",value:function(t){var e=this.createIterable({path:t,downward:!1}),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getNextSibling",value:function(t){var e=this.siblings(t),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getNextText",value:function(t){var e=this.texts({path:t}),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getOffset",value:function(t){t=this.resolvePath(t),this.assertDescendant(t);var e=t.first(),o=this.nodes.slice(0,e).reduce(function(u,c){return u+c.text.length},0),i=t.size===1?o:o+this.nodes.get(e).getOffset(I.drop(t));return i}},{key:"getOffsetAtRange",value:function(t){if(t=this.resolveRange(t),t.isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(t.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var e=t,o=e.start,i=this.getOffset(o.path)+o.offset;return i}},{key:"getParent",value:function(t){if(t=this.resolvePath(t),!t||!t.size)return null;var e=I.lift(t),o=this.getNode(e);return o}},{key:"getPreviousBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0,direction:"backward"}),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getPreviousNode",value:function(t){var e=this.createIterable({path:t,downward:!1,direction:"backward"}),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getPreviousSibling",value:function(t){var e=this.siblings(t,{direction:"backward"}),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getPreviousText",value:function(t){var e=this.texts({path:t,direction:"backward"}),o=R(e,1),i=o[0],u=i?i[0]:null;return u}},{key:"getRootBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyRoots:!0}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"getRootInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyRoots:!0}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"getTextAtOffset",value:function(t){if(t===0)return this.getFirstText();if(t===this.text.length)return this.getLastText();if(t<0||t>this.text.length)return null;var e=0,o=!0,i=!1,u=void 0;try{for(var c=this.texts()[Symbol.iterator](),f;!(o=(f=c.next()).done);o=!0){var v=f.value,h=R(v,1),y=h[0];if(e+=y.text.length,e>t)return y}}catch(g){i=!0,u=g}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}return null}},{key:"getTextDirection",value:function(){var t=vu(this.text);return t==="neutral"?null:t}},{key:"getTexts",value:function(){var t=this.texts(),e=Array.from(t,function(i){var u=R(i,1),c=u[0];return c}),o=E.List(e);return o}},{key:"getTextsAtRange",value:function(t){var e=this.texts({range:t}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"hasBlockChildren",value:function(){return!!(this.nodes&&this.nodes.find(function(t){return t.object==="block"}))}},{key:"hasChild",value:function(t){var e=this.getChild(t);return!!e}},{key:"hasInlineChildren",value:function(){return!!(this.nodes&&this.nodes.find(function(t){return t.object==="inline"||t.object==="text"}))}},{key:"hasDescendant",value:function(t){var e=this.getDescendant(t);return!!e}},{key:"hasVoidParent",value:function(t,e){et(!mt.isValue(e),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`.");var o=this.getClosestVoid(t,e);return!!o}},{key:"inlines",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=e.onlyLeaves,i=e.onlyRoots,u=e.onlyTypes,c=e.match,f=Ut(e,["onlyLeaves","onlyRoots","onlyTypes","match"]),v=this.descendants(Le({includeBlocks:!1,includeTexts:!1,includeDocument:!1},f,{match:function(y,g){return u&&!u.includes(y.type)||o&&!y.isLeafInline()||i&&t.getParent(g).object!=="block"?!1:!(c&&!c(y,g))}}));return v}},{key:"insertNode",value:function(t,e){t=this.resolvePath(t);var o=t.last(),i=I.lift(t),u=this.assertNode(i),c=u.nodes.splice(o,0,e);u=u.set("nodes",c);var f=this.replaceNode(i,u);return f}},{key:"insertText",value:function(t,e,o){t=this.resolvePath(t);var i=this.assertDescendant(t);i=i.insertText(e,o);var u=this.replaceNode(t,i);return u}},{key:"isLeafBlock",value:function(){return!(this.object!=="block"||this.nodes.some(function(t){return t.object==="block"}))}},{key:"isLeafInline",value:function(){return!(this.object!=="inline"||this.nodes.some(function(t){return t.object==="inline"}))}},{key:"isInRange",value:function(t,e){if(t=this.resolvePath(t),e=this.resolveRange(e),e.isUnset)return!1;var o=I.compare(t,e.start.path),i=I.compare(t,e.end.path),u=o!==-1&&i!==1;return u}},{key:"mapChildren",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt,o=this.nodes;o.forEach(function(u,c){var f=e(u,c,t.nodes);f!==u&&(o=o.set(f.key,f))});var i=this.set("nodes",o);return i}},{key:"mapDescendants",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Kt,o=this.nodes;o.forEach(function(u,c){var f=u;f.object!=="text"&&(f=f.mapDescendants(e)),f=e(f,c,t.nodes),f!==u&&(o=o.set(c,f))});var i=this.set("nodes",o);return i}},{key:"marks",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.onlyTypes,o=e===void 0?null:e,i=t.match,u=Ut(t,["onlyTypes","match"]),c=this.texts(u);return In({},Symbol.iterator,function(){var f=c[Symbol.iterator](),v=null,h=null,y=[],g=function k(){if(y.length){var w=y.shift();return o&&!o.includes(w.type)||i&&!i(w,v,h)?k():{value:[w,v,h],done:!1}}var N=f.next(),x=N.value,P=N.done;if(P)return{done:!0};var F=R(x,2);return v=F[0],h=F[1],y=v.marks.toArray(),k()};return{next:g}})}},{key:"mergeNode",value:function(t){var e=this.assertNode(t);if(t=this.resolvePath(t),t.last()===0)throw new Error("Unable to merge node because it has no previous sibling: "+e);var o=I.decrement(t),i=this.assertNode(o);if(i.object!==e.object)throw new Error("Unable to merge two different kinds of nodes: "+i+" and "+e);var u=i.object==="text"?i.mergeText(e):i.set("nodes",i.nodes.concat(e.nodes)),c=this;return c=c.removeNode(t),c=c.removeNode(o),c=c.insertNode(o,u),c}},{key:"moveNode",value:function(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=this.assertNode(t);t=this.resolvePath(t),e=this.resolvePath(e,o);var u=I.lift(e);this.assertNode(u);var c=Bt.create({type:"move_node",path:t,newPath:e});e=I.transform(t,c).first();var f=this;return f=f.removeNode(t),f=f.insertNode(e,i),f}},{key:"removeMark",value:function(t,e){t=this.resolvePath(t);var o=this.assertDescendant(t);o=o.removeMark(e);var i=this.replaceNode(t,o);return i}},{key:"removeNode",value:function(t){this.assertDescendant(t),t=this.resolvePath(t);var e=t.flatMap(function(i){return["nodes",i]}),o=this.deleteIn(e);return o}},{key:"removeText",value:function(t,e,o){var i=this.assertDescendant(t);i=i.removeText(e,o.length);var u=this.replaceNode(t,i);return u}},{key:"replaceNode",value:function(t,e){if(t=this.resolvePath(t),!t)throw new Error("Unable to replace a node because it could not be found in the first place: "+t);if(!t.size)return e;this.assertNode(t);var o=t.flatMap(function(u){return["nodes",u]}),i=this.setIn(o,e);return i}},{key:"resolveAnnotation",value:function(t){return t=Ce.create(t),t=t.normalize(this),t}},{key:"resolveDecoration",value:function(t){return t=Pt.create(t),t=t.normalize(this),t}},{key:"resolvePoint",value:function(t){return t=ee.create(t),t=t.normalize(this),t}},{key:"resolveRange",value:function(t){return t=De.create(t),t=t.normalize(this),t}},{key:"resolveSelection",value:function(t){return t=kt.create(t),t=t.normalize(this),t}},{key:"setNode",value:function(t,e){var o=this.assertNode(t);o=o.merge(e);var i=this.replaceNode(t,o);return i}},{key:"setMark",value:function(t,e,o){t=this.resolvePath(t);var i=this.assertDescendant(t);i=i.setMark(e,o);var u=this.replaceNode(t,i);return u}},{key:"siblings",value:function(t,e){var o=this.createIterable(Le({path:t,upward:!1,downward:!1},e));return o}},{key:"splitNode",value:function(t,e,o){var i=this.assertNode(t);t=this.resolvePath(t);var u=void 0,c=void 0;if(i.object==="text"){var f=i.splitText(e),v=R(f,2);u=v[0],c=v[1]}else{var h=i.nodes.take(e),y=i.nodes.skip(e);u=i.set("nodes",h),c=i.set("nodes",y).regenerateKey()}o&&i.object!=="text"&&(c=c.merge(o));var g=this;return g=g.removeNode(t),g=g.insertNode(t,c),g=g.insertNode(t,u),g}},{key:"texts",value:function(t){var e=this.descendants(Le({includeBlocks:!1,includeInlines:!1,includeDocument:!1},t));return e}},{key:"getBlocksAtRange",value:function(t){return D(),this.getLeafBlocksAtRange(t)}},{key:"getBlocksAtRangeAsArray",value:function(t){return D(),this.getLeafBlocksAtRangeAsArray(t)}},{key:"getInlinesAtRange",value:function(t){return D(),this.getLeafInlinesAtRange(t)}},{key:"getInlinesAtRangeAsArray",value:function(t){return D(),this.getLeafInlinesAtRangeAsArray(t)}},{key:"getNextTextAndPath",value:function(t){return D(),this.getNextTextEntry(t)}},{key:"getNextDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};D();var o=this.getNextMatchingNodeAndPath(t);if(!o)return null;for(var i=R(o,2),u=i[0],c=i[1],f=void 0,v=function(){return f=u.object!=="text"&&u.findFirstDescendantAndPath(e,c),f};v();){var h=f,y=R(h,2);u=y[0],c=y[1]}return u?e(u)?[u,c]:this.getNextDeepMatchingNodeAndPath(o[1],e):null}},{key:"getPreviousTextAndPath",value:function(t){return D(),this.getPreviousTextEntry(t)}},{key:"findFirstDescendantAndPath",value:function(t,e){return D(),this.findDescendantAndPath(t,e,!1)}},{key:"getPreviousMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(D(),!t)return null;for(var o=t.size;o>0;o--){var i=t.slice(0,o);if(i.last()!==0){for(var u=I.decrement(i),c=this.getNode(u);c&&!e(c);)u=I.decrement(u),c=this.getNode(u);if(c)return[c,u]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};D();var o=this.getPreviousMatchingNodeAndPath(t);if(!o)return null;for(var i=R(o,2),u=i[0],c=i[1],f=void 0,v=function(){return f=u.object!=="text"&&u.findLastDescendantAndPath(e,c),f};v();){var h=f,y=R(h,2);u=y[0],c=y[1]}return u?e(u)?[u,c]:this.getPreviousDeepMatchingNodeAndPath(o[1],e):null}},{key:"findLastDescendantAndPath",value:function(t,e){return D(),this.findDescendantAndPath(t,e,!0)}},{key:"findDescendantAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.create([]),o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;D();var i=void 0,u=void 0;return this.forEachDescendantWithPath(function(c,f,v){if(t(c,f,v))return i=c,u=f,!1},e,o),i?[i,u]:null}},{key:"forEachDescendantWithPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I.create([]),o=arguments[2];D();var i=this.nodes,u=void 0;return o&&(i=i.reverse()),i.forEach(function(c,f){var v=e.concat(f);if(t(c,v,i)===!1)return u=!1,!1;if(c.object!=="text")return u=c.forEachDescendantWithPath(t,v,o),u}),u}},{key:"getNextMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(D(),!t)return null;for(var o=t.size;o>0;o--){for(var i=t.slice(0,o),u=I.increment(i),c=this.getNode(u);c&&!e(c);)u=I.increment(u),c=this.getNode(u);if(c)return[c,u]}return null}},{key:"getSelectionIndexes",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;D();var o=t.start,i=t.end;if(!e||t.isUnset)return null;if(o.path.equals(i.path)){var u=this.getFurthestAncestor(o.path),c=u?this.nodes.indexOf(u):null;return{start:c,end:c+1}}var f=null,v=null;return this.nodes.forEach(function(h,y){return h.object==="text"?(f==null&&h.key===o.key&&(f=y),v==null&&h.key===i.key&&(v=y+1)):(f==null&&h.hasDescendant(o.key)&&(f=y),v==null&&h.hasDescendant(i.key)&&(v=y+1)),f==null||v==null}),e&&f==null&&(f=0),e&&v==null&&(v=this.nodes.size),f==null?null:{start:f,end:v}}},{key:"getTextsBetweenPositionsAsArray",value:function(t,e){return D(),t=this.resolvePath(t),e=this.resolvePath(e),this.getTextsBetweenPathPositionsAsArray(t,e)}},{key:"getOrderedMarksBetweenPositions",value:function(t,e,o,i){D(),t=this.resolvePath(t),o=this.resolvePath(o);var u=this.getDescendant(t);if(I.isEqual(t,o))return u.marks;var c=this.getTextsBetweenPathPositionsAsArray(t,o);return E.OrderedSet().withMutations(function(f){c.forEach(function(v){f.union(v.marks)})})}},{key:"getTextsBetweenPathPositionsAsArray",value:function(t,e){if(D(),t&&e&&I.isEqual(t,e))return[this.getDescendant(t)];if(!t&&!e)return this.getTextsAsArray();var o=t?t.get(0,0):0,i=e?e.get(0,this.nodes.size-1):this.nodes.size-1,u=[];return this.nodes.slice(o,i+1).forEach(function(c,f){if(c.object==="text")u.push(c);else{var v=t&&f===0?I.drop(t):null,h=e&&f===i-o?I.drop(e):null;u=u.concat(c.getTextsBetweenPathPositionsAsArray(v,h))}}),u}},{key:"getFurthestAncestor",value:function(t){return D(),this.getFurthestChild(t)}},{key:"getLeafBlocksAtRangeAsArray",value:function(t){if(D(),t=this.resolveRange(t),t.isUnset)return[];var e=t,o=e.start,i=e.end;return this.getLeafBlocksBetweenPathPositionsAsArray(o.path,i.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function(t,e){if(D(),t&&e&&I.isEqual(t,e))return[this.getClosestBlock(t)];if(!t&&!e)return this.getBlocksAsArray();var o=t?t.get(0,0):0,i=e?e.get(0,this.nodes.size-1):this.nodes.size-1,u=[];return this.nodes.slice(o,i+1).forEach(function(c,f){if(c.object==="block")if(c.isLeafBlock())u.push(c);else{var v=t&&f===0?I.drop(t):null,h=e&&f===i-o?I.drop(e):null;u=u.concat(c.getLeafBlocksBetweenPathPositionsAsArray(v,h))}}),u}},{key:"getBlocksAsArray",value:function(){D();var t=this.blocks({onlyLeaves:!0}),e=Array.from(t,function(o){var i=R(o,1),u=i[0];return u});return e}},{key:"getBlocksByTypeAsArray",value:function(t){D();var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]}),o=Array.from(e,function(i){var u=R(i,1),c=u[0];return c});return o}},{key:"getFurthestOnlyChildAncestor",value:function(t){D();var e=this.getAncestors(t);if(!e)return null;var o=e.rest().reverse().takeUntil(function(i){return i.nodes.size>1}).last();return o||null}},{key:"getInlinesAsArray",value:function(){D();var t=Array.from(this.inlines({onlyLeaves:!0}),function(e){var o=R(e,1),i=o[0];return i});return t}},{key:"getInlinesByTypeAsArray",value:function(t){D();var e=Array.from(this.inlines({onlyLeaves:!0,onlyTypes:[t]}),function(o){var i=R(o,1),u=i[0];return u});return e}},{key:"getLeafInlinesAtRangeAsArray",value:function(t){var e=this;if(D(),t=this.resolveRange(t),t.isUnset)return[];var o=this.getTextsAtRangeAsArray(t).map(function(i){return e.getClosestInline(i.key)}).filter(function(i){return i});return o}},{key:"getOrderedMarks",value:function(){return D(),this.getMarks()}},{key:"getOrderedMarksAtRange",value:function(t){return D(),this.getMarksAtRange(t)}},{key:"getOrderedMarksByType",value:function(t){return D(),this.getMarksByType(t)}},{key:"getMarksByTypeAsArray",value:function(t){D();var e=this.nodes.reduce(function(o,i){return i.object==="text"?o.concat(i.marks.filter(function(u){return u.type===t})):o.concat(i.getMarksByTypeAsArray(t))},[]);return e}},{key:"getMarksAsArray",value:function(){var t;D();var e=[],o=!0,i=!1,u=void 0;try{for(var c=this.texts()[Symbol.iterator](),f;!(o=(f=c.next()).done);o=!0){var v=f.value,h=R(v,1),y=h[0];e.push(y.marks.toArray())}}catch(k){i=!0,u=k}finally{try{!o&&c.return&&c.return()}finally{if(i)throw u}}var g=(t=[]).concat.apply(t,e);return g}},{key:"getRootInlinesAtRangeAsArray",value:function(t){var e=this;if(D(),t=this.resolveRange(t),t.isUnset)return E.List();var o=this.getTextsAtRangeAsArray(t).map(function(i){return e.getFurthestInline(i.key)}).filter(function(i){return i});return o}},{key:"getTextsAsArray",value:function(){D();var t=this.texts(),e=Array.from(t,function(o){var i=R(o,1),u=i[0];return u});return e}},{key:"getTextsAtRangeAsArray",value:function(t){D();var e=this.texts({range:t}),o=Array.from(e,function(i){var u=R(i,1),c=u[0];return c});return o}},{key:"getMarksAtPosition",value:function(t,e){D(),t=this.resolvePath(t);var o=this.getDescendant(t),i=o.marks;if(e!==0)return E.OrderedSet(i);var u=this.getClosestBlock(t);if(u.text==="")return E.OrderedSet(i);var c=this.texts({path:t,direction:"backward"}),f=R(c,1),v=f[0];if(!v)return E.OrderedSet();var h=R(v,2),y=h[0],g=h[1];return u.hasDescendant(g)?E.OrderedSet(y.marks):E.OrderedSet(i)}},{key:"getNodesAtRange",value:function(t){D();var e=this.descendants({range:t}),o=Array.from(e,function(u){var c=R(u,1),f=c[0];return f}),i=E.List(o);return i}},{key:"isNodeInRange",value:function(t,e){return D(),this.isInRange(t,e)}},{key:"text",get:function(){return this.getText()}}]),r}(),Fc=["Child","Depth","Descendant","Node","Parent","Path"],Pc=function(n){Wn.prototype["assert"+n]=function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];var u=this["get"+n].apply(this,[t].concat(o));if(u==null)throw new Error("`Node.assert"+n+"` could not find node with path or key: "+t);return u}},Nn=!0,ro=!1,no=void 0;try{for(var En=Fc[Symbol.iterator](),ao;!(Nn=(ao=En.next()).done);Nn=!0){var Bc=ao.value;Pc(Bc)}}catch(r){ro=!0,no=r}finally{try{!Nn&&En.return&&En.return()}finally{if(ro)throw no}}Po(Wn.prototype,["getBlocksAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getInsertMarksAtRange","getLeafBlocksAtRangeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getMarksByTypeAsArray","getNextBlock","getNodesAtRange","getNodesToPathsMap","getOffset","getOffsetAtRange","getOrderedMarksBetweenPositions","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]);mr(Wn,[rt,it,tt]);var Ic=function(){function r(){Ae(this,r)}return we(r,[{key:"flip",value:function(){var t=this.setPoints([this.focus,this.anchor]);return t}},{key:"moveForward",value:function(t){return this.updatePoints(function(e){return e.moveForward(t)})}},{key:"moveBackward",value:function(t){return this.updatePoints(function(e){return e.moveBackward(t)})}},{key:"moveAnchorBackward",value:function(t){var e=this.setAnchor(this.anchor.moveBackward(t));return e}},{key:"moveAnchorForward",value:function(t){var e=this.setAnchor(this.anchor.moveForward(t));return e}},{key:"moveAnchorTo",value:function(t,e){var o=this.setAnchor(this.anchor.moveTo(t,e));return o}},{key:"moveAnchorToStartOfNode",value:function(t){var e=this.setAnchor(this.anchor.moveToStartOfNode(t));return e}},{key:"moveAnchorToEndOfNode",value:function(t){var e=this.setAnchor(this.anchor.moveToEndOfNode(t));return e}},{key:"moveEndBackward",value:function(t){var e=this.setEnd(this.end.moveBackward(t));return e}},{key:"moveEndForward",value:function(t){var e=this.setEnd(this.end.moveForward(t));return e}},{key:"moveEndTo",value:function(t,e){var o=this.setEnd(this.end.moveTo(t,e));return o}},{key:"moveEndToStartOfNode",value:function(t){var e=this.setEnd(this.end.moveToStartOfNode(t));return e}},{key:"moveEndToEndOfNode",value:function(t){var e=this.setEnd(this.end.moveToEndOfNode(t));return e}},{key:"moveFocusBackward",value:function(t){var e=this.setFocus(this.focus.moveBackward(t));return e}},{key:"moveFocusForward",value:function(t){var e=this.setFocus(this.focus.moveForward(t));return e}},{key:"moveFocusTo",value:function(t,e){var o=this.setFocus(this.focus.moveTo(t,e));return o}},{key:"moveFocusToStartOfNode",value:function(t){var e=this.setFocus(this.focus.moveToStartOfNode(t));return e}},{key:"moveFocusToEndOfNode",value:function(t){var e=this.setFocus(this.focus.moveToEndOfNode(t));return e}},{key:"moveStartBackward",value:function(t){var e=this.setStart(this.start.moveBackward(t));return e}},{key:"moveStartForward",value:function(t){var e=this.setStart(this.start.moveForward(t));return e}},{key:"moveStartTo",value:function(t,e){var o=this.setStart(this.start.moveTo(t,e));return o}},{key:"moveStartToStartOfNode",value:function(t){var e=this.setStart(this.start.moveToStartOfNode(t));return e}},{key:"moveStartToEndOfNode",value:function(t){var e=this.setStart(this.start.moveToEndOfNode(t));return e}},{key:"moveTo",value:function(t,e){return this.updatePoints(function(o){return o.moveTo(t,e)})}},{key:"moveToAnchor",value:function(){var t=this.setFocus(this.anchor);return t}},{key:"moveToEnd",value:function(){var t=this.setStart(this.end);return t}},{key:"moveToEndOfNode",value:function(t){return this.updatePoints(function(e){return e.moveToEndOfNode(t)})}},{key:"moveToFocus",value:function(){var t=this.setAnchor(this.focus);return t}},{key:"moveToRangeOfNode",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,o=this.setPoints([this.anchor.moveToStartOfNode(t),this.focus.moveToEndOfNode(e)]);return o}},{key:"moveToStart",value:function(){var t=this.setEnd(this.start);return t}},{key:"moveToStartOfNode",value:function(t){return this.updatePoints(function(e){return e.moveToStartOfNode(t)})}},{key:"normalize",value:function(t){return this.updatePoints(function(e){return e.normalize(t)})}},{key:"setAnchor",value:function(t){var e=this.set("anchor",t);return e}},{key:"setEnd",value:function(t){var e=this.isBackward?this.setAnchor(t):this.setFocus(t);return e}},{key:"setFocus",value:function(t){var e=this.set("focus",t);return e}},{key:"setPoints",value:function(t){var e=R(t,2),o=e[0],i=e[1],u=this.set("anchor",o).set("focus",i);return u}},{key:"updatePoints",value:function(t){var e=this.anchor,o=this.focus;return e=t(e),o=t(o),this.merge({anchor:e,focus:o})}},{key:"setStart",value:function(t){var e=this.isBackward?this.setFocus(t):this.setAnchor(t);return e}},{key:"setProperties",value:function(t){t=De.createProperties(t);var e=t,o=e.anchor,i=e.focus,u=Ut(e,["anchor","focus"]);o&&(u.anchor=ee.create(o)),i&&(u.focus=ee.create(i));var c=this.merge(u);return c}},{key:"toJSON",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}},{key:"toRange",value:function(){var t=De.createProperties(this),e=De.create(t);return e}},{key:"unset",value:function(){var t=this.updatePoints(function(e){return e.unset()});return t}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var t=this.isUnset,e=this.anchor,o=this.focus;if(t)return null;if(e.key===o.key)return e.offset>o.offset;var i=I.isBefore(o.path,e.path);return i}},{key:"isForward",get:function(){var t=this.isBackward,e=t==null?null:!t;return e}},{key:"isUnset",get:function(){var t=this.anchor,e=this.focus,o=t.isUnset||e.isUnset;return o}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),r}();mr(Ic,[Ce,Pt,De,kt]);const Cc=co().use(ci).use(fo).use(lo).use(Mi);co().use(Bi).use(fo).use(lo).use(fi);const oo=r=>mt.fromJSON(Cc.processSync(r).result),$c={title:"Playground/Slate ~0.47"},Rc=({children:r})=>lr("div",{style:bn.useMemo(()=>({width:"100vw",height:"100vh",display:"flex",flexDirection:"row",fontSize:"10.5pt"}),[]),children:r}),Cr={render:()=>{const[r,n]=bn.useState(oo($a)),t=bn.useRef(null);return li(Rc,{children:[lr(vi,{ref:t,initialValue:$a}),lr("div",{style:{padding:10},children:lr("button",{style:{height:"100%"},onClick:()=>{t.current&&n(oo(t.current.value))},children:"md -> slate"})}),lr(di,{children:JSON.stringify(r,null,2)})]})}};var io,so,uo;Cr.parameters={...Cr.parameters,docs:{...(io=Cr.parameters)==null?void 0:io.docs,source:{originalSource:`{
  render: () => {
    const [value, setValue] = useState(toSlate(text));
    const ref = useRef<HTMLTextAreaElement>(null);
    return <Wrapper>
        <TextEditor ref={ref} initialValue={text} />
        <div style={{
        padding: 10
      }}>
          <button style={{
          height: "100%"
        }} onClick={() => {
          if (!ref.current) return;
          setValue(toSlate(ref.current.value));
        }}>
            {"md -> slate"}
          </button>
        </div>
        <Text>{JSON.stringify(value, null, 2)}</Text>
      </Wrapper>;
  }
}`,...(uo=(so=Cr.parameters)==null?void 0:so.docs)==null?void 0:uo.source}}};const qc=["MarkdownToSlateJson"];export{Cr as MarkdownToSlateJson,qc as __namedExportsOrder,$c as default};
//# sourceMappingURL=legacy.stories-a4d43946.js.map
